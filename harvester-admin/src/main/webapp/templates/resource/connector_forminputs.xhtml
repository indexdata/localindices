<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:ui="http://java.sun.com/jsf/facelets"       
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:id="http://java.sun.com/jsf/composite/indexdata">
  <body>
    <ui:composition>

      <h5>Connector specific information: </h5>
      <h:panelGrid columns="2">
        <h:outputText value="CF Engine:" styleClass="required" />
        <h:panelGroup>
          <h:selectOneMenu id="engineUrl" value="#{resourceController.resource.connectorEngineUrlSetting}" 
                           converter="settingsConverter"
                           requiredMessage="Please select a Connector Engine!"
                           required="true">
            <f:selectItems value="#{settings.connectorEngines}" var="s" itemValue="#{s}" itemLabel="#{s.label}" />
          </h:selectOneMenu>
          <h:message for="engineUrl" style="color: red;"/>
        </h:panelGroup>
        <h:outputText value="CF Repository:" styleClass="required" />
        <h:panelGroup>
          <h:selectOneMenu id="repoUrl" 
                           value="#{resourceController.resource.connectorRepoUrlSetting}" 
                           converter="settingsConverter"
                           requiredMessage="Please select a Connector Repository!"
                           required="true"
                           valueChangeListener="#{repoController.repoUrlChanged}">
            <f:selectItems value="#{settings.connectorRepos}" var="s" 
                           itemValue="#{s}" itemLabel="#{s.label}" />
            <f:ajax />
          </h:selectOneMenu>
          <h:message for="repoUrl" style="color: red;"/>
        </h:panelGroup>
        <h:outputText value="Connector (type for suggestion):"  styleClass="required"/>
        <h:panelGroup>
          <id:autoComplete id="connector" value="#{resourceController.resource.connector}"
                             completionItems="#{repoController.connectors}"
                             completionItemConverter="objectConverter"
                             required="true" 
                             requiredMessage="Please provide the Connector filename!"/>
          <h:message for="connector:input" style="color: red;"/>
        </h:panelGroup>
        <h:outputText value="User Name:" styleClass="optionalInput"/>
        <h:inputText  value="#{resourceController.resource.username}" size="20" styleClass="optionalInput" />
        <h:outputText value="Password:" styleClass="optionalInput" />
        <h:inputText  value="#{resourceController.resource.password}" size="20" styleClass="optionalInput"/>
        <h:outputText value="Proxy server address:" styleClass="optionalInput" />
        <h:inputText  value="#{resourceController.resource.proxy}" size="20" styleClass="optionalInput"/>
        <h:outputText value="Init Data" styleClass="optionalInput"/> 
        <h:inputTextarea cols="60" rows="4" value="#{resourceController.resource.initData}" styleClass="optionalInput"/>
        <h:outputText value="Harvest from (yyyy-MM-dd):" styleClass="optionalInput"/>
        <h:inputText value="#{resourceController.resource.fromDate}" size="8" styleClass="optionalInput">
          <f:convertDateTime pattern="yyyy-MM-dd" />
        </h:inputText>
        <h:outputText value="Harvest until (yyyy-MM-dd):" styleClass="optionalInput"/>
        <h:inputText value="#{resourceController.resource.untilDate}" size="8" styleClass="optionalInput">
          <f:convertDateTime pattern="yyyy-MM-dd" />
        </h:inputText>
        <h:outputText value="Start token (incremental harvest):" styleClass="optionalInput"/>
        <h:inputText value="#{resourceController.resource.resumptionToken}" styleClass="optionalInput"/>
        <h:outputText value="Delay between requests (milliseconds):" styleClass="optionalInput" />
        <h:inputText value="#{resourceController.resource.sleep}" styleClass="optionalInput"/>
        <h:outputText value="Failed request retry count:" styleClass="optionalInput" />
        <h:inputText value="#{resourceController.resource.retryCount}" styleClass="optionalInput"/>
        <h:outputText value="Continue on errors:" styleClass="optionalInput" />
        <h:selectBooleanCheckbox value="#{resourceController.resource.allowErrors}"/>
      </h:panelGrid>
    </ui:composition>
  </body>
</html>