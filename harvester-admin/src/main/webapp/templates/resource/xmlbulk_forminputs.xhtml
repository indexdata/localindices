<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:id="http://java.sun.com/jsf/composite/indexdata">
  <body>
    <ui:composition>

      <h5>XML bulk specific information:</h5>
      <h:panelGrid columns="2">
        <h:outputText value="URLs (space-separated):"/>
        <h:panelGroup>
          <h:inputTextarea id="resourceUrls" 
                         cols="60" rows="15" value="#{resourceController.resource.url}"
           required="true" requiredMessage="Please provide target URL(s)!"/>
          <id:helplink field="[Harvest Jobs][XML bulk specific information][URLs (space-separated)]"/>
          <h:message for="resourceUrls" style="color: red;"/>
        </h:panelGroup>
        <h:outputText value="Continue on errors:"/>
        <h:panelGroup>
          <h:selectBooleanCheckbox value="#{resourceController.resource.allowErrors}"/>
          <id:helplink field="[Harvest Jobs][XML bulk specific information][Continue on errors]"/>
        </h:panelGroup>
        <h:outputText value="Overwrite data with each run (non-incremental):" />
        <h:panelGroup>
          <h:selectBooleanCheckbox
              value="#{resourceController.resource.overwrite}" />
          <id:helplink field="[Harvest Jobs][XML bulk specific information][Overwrite data with each run (non-incremental)]"/>    
        </h:panelGroup>
        <h:outputText value="Ask server for new files only (incremental):"/>
        <h:panelGroup>
          <h:selectBooleanCheckbox value="#{resourceController.resource.allowCondReq}"/>
          <id:helplink field="[Harvest Jobs][XML bulk specific information][Ask server for new files only (incremental)]"/>
        </h:panelGroup>
        <h:outputText value="Initial from date (if incremental, yyyy-MM-dd):"/>
        <h:panelGroup>
            <h:inputText id="fromDate" value="#{resourceController.resource.fromDate}" size="8">
                <f:convertDateTime pattern="yyyy-MM-dd" />
            </h:inputText>
            <h:message for="fromDate" style="color: red;" />
        </h:panelGroup>
        <h:outputText value="Split XML at depth (zero/empty disables split):"/>
        <h:panelGroup>
          <h:inputText value="#{resourceController.resource.splitAt}"/>
          <id:helplink field="[Harvest Jobs][XML bulk specific information][Split XML at depth (zero/empty disables split)]"/>
        </h:panelGroup>
        <h:outputText value="Split files at number of records (zero/empty disables split):"/>
        <h:panelGroup>
          <h:inputText value="#{resourceController.resource.splitSize}"/>
          <id:helplink field="[Harvest Jobs][XML bulk specific information][Split files at number of records (zero/empty disables split)]"/>
        </h:panelGroup>
        <h:outputText value="Mime-type override (e.g: application/marc; charset=MARC-8)"/>
        <h:panelGroup>
          <h:inputText value="#{resourceController.resource.expectedSchema}"/>
          <id:helplink field="[Harvest Jobs][XML bulk specific information][Mime-type override (e.g: application/marc; charset=MARC-8)]"/>
        </h:panelGroup>
        <h:outputText value="MARC XML transformation format (application/marc or application/tmarc)"/>
        <h:panelGroup>
          <h:inputText value="#{resourceController.resource.outputSchema}"/>
          <id:helplink field="[Harvest Jobs][XML bulk specific information][MARC XML transformation format (application/marc or application/tmarc)]"/>
        </h:panelGroup>
        <h:outputText value="Recurse into subfolders"/>
        <h:panelGroup>
          <h:selectBooleanCheckbox value="#{resourceController.resource.recurse}"/>
          <id:helplink field="[Harvest Jobs][XML bulk specific information][Recurse into subfolders]"/>
        </h:panelGroup>
        <h:outputText value="Use passive mode for FTP transfers"/>
        <h:panelGroup>
          <h:selectBooleanCheckbox value="#{resourceController.resource.passiveMode}"/>
          <id:helplink field="[Harvest Jobs][XML bulk specific information][Use passive mode for FTP transfers]"/>
        </h:panelGroup>
        <h:outputText value="CSV parser configuration:"/>
        <h:inputText value="#{resourceController.resource.csvConfiguration}" size="90"/>
      </h:panelGrid>
    </ui:composition>
  </body>
</html>
