-- MySQL dump 10.13  Distrib 5.6.23, for osx10.10 (x86_64)
--
-- Host: localhost    Database: localindices
-- ------------------------------------------------------
-- Server version	5.6.23

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `HARVESTABLE`
--

DROP TABLE IF EXISTS `HARVESTABLE`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `HARVESTABLE` (
  `ID` bigint(20) NOT NULL,
  `DTYPE` varchar(31) DEFAULT NULL,
  `ENABLED` tinyint(1) DEFAULT '0',
  `LASTUPDATED` datetime DEFAULT NULL,
  `DESCRIPTION` mediumtext,
  `INITIALLYHARVESTED` datetime DEFAULT NULL,
  `TECHNICALNOTES` mediumtext,
  `LASTHARVESTSTARTED` datetime DEFAULT NULL,
  `SCHEDULESTRING` varchar(255) DEFAULT NULL,
  `LASTHARVESTFINISHED` datetime DEFAULT NULL,
  `NAME` varchar(255) DEFAULT NULL,
  `CURRENTSTATUS` varchar(255) DEFAULT NULL,
  `CONTACTNOTES` mediumtext,
  `AMOUNTHARVESTED` int(11) DEFAULT NULL,
  `SERVICEPROVIDER` varchar(255) DEFAULT NULL,
  `MESSAGE` mediumtext,
  `MAXDBSIZE` int(11) DEFAULT NULL,
  `HARVESTIMMEDIATELY` tinyint(1) NOT NULL DEFAULT '0',
  `FILETYPEMASKS` varchar(255) DEFAULT NULL,
  `URIMASKS` varchar(255) DEFAULT NULL,
  `STARTURLS` mediumtext,
  `RECURSIONDEPTH` int(11) DEFAULT NULL,
  `EXPECTEDSCHEMA` varchar(255) DEFAULT NULL,
  `URL` mediumtext,
  `NORMALIZATIONFILTER` varchar(255) DEFAULT NULL,
  `SCHEMAURI` varchar(255) DEFAULT NULL,
  `OAISETNAME` varchar(255) DEFAULT NULL,
  `FROMDATE` datetime DEFAULT NULL,
  `UNTILDATE` datetime DEFAULT NULL,
  `METADATAPREFIX` varchar(255) DEFAULT NULL,
  `DATEFORMAT` varchar(255) DEFAULT NULL,
  `RESUMPTIONTOKEN` varchar(255) DEFAULT NULL,
  `STORAGE_ID` bigint(20) DEFAULT NULL,
  `TRANSFORMATION_ID` bigint(20) DEFAULT NULL,
  `OVERWRITE` tinyint(1) DEFAULT NULL,
  `SPLITAT` varchar(255) DEFAULT NULL,
  `SPLITSIZE` varchar(255) DEFAULT NULL,
  `OUTPUTSCHEMA` mediumtext,
  `ENCODING` varchar(255) DEFAULT NULL,
  `CLIENTCLASS` varchar(255) DEFAULT NULL,
  `USERNAME` varchar(255) DEFAULT NULL,
  `PASSWORD` varchar(255) DEFAULT NULL,
  `PROXY` varchar(255) DEFAULT NULL,
  `ISPERSISTENCE` tinyint(1) DEFAULT NULL,
  `INITDATA` mediumtext,
  `SLEEP` int(11) DEFAULT NULL,
  `CONNECTORURL` mediumtext,
  `ALLOWERRORS` tinyint(4) DEFAULT NULL,
  `ALLOWCONDREQ` tinyint(4) DEFAULT NULL,
  `CLEARRTONERROR` tinyint(1) NOT NULL DEFAULT '0',
  `KEEPPARTIAL` tinyint(1) NOT NULL DEFAULT '1',
  `TIMEOUT` smallint(6) NOT NULL DEFAULT '300',
  `RETRYCOUNT` tinyint(3) NOT NULL DEFAULT '2',
  `RETRYWAIT` smallint(4) NOT NULL DEFAULT '60',
  `LOGLEVEL` varchar(30) DEFAULT NULL,
  `MAILLEVEL` varchar(30) DEFAULT NULL,
  `MAILADDRESS` varchar(1000) DEFAULT NULL,
  `CONNECTORENGINEURLSETTING_ID` bigint(20) DEFAULT NULL,
  `CONNECTORREPOURLSETTING_ID` bigint(20) DEFAULT NULL,
  `RECORDLIMIT` bigint(20) DEFAULT NULL,
  `DISKRUN` tinyint(1) NOT NULL DEFAULT '0',
  `CACHEENABLED` tinyint(1) NOT NULL DEFAULT '0',
  `ENGINEPARAMETERS` varchar(4096) DEFAULT NULL,
  `OPENACCESS` tinyint(1) NOT NULL DEFAULT '0',
  `ORIGINALURI` varchar(1024) DEFAULT NULL,
  `JSON` text,
  `LAXPARSING` tinyint(1) NOT NULL DEFAULT '0',
  `PASSIVEMODE` tinyint(1) NOT NULL DEFAULT '0',
  `RECURSIONLEVELS` tinyint(2) NOT NULL DEFAULT '0',
  `STORAGEBATCHLIMIT` smallint(4) DEFAULT NULL,
  `EXCLUDEFILEPATTERN` varchar(1024) DEFAULT NULL,
  `INCLUDEFILEPATTERN` varchar(1024) DEFAULT NULL,
  `CSVCONFIGURATION` varchar(1024) DEFAULT NULL,
  `MANAGEDBY` varchar(1024) DEFAULT NULL,
  `USEDBY` varchar(1024) DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `FK_HARVESTABLE_STORAGE_ID` (`STORAGE_ID`),
  CONSTRAINT `FK_HARVESTABLE_STORAGE_ID` FOREIGN KEY (`STORAGE_ID`) REFERENCES `storage` (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;


LOCK TABLES `HARVESTABLE` WRITE;
/*!40000 ALTER TABLE `HARVESTABLE` DISABLE KEYS */;
INSERT INTO `HARVESTABLE` VALUES (255,'OaiPmhResource',0,'2013-09-05 15:44:54','Open Content','2011-05-22 22:01:29','','2013-09-05 14:50:02','0 9 * * 5',NULL,'Internet Archive','NEW','',NULL,'',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,'http://www.archive.org/services/oai.php','',NULL,'collection:americana',NULL,'2013-08-29 02:00:00','oai_dc','yyyy-MM-dd','',5752,10,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,NULL,0,1,60,2,60,NULL,NULL,NULL,NULL,0,0,NULL,1,2,0,NULL,NULL,0,0,0,NULL,NULL,NULL,NULL,NULL,NULL),(3552,'XmlBulkResource',1,'2014-09-24 08:33:27','','2011-12-28 21:22:32','','2015-06-10 10:10:00','10 10 10 6 *','2015-06-10 10:32:11','Project Gutenberg','OK','',45290,'Project Gutenberg',NULL,NULL,0,NULL,NULL,NULL,NULL,'','http://gutenberg.readingroo.ms/cache/generated/feeds/catalog.rdf.zip',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,5752,3102,1,'1','1000','',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,NULL,0,1,60,2,60,'DEBUG','WARN','',NULL,0,0,NULL,1,2,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,NULL,NULL),(3602,'XmlBulkResource',1,'2014-02-05 21:42:12','  ','2011-12-29 12:54:33','','2016-04-28 12:00:00','0 12 * * 4','2016-04-28 12:00:00','Wikipedia (English)','ERROR','',0,'Wikipedia Foundation','ClientTransportError, Failed to download/parse/store : http://dumps.wikimedia.org/enwiki/latest/enwiki-latest-abstract.xml ',NULL,0,NULL,NULL,NULL,NULL,'','http://dumps.wikimedia.org/enwiki/latest/enwiki-latest-abstract.xml',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,5752,3603,0,'1','1000','',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,1,0,0,1,60,2,60,'INFO','WARN','',NULL,0,0,NULL,1,2,1,NULL,NULL,0,0,0,NULL,NULL,NULL,NULL,NULL,NULL),(3902,'XmlBulkResource',1,'2014-02-05 21:20:34','','2013-09-12 11:12:17','','2015-08-15 09:00:00','0 9 15 * 6','2015-08-15 09:00:01','OAIster','ERROR',' ',0,'Open Archive Initiative','Failed to download/parse/store : http://maki.indexdata.com/marcdata/meta/oaister/harvester-index.html ',NULL,0,NULL,NULL,NULL,NULL,'application/marc','http://maki.indexdata.com/marcdata/meta/oaister/harvester-index.html',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,5752,2954,0,'1','1000','application/tmarc',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,1,0,0,1,60,2,60,'INFO','WARN','',NULL,0,0,NULL,1,2,1,NULL,NULL,0,0,0,NULL,NULL,NULL,NULL,NULL,NULL),(4902,'OaiPmhResource',1,'2015-07-07 21:43:29','','2013-01-04 07:00:59','','2016-04-25 05:00:00','0 5 * * 1','2016-04-25 05:00:01','ARTstor (Set1)','WARN','',0,'','No Records matched',NULL,0,NULL,NULL,NULL,NULL,NULL,'http://oai.artstor.org/oaicatmuseum/OAIHandler',NULL,NULL,'SetArtstorFull1','2016-04-25 05:00:00',NULL,'oai_dc','yyyy-MM-dd',NULL,5752,5004,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,NULL,0,1,60,2,60,'INFO','WARN','',NULL,0,0,NULL,1,2,0,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'','Credo'),(4903,'OaiPmhResource',1,'2015-07-08 14:13:23','','2013-01-04 07:00:59','','2016-04-26 11:00:00','0 11 * * 2','2016-04-26 11:00:01','ARTstor (Set2)','WARN','',0,'','No Records matched',NULL,0,NULL,NULL,NULL,NULL,NULL,'http://oai.artstor.org/oaicatmuseum/OAIHandler',NULL,NULL,'SetArtstorFull2','2016-04-26 11:00:00',NULL,'oai_dc','yyyy-MM-dd',NULL,5752,5004,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,NULL,0,1,60,2,60,'INFO','WARN','',NULL,0,0,NULL,1,2,0,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'','Credo'),(4904,'OaiPmhResource',1,'2015-09-21 14:28:32','','2013-01-05 11:33:24','','2016-04-27 04:00:00','0 4 * * 3','2016-04-27 04:00:00','ARTstor (Set3)','WARN','',0,' ','No Records matched',NULL,0,NULL,NULL,NULL,NULL,NULL,'http://oai.artstor.org/oaicatmuseum/OAIHandler',NULL,NULL,'SetArtstorFull3','2016-04-27 04:00:00',NULL,'oai_dc','yyyy-MM-dd',NULL,5752,5004,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,NULL,0,1,60,2,60,'INFO','WARN','',NULL,0,0,NULL,1,2,0,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'','Credo'),(4905,'OaiPmhResource',1,'2015-07-07 21:45:16','Credo','2013-01-05 11:37:20','','2016-04-28 04:00:00','0 4 * * 4','2016-04-28 04:00:01','ARTstor (Set4)','WARN','',0,'','No Records matched',NULL,0,NULL,NULL,NULL,NULL,NULL,'http://oai.artstor.org/oaicatmuseum/OAIHandler',NULL,NULL,'SetArtstorFull4','2016-04-28 04:00:00',NULL,'oai_dc','yyyy-MM-dd',NULL,5752,5004,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,NULL,0,1,60,2,60,'INFO','WARN','',NULL,0,0,NULL,1,2,0,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'','Credo'),(5409,'HarvestConnectorResource',0,'2015-05-28 22:01:45','','2013-06-19 16:37:02','','2015-03-16 14:18:00','18 14 16 3 *','2015-03-16 14:18:04','NBER Digest','NEW','',0,'The National Bureau of Economic Research',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,'http://connect-test.indexdata.com:80/connector',NULL,NULL,NULL,NULL,NULL,NULL,NULL,'',5752,5303,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'',3333,'NBER.cf',1,NULL,0,1,60,2,60,'INFO','WARN','',NULL,0,0,'',1,2,0,NULL,'',0,0,0,NULL,NULL,NULL,NULL,NULL,NULL),(5802,'XmlBulkResource',0,'2014-10-13 13:09:53','','2013-07-08 10:11:26','','2014-10-11 09:00:00','0 9 * * 6','2014-10-11 09:00:06','LoC (Full)','NEW','',0,'LoC, hosted at Index Data',NULL,NULL,0,NULL,NULL,NULL,NULL,'application/marc; charset=MARC-8','http://maki.indexdata.com/marcdata/meta/loc/harvester-index.html',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,5752,2954,0,'1','1000','application/tmarc',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,1,0,0,1,60,2,60,'INFO','WARN','',NULL,0,0,NULL,1,2,0,NULL,'',0,0,0,NULL,NULL,NULL,NULL,NULL,NULL),(5853,'HarvestConnectorResource',1,'2015-06-18 21:45:36','','2013-08-15 22:40:55','','2015-06-04 10:10:00','0 0 17 6 3','2014-10-24 21:35:14','Gottlieb Photograph Collection (harvester)','NEW','Index Data/cl',NULL,'Library of Congress',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,'http://connect-test.indexdata.com:80/connector',NULL,NULL,NULL,NULL,NULL,NULL,NULL,'',5752,6053,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'',8888,'gottlieb_harvester.cf',1,NULL,0,1,120,1,60,'DEBUG','WARN','charles@indexdata.com',NULL,0,0,'',6829,6402,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'',''),(5902,'HarvestConnectorResource',1,'2015-01-08 22:37:52','Can this field be blank','2013-07-31 18:32:45','','2015-11-30 05:00:00','0 5 30 * 1','2015-11-30 06:42:25','BMC Research Notes','WARN','',1545,'BioMed Central','Completed with problems, see logfile for details.',NULL,0,NULL,NULL,NULL,NULL,NULL,'http://ebsco2.indexdata.com:9000/connector',NULL,NULL,NULL,NULL,NULL,NULL,NULL,'',5752,5502,1,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'{}',1000,'bmc_research_notes.cf',1,NULL,0,1,60,2,60,'INFO','WARN','',NULL,0,0,'',1,2,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,NULL,NULL),(5903,'HarvestConnectorResource',1,'2014-04-09 15:21:52','','2013-08-15 22:39:26','','2016-02-04 00:00:00','0 0 4 2 *','2016-02-04 00:00:04','Cylinder Archive','WARN','',0,'Internet Archive','No records harvested',NULL,0,NULL,NULL,NULL,NULL,NULL,'http://connect-test.indexdata.com:80/connector',NULL,NULL,NULL,NULL,NULL,NULL,NULL,'',5752,5502,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'',3333,'cylinder_archive_harvester.cf',0,NULL,0,1,60,2,60,'INFO','WARN','',NULL,0,0,'',1,2,1,NULL,NULL,0,0,0,NULL,NULL,NULL,NULL,NULL,NULL),(6102,'HarvestConnectorResource',1,'2016-02-09 14:27:26','','2013-08-12 22:36:36','','2016-01-12 10:00:00','0 0 3 1 6','2015-06-04 11:54:24','TED: Technology, Entertainment, Design','NEW','',NULL,'TED Conferences, LLC',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,'http://connect-test.indexdata.com:80/connector',NULL,NULL,NULL,NULL,NULL,NULL,NULL,'',5752,5502,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'',2500,'ted_harvester.cf',1,NULL,0,1,120,1,60,'INFO','WARN','',NULL,0,0,'',6828,2,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'',''),(6103,'HarvestConnectorResource',1,'2016-02-08 16:42:05','Video and audio files','2013-08-13 04:03:20','','2016-01-31 00:00:00','0 0 * 1 *','2014-01-31 00:15:48','ScienceCinema','NEW','',NULL,'osti.gov',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,'http://connect-test.indexdata.com:80/connector',NULL,NULL,NULL,NULL,NULL,NULL,NULL,'{\"start\": [\"http:\\/\\/www.osti.gov\\/sciencecinema\\/searchresults.jsp?query_id=0&page=24\"]}',5752,5502,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'{}',500,'sciencecinema.cf',1,NULL,0,1,60,2,60,'INFO','WARN','',NULL,0,0,'',6829,2,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'',''),(6152,'HarvestConnectorResource',1,'2015-05-28 21:55:28','Links to videos','2013-08-14 07:28:23','We couldn\'t grab the video links themselves, they\'re obscured in either a flash player or a java app.','2016-03-04 02:00:00','0 2 4 3 *','2016-03-04 09:11:22','Learners TV','OK','',25651,'Learners TV',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,'http://connect-test.indexdata.com/connector',NULL,NULL,NULL,NULL,NULL,NULL,NULL,'',5752,5502,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'{}',500,'learners_tv.cf',1,NULL,0,1,60,2,60,'INFO','WARN','nrgorham@gmail.com',NULL,0,0,'',6829,2,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,NULL,NULL),(6202,'XmlBulkResource',1,'2014-02-05 21:42:23','','2013-08-29 14:59:37','','2016-04-27 22:00:00','0 22 * * 3','2016-04-27 22:00:00','Wikipedia (Swedish)','ERROR','',0,'Wikipedia Foundation','ClientTransportError, Failed to download/parse/store : http://dumps.wikimedia.org/svwiki/latest/svwiki-latest-abstract.xml ',NULL,0,NULL,NULL,NULL,NULL,'','http://dumps.wikimedia.org/svwiki/latest/svwiki-latest-abstract.xml',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,5752,3603,0,'1','1000','',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,1,0,0,1,60,2,60,'INFO','WARN','',NULL,0,0,NULL,1,2,1,NULL,NULL,0,0,0,NULL,NULL,NULL,NULL,NULL,NULL),(6208,'XmlBulkResource',1,'2015-07-01 14:24:17','','2013-08-29 15:31:34','','2016-04-25 00:00:00','0 0 * * 1','2016-04-25 00:00:01','Wikipedia (Danish)','ERROR','',0,'Wikipedia Foundation','ClientTransportError, Failed to download/parse/store : http://dumps.wikimedia.org/dawiki/latest/dawiki-latest-abstract.xml ',NULL,0,NULL,NULL,NULL,NULL,'','http://dumps.wikimedia.org/dawiki/latest/dawiki-latest-abstract.xml',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,5752,3603,0,'1','1000','',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,1,0,0,1,60,2,60,'INFO','WARN','',NULL,0,0,NULL,1,2,1,NULL,'',0,0,0,'','','',NULL,'',''),(6209,'OaiPmhResource',1,'2015-07-08 17:53:27','Credo','2013-08-30 15:56:33','','2016-04-29 11:00:00','0 11 * * 5','2016-04-29 11:00:00','ARTstor (Set5)','WARN','',0,'ARTstor','No Records matched',NULL,0,NULL,NULL,NULL,NULL,NULL,'http://oai.artstor.org/oaicatmuseum/OAIHandler',NULL,NULL,'SetArtstorFull5','2016-04-29 11:00:00',NULL,'oai_dc','yyyy-MM-dd',NULL,5752,5004,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,NULL,0,1,60,2,60,'INFO','WARN','',NULL,0,0,NULL,1,2,0,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'','Credo'),(6210,'OaiPmhResource',1,'2015-07-08 17:54:33','Credo','2013-08-30 15:56:36','','2016-04-30 03:00:00','0 3 * * 6','2016-04-30 03:00:00','ARTstor (Set6)','WARN','',0,'','No Records matched',NULL,0,NULL,NULL,NULL,NULL,NULL,'http://oai.artstor.org/oaicatmuseum/OAIHandler',NULL,NULL,'SetArtstorFull6','2016-04-30 03:00:00',NULL,'oai_dc','yyyy-MM-dd',NULL,5752,5004,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,NULL,0,1,60,2,60,'INFO','WARN','',NULL,0,0,NULL,1,2,0,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'','Credo'),(6252,'HarvestConnectorResource',1,'2014-04-09 15:33:52','','2013-09-05 15:23:06','','2016-02-06 00:00:00','0 0 6 2 *','2016-02-06 18:33:46','Sibley Music Library Scores Collection','OK','',21003,'UNIVERSITY OF ROCHESTER LIBRARIES',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,'http://connect-test.indexdata.com/connector',NULL,NULL,NULL,NULL,NULL,NULL,NULL,'',5752,5502,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'',2222,'sibley_scores_harvester.cf',1,NULL,0,1,123,2,60,'DEBUG','WARN','',NULL,0,0,'',1,2,1,NULL,NULL,0,0,0,NULL,NULL,NULL,NULL,NULL,NULL),(6262,'HarvestConnectorResource',1,'2015-05-28 22:07:17','','2013-09-05 23:24:25','','2016-02-07 00:00:00','0 0 7 2 *','2016-02-07 02:44:20','SMK (Statens Museum for Kunst)','WARN','',0,'Statens Museum for Kunst','Completed with problems, see logfile for details.',NULL,0,NULL,NULL,NULL,NULL,NULL,'http://ebsco2.indexdata.com:9000/connector',NULL,NULL,NULL,NULL,NULL,NULL,NULL,'',5752,6053,1,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'',4444,'smk_harvester.cf',1,NULL,0,1,60,2,60,'INFO','WARN','',NULL,0,0,'',6828,2,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,NULL,NULL),(6263,'HarvestConnectorResource',1,'2015-05-28 21:59:58','Transcripts and links to a flash video player','2013-09-05 23:27:28','','2016-03-03 00:00:00','0 0 3 3 *','2016-03-03 00:07:16','Mike Wallace Interview','OK','',66,'University of Texas at Austin',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,'http://ebsco2.indexdata.com:9000/connector',NULL,NULL,NULL,NULL,NULL,NULL,NULL,'',5752,6053,1,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'',5555,'mike_wallace_interview.cf',1,NULL,0,1,60,2,60,'INFO','WARN','',NULL,0,0,'',6828,2,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,NULL,NULL),(6264,'HarvestConnectorResource',1,'2015-05-28 22:03:15','','2013-09-05 23:29:31','','2016-03-17 00:00:00','0 0 17 3 *','2016-03-17 00:05:58','Purdue e-Pubs','WARN','',0,'Purdue University','Completed with problems, see logfile for details.',NULL,0,NULL,NULL,NULL,NULL,NULL,'http://ebsco2.indexdata.com:9000/connector',NULL,NULL,NULL,NULL,NULL,NULL,NULL,'',5752,5502,1,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'',4444,'purdue_e-pubs.cf',1,NULL,0,1,120,2,60,'WARN','WARN','dennis@indexdata.com',NULL,0,0,'',6829,2,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,NULL,NULL),(6267,'HarvestConnectorResource',1,'2015-05-28 21:51:52','','2013-09-05 23:41:05','','2015-05-18 00:00:00','0 0 18 5 *','2015-05-18 00:00:20','Internet ArchivesTexts (new model)','NEW','',0,'Internet Archive',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,'http://ebsco2.indexdata.com:9000/connector',NULL,NULL,NULL,'2012-01-01 00:00:00','2012-01-31 00:00:00',NULL,NULL,'',5752,5502,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'',0,'ia_texts.cf',1,NULL,0,1,60,2,60,'INFO','WARN','',NULL,0,0,'',6828,2,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,NULL,NULL),(6268,'HarvestConnectorResource',0,'2014-03-13 16:15:26','','2013-09-10 22:34:33','','2014-03-13 16:06:57','10 23 * * *','2013-09-14 03:33:13','International Monetary Fund (videos)','NEW','',NULL,'IMF',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,'http://ebsco2.indexdata.com:9000/connector',NULL,NULL,NULL,NULL,NULL,NULL,NULL,'',5752,5502,1,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'',8888,'imf_harvest.cf',1,NULL,0,1,60,1,60,'INFO','WARN','',NULL,0,0,'',1,2,1,NULL,NULL,0,0,0,NULL,NULL,NULL,NULL,NULL,NULL),(6302,'HarvestConnectorResource',1,'2015-06-11 14:25:11','','2013-09-28 17:54:17','','2015-06-02 00:00:00','0 0 2 6 *','2015-06-02 09:03:09','IUScholarWorks Harvester','NEW','',11278,'IUScholarWorks',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,'http://ebsco2.indexdata.com:9000/connector',NULL,NULL,NULL,NULL,NULL,NULL,NULL,'',5752,6053,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'{}',2000,'iuscholarworks_harvestor.cf',1,NULL,0,1,120,1,60,'INFO','WARN','charles@indexdata.com, mike@indexdata.com',NULL,0,0,'',6829,2,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'','OneRepo'),(6352,'OaiPmhResource',0,'2014-02-04 15:35:08','','2013-12-31 10:41:02','','2013-12-31 10:41:02','0 0 15 * *',NULL,'Mockup (OAI-PMH)','NEW','',NULL,'Index Data',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,'http://localhost:8080/harvester/oaipmh',NULL,NULL,'inc_delay',NULL,'2013-12-31 00:00:00','oai_dc','yyyy-MM-dd','oai_dc|1970-01-01|2013-12-31|inc_delay|300',5752,5203,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,NULL,0,1,60,2,60,'INFO','WARN','',12345,0,0,NULL,NULL,NULL,1,NULL,NULL,0,0,0,NULL,NULL,NULL,NULL,NULL,NULL),(6452,'HarvestConnectorResource',1,'2016-02-08 16:41:51','','2014-02-18 16:23:10','','2016-02-07 00:00:00','0 0 7 2 *','2015-02-07 00:00:36','Schubert Manuscripts (harvester)','NEW','Index Data/cl',NULL,'Austrian Academy of Sciences',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'{\"start\":\"http:\\/\\/www.schubert-online.at\\/activpage\\/werke_einzelansicht_en.php?werke_id=7&herkunft=allewerke\"}',5752,5502,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'',5555,'schubert_harvester.cf',1,NULL,0,1,133,3,60,'DEBUG','ERROR','charles@indexdata.com',NULL,0,0,'',6828,2,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'',''),(6453,'HarvestConnectorResource',1,'2014-03-05 21:43:21','','2014-02-18 16:30:35','','2016-02-10 00:00:00','0 0 10 2 *','2016-02-10 00:00:04','Edison Sheet Music Collection (harvester)','WARN','Index Data/cl',0,'Library of Congress','No records harvested',NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'{\"start\": [\"http:\\/\\/findingaids.loc.gov\\/db\\/search\\/xq\\/searchMferDsc04.xq?_id=loc.music.eadmus.mu002003&_start=31501&_lines=125\"]}',5752,6053,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'',5555,'edison_sheet_music.cf',1,NULL,0,1,120,1,60,'DEBUG','ERROR','charles@indexdata.com',NULL,0,0,'',1,2,1,NULL,NULL,0,0,0,NULL,NULL,NULL,NULL,NULL,NULL),(6454,'HarvestConnectorResource',1,'2015-05-28 22:04:21','','2014-02-18 22:06:31','','2016-02-07 00:00:00','0 0 7 2 *','2016-02-07 17:01:17','Sheet Music Consortium (harvester)','WARN','Index Data/cl',3896,'UCLA','Completed with problems, see logfile for details.',NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'{\"start\": [\"http:\\/\\/digital2.library.ucla.edu\\/solr\\/sheetmusic\\/select\\/?q=identifier_keyword:http*&start=32400&rows=100\"]}',5752,5502,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'',15000,'sheet_music_consortium.cf',1,NULL,0,1,120,0,60,'DEBUG','WARN','charles@indexdata.com,dennis@indexdata.com',NULL,0,0,'',6828,2,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,NULL,NULL),(6457,'HarvestConnectorResource',1,'2015-05-28 21:56:19','','2014-02-21 23:03:23','','2016-02-01 00:00:00','0 0 1 2 *','2016-02-01 09:06:51','Library of Congress Music Treasures Collectio[...]','WARN','Index Data/cl',1577,'Library of Congress','Completed with problems, see logfile for details.',NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'{\"start\": [\"http:\\/\\/lcweb2.loc.gov\\/diglib\\/ihas\\/consortium-search?query=memberOf:consortium&start=7356&view=thumbnail&sort=namesort&label=\"]}',5752,5502,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'',14000,'loc_music_treasures.cf',1,NULL,0,1,120,0,60,'DEBUG','WARN','',NULL,0,0,'',6828,2,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,NULL,NULL),(6458,'HarvestConnectorResource',1,'2014-02-27 16:05:54','','2014-02-26 15:58:44','This connector can take a start object in the form of a URL. It also needs to be from a link on the Ballerup\'s sitemap page (http://www.ballerup.dk/sitemap).','2016-02-01 00:00:00','0 0 1 2 *','2016-02-01 00:25:36','Ballerup Kommune (harvest)','OK','Index Data/cl',124,'Ballerup Kommune',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'{\"start\": [\"http:\\/\\/www.ballerup.dk\\/lundehaven\"]}',5752,5502,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'',9999,'ballerup_kommune_harvest.cf',1,NULL,0,1,120,0,60,'DEBUG','WARN','',NULL,0,0,'',1,2,0,NULL,NULL,0,0,0,NULL,NULL,NULL,NULL,NULL,NULL),(6462,'HarvestConnectorResource',1,'2015-07-01 14:32:43','','2014-03-13 15:27:38','This connector takes optional start and startdate parameters (both in yyyy-mm-dd format).\r\n\r\nSince the results are sorted in newest-first order, the date from the first record is returned as a start parameter for the next harvest run.','2016-04-27 11:10:00','10 11 * * 3','2016-04-27 11:14:12','NIH Guide for Grants & Contracts (harvester)','OK','Index Data/cl',27,'National Institutes of Health',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'{\"start\": [\"2016-04-26 \"]}',5752,5502,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'',7777,'nih_grants_harvester.cf',1,NULL,0,1,120,0,60,'DEBUG','ERROR','charles@indexdata.com',NULL,0,0,'',1,2,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'',''),(6463,'HarvestConnectorResource',1,'2015-05-28 21:50:42','','2014-03-13 15:44:11','I finished a complete version of this connector. It can take volume and issue (optional) start input.\r\n\r\nExamples:\r\n{ \"volume\": \"80\", \"issue\": \"3\" } { \"volume\": \"80\" }\r\n\r\nNOTE: Issue cannot be entered without a valid volume number.\r\n','2016-03-04 00:00:00','0 0 4 3 *','2016-03-04 17:46:37','International Journal of Computer Applications','WARN','Index Data/cl',5482,'Foundation of Computer Science','Completed with problems, see logfile for details.',NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'',5752,5502,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'',8888,'ijca_harvester.cf',1,NULL,0,1,120,1,60,'DEBUG','ERROR','charles@indexdata.com',NULL,0,0,'',6828,2,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,NULL,NULL),(6464,'OaiPmhResource',1,'2015-01-23 13:57:31','DASH is Harvard\'s digital repository for scholarly articles, theses and dissertatinos, and other Harvard-affiliate generated literature. Harvard Library makes the bibliographic data openly available for all uses, with a standard set of APIs.','2014-03-18 23:48:19','','2016-05-01 00:00:00','0 0 1 * *','2016-05-01 00:00:05','Digital Access To Scholarship At Harvard (DASH) ','ERROR','',100,'Harvard University','OAI error badResumptionToken: The value of the resumptionToken argument is invalid or expired Commiting up partial harvest as configured. ',NULL,0,NULL,NULL,NULL,NULL,NULL,'http://dash.harvard.edu/oai/request',NULL,NULL,NULL,'2015-10-01 00:00:01','2015-11-01 00:00:00','oai_dc','yyyy-MM-dd',NULL,5752,5203,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,NULL,0,1,60,4,60,'INFO','WARN','charles@indexdata.com,jakub@indexdata.dk',NULL,0,0,NULL,NULL,NULL,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,NULL,NULL),(6502,'StatusResource',1,'2015-07-06 18:07:19',NULL,'2014-04-22 13:19:16',NULL,'2016-04-30 12:00:00','0 12 * * *','2016-04-30 12:00:01','Daily Status','OK',NULL,NULL,NULL,NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,NULL,0,1,60,2,60,'INFO','OK','dbonner@indexdata.com,nrgorham@gmail.com,charles@indexdata.com,jakub@indexdata.com,mike@indexdata.com,nielserik@indexdata.com',NULL,0,0,NULL,NULL,NULL,0,NULL,NULL,0,0,0,NULL,NULL,NULL,NULL,'',''),(6555,'HarvestConnectorResource',1,'2015-05-28 22:06:28','CELEBRATING 28+ YEARS OF Lesbian Gay Bisexual and Transgender NEWS','2014-05-06 13:41:19','','2016-01-08 00:00:00','0 0 8 1 *','2016-01-10 08:04:24','Windy City Times','WARN','Indexdata/NG',29875,'Windy City Times','Completed with problems, see logfile for details.',NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'',5752,5303,1,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'',5000,'windy_city_times.cf',1,NULL,0,1,120,2,60,'DEBUG','WARN','nrgorham@gmail.com',NULL,0,0,'',6828,6402,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,NULL,NULL),(6557,'HarvestConnectorResource',1,'2015-07-01 14:34:12','Open Access Audiobooks.','2014-05-09 15:36:00','This connector returns a start token in the format of UNIX timestamp.  The connector will then check for new records since that timestamp.','2016-04-27 07:00:00','0 7 * * 3','2016-04-27 07:00:08','LibriVox','OK','Index Data/cl',16,'LibriVox',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'{\"start\": [\"1461740402\"]}',5752,5502,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'',8888,'librivox_harvest.cf',1,NULL,0,1,120,1,60,'DEBUG','OK','charles@indexdata.com',NULL,0,0,'',6828,6402,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'',''),(6561,'XmlBulkResource',0,'2014-06-05 11:01:14','','2014-06-05 10:54:46','','2014-06-05 11:01:16','0 0 1 * *','2014-06-05 11:01:19','Medknow test (tdnet)','OK','',1,'',NULL,NULL,0,NULL,NULL,NULL,NULL,'','http://ftp.indexdata.com/pub/harvester-tests/AsianJAndrol_2014_16_2_159_122587.xml',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,5752,6559,1,'','','',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,0,0,1,60,2,60,'DEBUG','ERROR','',NULL,0,0,NULL,NULL,NULL,0,NULL,'',0,0,0,NULL,NULL,NULL,NULL,NULL,NULL),(6562,'HarvestConnectorResource',1,'2014-11-14 14:45:15','','2014-06-15 20:55:53','','2015-06-13 05:12:00','12 5 13 6 *','2015-06-13 06:05:52','Earth Science World Image Bank','OK','Index Data/cl',5802,'American Geosciences Institute',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'',5752,5502,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'',4444,'esw_images_harvester.cf',1,NULL,0,1,120,1,60,'DEBUG','WARN','charles@indexdata.com',NULL,0,0,'',6564,6402,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,NULL,NULL),(6563,'HarvestConnectorResource',1,'2014-12-11 09:52:36','','2014-06-23 20:37:42','','2016-03-01 00:00:00','0 0 1 3 *','2016-03-01 21:58:07','Civil Rights Digital Library (harvest)','OK','Index Data/cl',11654,'GALILEO Initiative',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'',5752,6053,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'',5555,'civil_rights_library_harvest.cf',1,NULL,0,1,120,1,60,'DEBUG','WARN','charles@indexdata.com',NULL,0,0,'',1,6402,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,NULL,NULL),(6565,'HarvestConnectorResource',1,'2015-05-28 22:02:10','','2014-07-29 21:30:48','','2016-04-15 16:13:00','13 16 15 * *','2016-04-15 16:16:59','New Journal of Physics (harvest)','OK','Index Data/cl',36,'IOP Publishing',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'{\"start\": [{\"volume\":[\"18\"],\"issue\":[\"5\"]}]}',5752,6053,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'',5555,'njp_harvest.cf',1,NULL,0,1,120,1,60,'DEBUG','WARN','charles@indexdata.com',NULL,0,0,'',6828,6402,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,NULL,NULL),(6652,'HarvestConnectorResource',1,'2015-06-11 14:21:06','','2015-01-14 22:13:30','This connector now can take a solr database value to do solr searches to check if a harvested record already exists.  If it does it sets recordstatus to \"updated\" if not to \"new\".  The syntax is {\"solrnum\":\"6652\"}','2016-04-25 09:07:00','7 9 25 * *','2016-04-25 09:15:44','AULIMP harvest','OK','Index Data/cl',279,'DTIC',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'{\"start\": [\"2015.217802\"]}',5752,5502,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'{\"solrnum\":\"6652\"}',555,'aulimp_harvest.cf',1,NULL,0,1,120,0,60,'DEBUG','WARN','charles@indexdata.com',NULL,0,0,'',6828,6402,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'Charles','EBSCO Editorial'),(6653,'HarvestConnectorResource',1,'2015-05-28 21:57:43','','2014-03-04 12:06:35','','2015-11-06 07:10:00','10 7 6 11 *','2015-11-06 07:13:12','ManyBooks.net','OK','',20,'ManyBooks',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'{\"start\": [\"B\"]}',5752,6053,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'',7777,'manybooks_harvest.cf',1,NULL,0,1,60,0,60,'INFO','WARN','',NULL,0,0,'',6829,2,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,NULL,NULL),(6654,'HarvestConnectorResource',1,'2015-05-28 22:02:41','','2014-03-04 12:04:00','','2015-10-04 00:00:00','0 0 4 10 *','2015-10-05 00:58:35','Open Culture Archives (harvest)','WARN','Index Data/cl',7633,'Open Culture','Completed with problems, see logfile for details.',NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'',5752,6053,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'',8888,'open_culture_harvest.cf',1,NULL,0,1,120,1,60,'INFO','WARN','charles@indexdata.com',NULL,0,0,'',6828,6402,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,NULL,NULL),(6656,'HarvestConnectorResource',0,'2016-03-04 18:49:33','','2015-01-17 10:51:52','last timestamp (for date fix): {\"start\": [\"http:\\/\\/europeana.eu\\/api\\/v2\\/search.json?wskey=YuvuWBeCa&query=timestamp_created:[2015-03-01T00:00:00.000Z TO 2015-03-31T23:59:59.999Z]&start=893601&rows=100&profile=minimal\"]}','2016-03-04 18:49:33','0 0 17 * *','2016-03-04 18:57:51','Europeana API','OK','Index Data/cl',900,'',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'2016-01-13 00:00:00','2016-02-29 00:00:00',NULL,NULL,'{\"start\": [\"http:\\/\\/europeana.eu\\/api\\/v2\\/search.json?wskey=YuvuWBeCa&query=timestamp_created:[2016-01-13T00:00:00.000Z TO 2016-02-29T23:59:59.999Z]&start=901&rows=100&profile=minimal\"]}',5752,5303,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'',222,'europeana_api_harvest.cf',1,NULL,0,1,360,5,60,'DEBUG','WARN','charles@indexdata.com',NULL,0,0,'',6828,6402,0,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'',''),(6659,'HarvestConnectorResource',1,'2015-06-11 14:23:16','','2015-01-20 19:19:49','This site has reported 35,226 hits as of 2015-01-20.\r\nThis connector now supports start tokens in the format of {\"start\":\"2011\"}.  This start token will grab all years from 2011 to present.','2016-04-10 07:11:00','11 7 10 * *','2016-03-10 08:44:56','ETH Institutional Repository (harvest)','ERROR','Index Data/cl',NULL,'ETH','Response code 500 - \'Error: No match to {\"namespaces\":{},\"frames\":[],\"xpath\":\"id(\\\"static-content\\\")/DIV/UL/LI/A[.>=\\\"2015\\\"]/@href\"} log message [JavaScript Error: \"[Exception... \"\'undefined: No match to {\"namespaces\":{},\"frames\":[],\"xpath\":\"id(\\\"static-content\\\")/DIV/UL/LI/A[.>=\\\"2015\\\"]/@href\"}\' when calling method: [nsITimerCallback::notify]\"  nsresult: \"0x8057001c (NS_ERROR_XPC_JS_THREW_JS_OBJECT)\"  location: \"native frame :: <unknown filename> :: <TOP_LEVEL> :: line 0\"  data: no]\"] log engine task harvest {\"start\":[\"2015\"]} log runtime  - Task started. log runtime - \'NavTo\': Waiting for page to load: log runtime - \'NavTo\': Changing location to http://e-collection.library.ethz.ch/b/year?subnav=browse_5 log runtime  -   started: about:document-onload-blocker log runtime  -   completed about:document-onload-blocker log runtime  -   All pages loaded, waiting. log runtime  -   started: http://e-collection.library.ethz.ch/b/year?subnav=browse_5 log runtime steptiming #2 NavTo 2.905517578125 ms log runtime steptiming #2 IfElse 4.054443359375 ms log runtime  -   completed http://e-collection.library.ethz.ch/b/year?subnav=browse_5 log runtime  -   started: about:document-onload-blocker log runtime  -   completed about:document-onload-blocker log runtime  -   started: about:document-onload-blocker log runtime  -   completed http://e-collection.library.ethz.ch/b/year?subnav=browse_5 log runtime  -   completed about:document-onload-blocker log runtime  -   completed http://e-collection.library.ethz.ch/b/year?subnav=browse_5 log runtime  -   All pages loaded, waiting. log runtime  -   completed http://e-collection.library.ethz.ch/b/year?subnav=browse_5 log runtime  -   All pages loaded, waiting. log runtime  - No new requests, load complete. log runtime - \'NavTo\': Load complete in 16.829 seconds. fatal runtime  - in Step #2 [Extract value (id(\"static-content\")/DIV/UL/LI/A[.>=\"{$.input.start}\"]/@href)] of Block [else ] fatal runtime  - in Step #1 [Conditional ((3 cases))] of Block [null] fatal runtime  - Error: No match to {\"namespaces\":{},\"frames\":[],\"xpath\":\"id(\\\"static-content\\\")/DIV/UL/LI/A[.>=\\\"2015\\\"]/@href\"} fatal runtime  - Task failed. log timing harvest user=0.040000 real=16.832848 sys=0.000000\'',NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'{\"start\": [\"2015\"]}',5752,5502,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'',3333,'eth_harvest.cf',1,NULL,0,1,360,1,60,'DEBUG','WARN','charles@indexdata.com, mike@indexdata.com',NULL,0,0,'',6828,6402,0,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'Charles','OneRepo'),(6662,'HarvestConnectorResource',1,'2015-01-30 16:10:55','Debug/testing only','2015-01-28 21:42:01','','2015-01-30 16:10:48','0 0 1 1 1','2015-01-29 19:22:23','Record Limit Tester','NEW','',NULL,'Indexdata',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'',5752,5303,1,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'',1000,'recordlimittest.cf',0,NULL,0,1,120,2,60,'INFO','WARN','',50,0,0,'',1,6402,0,NULL,'',0,0,0,NULL,NULL,NULL,NULL,NULL,NULL),(6752,'HarvestConnectorResource',0,'2015-06-11 14:29:46','','2015-02-11 15:44:04','','2015-02-25 17:35:30','16 9 2 2 *','2015-02-25 20:55:21','McGraw-Hill Access Books-- accessanesthesiology','NEW','Index Data/cl',1475,'',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'',5752,5502,1,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'{\"db\":\"accessanesthesiology\"}',3333,'mh_access_books.cf',1,NULL,0,1,120,1,60,'DEBUG','ERROR','charles@indexdata.com',NULL,0,0,'',6564,6402,0,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'Charles','EBSCO Editorial'),(6753,'HarvestConnectorResource',0,'2015-06-11 14:30:14','','2015-02-11 18:40:36','','2015-02-25 18:35:43','13 5 1 2 *','2015-02-26 00:00:43','McGraw-Hill Access Books-- accessemergencymedicine','NEW','Index Data/cl',1674,'',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'',5752,5502,1,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'{\"db\":\"accessemergencymedicine\"}',6666,'mh_access_books.cf',1,NULL,0,1,120,1,60,'DEBUG','ERROR','charles@indexdata.com',NULL,0,0,'',1,6402,0,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'Charles','EBSCO Editorial'),(6754,'HarvestConnectorResource',0,'2015-06-11 14:31:28','','2015-02-11 19:12:53','','2015-02-25 17:38:08','16 9 2 2 *','2015-02-25 19:35:26','McGraw-Hill Access Books-- accesspediatrics','NEW','Index Data/cl',1302,'',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'',5752,5502,1,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'{\"db\":\"accesspediatrics\"}',NULL,'mh_access_books.cf',1,NULL,0,1,120,1,60,'DEBUG','ERROR','charles@indexdata.com',NULL,0,0,'',6564,6402,0,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'Charles','EBSCO Editorial'),(6755,'HarvestConnectorResource',0,'2015-06-11 14:33:21','','2015-02-11 19:15:37','','2015-02-25 18:33:30','13 5 3 2 *','2015-02-25 20:21:09','McGraw-Hill Access Books-- accessphysiotherapy','NEW','Index Data/cl',643,'',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'',5752,5502,1,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'{\"db\":\"accessphysiotherapy\"}',3333,'mh_access_books.cf',1,NULL,0,1,120,1,60,'DEBUG','ERROR','charles@indexdata.com',NULL,0,0,'',1,6402,0,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'Charles','EBSCO Editorial'),(6756,'HarvestConnectorResource',0,'2015-06-11 14:33:00','','2015-02-11 19:18:40','','2015-02-26 15:49:30','16 9 2 2 *','2015-02-26 23:57:23','McGraw-Hill Access Books-- accesspharmacy','NEW','Index Data/cl',1729,'',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'',5752,5502,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'{\"db\":\"accesspharmacy\"}',9999,'mh_access_books.cf',1,NULL,0,1,60,1,60,'DEBUG','ERROR','charles@indexdata.com',NULL,0,0,'',6564,6402,0,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'Charles','EBSCO Editorial'),(6759,'XmlBulkResource',0,'2015-02-18 16:06:14','DO NOT RUN -- IT CRASHES HARVESTER see MKH-463','2015-02-17 23:08:54','','2015-02-18 00:00:00','0 0 * * *','2015-02-17 23:09:41','DO NOT RUN Dataset test','NEW','',NULL,'',NULL,NULL,0,NULL,NULL,NULL,NULL,'','http://data.europeana.eu/download/2.0/datasets/rdf/',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,5752,6758,1,'','','',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,0,0,1,60,2,60,'DEBUG','OK','',NULL,0,0,NULL,NULL,NULL,0,NULL,'',0,0,0,'',NULL,NULL,NULL,NULL,NULL),(6803,'HarvestConnectorResource',0,'2015-06-11 14:33:37','','2015-02-25 18:54:38','','2015-02-25 18:54:38','0 0 2 2 *','2015-02-25 23:25:12','McGraw-Hill Access Books-- accesssurgery','NEW','Index Data/cl',1619,'',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'',5752,5502,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'{\"db\":\"accesssurgery\"}',4444,'mh_access_books.cf',1,NULL,0,1,360,2,60,'DEBUG','ERROR','charles@indexdata.com',NULL,0,0,'',1,6402,0,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'Charles','EBSCO Editorial'),(6806,'HarvestConnectorResource',1,'2015-07-06 18:52:11','','2015-03-02 21:05:28','This connector requires startdate and enddate arguments','2016-04-30 22:20:00','20 22 * * *','2016-04-30 22:22:13','KISTI-- JAKO','OK','Index Data/cl',2023,'',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'{\"start\": [\"2016-04-24\"]}',5752,5502,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'{\"db\":\"JAKO\"}',555,'kisti_oai_api.cf',1,NULL,0,1,300,1,60,'DEBUG','WARN','charles@indexdata.com',NULL,0,0,'',6564,6402,0,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'Charles','EBSCO Editorial'),(6807,'HarvestConnectorResource',1,'2015-07-06 18:51:58','','2015-03-04 20:18:38','','2016-04-30 23:19:01','19 23 * * *','2016-04-30 23:19:05','KISTI-- CFKO','WARN','Index Data/cl',0,'','No records harvested',NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'1900-01-01 00:00:00','2015-06-18 00:00:00',NULL,NULL,'{\"start\": [\"2016-04-25\"]}',5752,5502,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'{\"db\":\"CFKO\"}',222,'kisti_oai_api.cf',1,NULL,0,1,600,1,60,'DEBUG','WARN','charles@indexdata.com',NULL,0,0,'',1,6402,0,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'Charles','EBSCO Editorial'),(6808,'HarvestConnectorResource',1,'2015-07-06 18:52:27','','2015-03-04 20:24:27','','2016-04-30 17:10:00','10 17 * * *','2016-04-30 17:10:04','KISTI-- KSART','WARN','Index Data/cl',0,'','No records harvested',NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'1900-01-01 00:00:00','2015-06-18 00:00:00',NULL,NULL,'{\"start\": [\"2016-04-20\"]}',5752,5502,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'{\"db\":\"KSART\"}',333,'kisti_oai_api.cf',1,NULL,0,1,180,2,60,'DEBUG','WARN','charles@indexdata.com',NULL,0,0,'',6564,6402,0,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'Charles','EBSCO Editorial'),(6809,'HarvestConnectorResource',0,'2015-11-05 14:55:55','','2015-03-10 20:10:49','','2015-11-05 14:55:55','0 0 * * *','2015-11-05 18:46:30','ASM Micrograph','OK','Index Data/cl',6121,'ASM',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'',5752,5502,0,NULL,NULL,NULL,NULL,NULL,'ebsco','G8fvB','',NULL,NULL,'',444,'asm_micrograph_api.cf',1,NULL,0,1,360,1,60,'DEBUG','WARN','charles@indexdata.com',NULL,0,0,'',6828,6402,0,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'Charles','EBSCO Editorial'),(6813,'OaiPmhResource',1,'2015-06-11 14:36:37','See https://jira.indexdata.com/browse/ACREP-21','2015-03-23 21:33:00','','2016-04-22 12:12:00','12 12 22 * *','2016-04-22 12:12:12','University of East London','OK','',117,'University of East London',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,'http://roar.uel.ac.uk/cgi/oai2',NULL,NULL,NULL,'2016-04-22 12:12:00',NULL,'rioxx','yyyy-MM-dd\'T\'hh:mm:ss\'Z\'',NULL,5752,6811,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,NULL,0,1,60,2,30,'INFO','WARN','charles@indexdata.com, mike@indexdata.com',NULL,0,0,NULL,NULL,NULL,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'Charles','OneRepo'),(6814,'HarvestConnectorResource',1,'2016-01-06 14:41:59','','2015-03-27 23:54:47','','2016-04-30 09:10:00','10 9 * * *','2016-04-30 09:14:50','Financial Times API (harvest)','OK','Index Data/cl',408,'Financial Times',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'{\"start\": [\"2016-04-30T07:03:18.07Z\"]}',5752,5502,0,NULL,NULL,NULL,NULL,NULL,'MmrIGMGrGsrAfdAov2x7XiaP6Nh86yps','','',NULL,NULL,'',333,'financial_times_api.cf',1,NULL,0,1,300,1,60,'DEBUG','WARN','charles@indexdata.com',NULL,0,0,'',6564,6402,0,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'Charles','EBSCO Editorial'),(6815,'HarvestConnectorResource',0,'2016-01-27 14:16:42','','2015-04-10 21:09:27','','2016-01-27 14:16:42','0 0 4 1 *','2016-01-28 06:09:11','ASM Handbooks Online','WARN','Index Data/cl',24950,'ASM','Completed with problems, see logfile for details.',NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'{\"start\": [\"http:\\/\\/products.asminternational.org\\/hbk\\/SearchResults.jsp?search=*&start=29200&scope=EVERYTHING&volumes=.\"]}',5752,5502,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'',555,'asm_handbooks_harvest.cf',1,NULL,0,1,360,1,60,'DEBUG','WARN','charles@indexdata.com',NULL,0,0,'',1,6402,0,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'Charles','EBSCO Editorial'),(6816,'HarvestConnectorResource',1,'2015-09-17 21:46:51','','2015-04-16 20:53:44','Auto increment works like this.  Add a JSON string to the \"init data\" box in this fashion {\"solr\":\"6816\"}.  This will tell the connector to check solr first for existing records.  The existing records will be removed from the output links object and will not be reharvested.','2016-04-30 20:10:00','10 20 * * *','2016-04-30 20:10:19','Automotive World (harvest)','WARN','Index Data/cl',0,'Automotive World','No records harvested',NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'',5752,5502,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'{\"solr\":\"6816\"}',1111,'automotive_world_harvest.cf',1,NULL,0,1,60,1,60,'DEBUG','WARN','charles@indexdata.com',NULL,0,0,'',6829,6402,0,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'Charles','EBSCO Editorial'),(6817,'HarvestConnectorResource',1,'2016-02-08 16:42:21','','2015-04-17 21:10:17','','2016-02-03 00:00:00','0 0 3 2 *',NULL,'RePEc','NEW','Index Data/cl',NULL,'',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'',5752,5502,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'',1234,'repec_harvest.cf',1,NULL,0,1,360,1,60,'DEBUG','WARN','charles@indexdata.com',NULL,0,0,'',6564,6402,0,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'Charles','EBSCO Editorial'),(6818,'HarvestConnectorResource',1,'2015-07-06 18:05:40','','2015-04-22 21:44:53','','2016-04-28 23:09:00','9 23 * * 4','2016-04-28 23:35:39','DSpace@Cambridge (harvest)','OK','Index Data/cl',663,'University of Cambridge',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'',5752,5502,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'{\"solr\":[\"6818\"]}',1777,'dspace_cambridge_harvest.cf',1,NULL,0,1,120,2,60,'DEBUG','WARN','charles@indexdata.com, mike@indexdata.com',NULL,0,0,'',6829,6402,0,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'Charles','OneRepo'),(6819,'OaiPmhResource',1,'2015-07-06 18:53:06','','2015-04-30 15:25:20','','2016-04-29 09:10:01','10 9 * * 5','2016-04-29 09:10:20','LSE Research Online','OK','',157,'London School of Economics and Political Science (LSE)',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,'http://eprints.lse.ac.uk/cgi/oai2',NULL,NULL,NULL,'2016-04-29 09:10:01',NULL,'rioxx','yyyy-MM-dd\'T\'hh:mm:ss\'Z\'',NULL,5752,6811,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,NULL,0,1,360,1,60,'DEBUG','WARN','charles@indexdata.com',NULL,0,0,NULL,NULL,NULL,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'Charles','OneRepo'),(6820,'OaiPmhResource',1,'2015-07-06 18:55:01','','2015-05-13 21:32:17','','2016-04-27 20:10:00','10 20 * * 3','2016-04-27 20:10:11','Warwick Research Archives Portal Repository (WRAP)','OK','',203,'University of Warwick',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,'http://wrap.warwick.ac.uk/cgi/oai2',NULL,NULL,NULL,'2016-02-24 20:10:00',NULL,'rioxx','yyyy-MM-dd\'T\'hh:mm:ss\'Z\'',NULL,5752,6822,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,NULL,0,1,60,2,60,'DEBUG','OK','charles@indexdata.com',NULL,0,0,NULL,NULL,NULL,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'Charles','OneRepo'),(6825,'OaiPmhResource',1,'2015-06-11 14:38:17','','2015-05-15 14:31:50','','2016-04-13 17:14:00','14 17 13 * *','2016-04-13 17:14:16','WestminsterResearch','OK','',376,'University of Westminster',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,'http://westminsterresearch.wmin.ac.uk/cgi/oai2',NULL,NULL,NULL,'2016-04-13 17:14:00',NULL,'rioxx','yyyy-MM-dd\'T\'hh:mm:ss\'Z\'',NULL,5752,6822,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,NULL,0,1,60,2,60,'INFO','WARN','charles@indexdata.com',NULL,0,0,NULL,NULL,NULL,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'Charles','OneRepo'),(6826,'HarvestConnectorResource',1,'2015-06-11 14:24:07','','2015-05-18 18:13:38','','2016-01-03 00:00:00','0 0 3 1 *','2016-01-03 15:33:02','HAL (harvest)','OK','Index Data/cl',1080905,'Centre pour la Communication Scientifique Directe (CCSD)',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'{\"start\": [\"https:\\/\\/hal.archives-ouvertes.fr\\/search\\/index\\/?q=%2A&sort=submittedDate_tdate+desc&rows=100&page=10810\"]}',5752,5502,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'',2222,'hal_harvest.cf',1,NULL,0,1,60,2,60,'DEBUG','WARN','charles@indexdata.com',NULL,0,0,'',6828,6402,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'Charles','OneRepo'),(6830,'HarvestConnectorResource',0,'2016-01-11 14:39:51','','2015-05-28 15:35:18','','2016-01-11 14:39:51','0 0 * * *','2016-01-11 14:39:54','IP Test','OK','Index Data/cl',1,'',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'',5752,5502,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'',NULL,'ip_test.cf',0,NULL,0,1,60,2,60,'DEBUG','WARN','',NULL,0,0,'proxy=108.168.255.203:3128',6564,6402,0,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'',''),(6852,'HarvestConnectorResource',1,'2015-08-03 14:08:41','','2015-06-09 17:51:10','','2016-04-25 02:20:00','20 2 * * 1','2016-04-25 02:22:21','EU Bookstore','OK','',26,'Europa',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'',5752,5502,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'{\"solr\":\"6852\"}',3333,'eu_bookstore.cf',1,NULL,0,1,300,1,60,'DEBUG','WARN','charles@indexdata.com',NULL,0,0,'',6828,6402,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'Index Data/cl','EBSCO Editorial'),(6853,'OaiPmhResource',1,'2015-09-22 08:18:28','','2015-06-09 19:59:27','vile DOIs','2016-04-28 10:16:00','16 10 * * 4','2016-04-28 10:16:12','ORBi (LiÃ¨ge)','OK','',436,'ULg Library Network',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,'http://orbi.ulg.ac.be/oai/request',NULL,NULL,NULL,'2016-04-28 10:16:00',NULL,'oai_dc','yyyy-MM-dd\'T\'hh:mm:ss\'Z\'',NULL,5752,6811,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,NULL,0,1,300,2,60,'DEBUG','WARN','charles@indexdata.com, mike@indexdata.com',NULL,0,0,NULL,NULL,NULL,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'Charles','OneRepo'),(6854,'OaiPmhResource',1,'2015-08-17 14:06:19','Institutional Repository of MIT','2015-06-11 11:16:11','See the ROAR page at http://roar.eprints.org/399/\r\nIt says there are 60058 records, and the rolling logfile says we have 9000 of them. So we\'re about a seventh of the way through, and should be done in a couple of hours. from now -- mid morning of 11 June.\r\n\r\n--\r\n\r\nOh, for heaven\'s sake ... it looks like the act of my adding that note caused the job to abort. Seriously?','2016-04-25 02:00:00','0 2 * * 1','2016-04-25 02:00:02','DSpace@MIT','OK','',96,'Massachusetts Institute of Technology',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,'http://dspace.mit.edu/oai/request',NULL,NULL,NULL,'2016-04-25 02:00:00',NULL,'oai_dc','yyyy-MM-dd\'T\'hh:mm:ss\'Z\'',NULL,5752,6811,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,NULL,0,1,300,10,1000,'DEBUG','WARN','mike@indexdata.com, charles@indexdata.com',NULL,0,0,NULL,NULL,NULL,1,NULL,'',0,0,0,NULL,NULL,NULL,100,'Mike','OneRepo'),(6855,'HarvestConnectorResource',0,'2015-06-17 15:15:01','','2015-06-15 21:35:04','This connector can take two sub-databases: faco or fahb (Case Histories or ASM Handbook, Vol 11).  One database must be declared in the \"Init Data\" field below.  Example {\"db\":\"faco\"}','2015-06-17 15:15:02','0 0 * * *','2015-06-17 15:38:56','ASM Failure Analysis Database','WARN','',815,'ASM','Completed with problems, see logfile for details.',NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'',5752,5502,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'{\"db\":\"fahb\"}',777,'asm_failure_db.cf',1,NULL,0,1,120,1,60,'DEBUG','WARN','charles@indexdata.com',NULL,0,0,'',1,6402,0,NULL,'',0,0,0,NULL,NULL,NULL,100,'Charles','EBSCO Editorial'),(6856,'HarvestConnectorResource',1,'2015-06-17 20:01:37','','2015-06-17 18:49:39','','2016-04-26 03:00:00','0 3 * * 2','2016-04-26 03:00:03','KOTAR Digital Library (harvest)','WARN','',0,'KOTAR','No records harvested',NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'{\"start\": [\"2016-04-07T14:00:01\"]}',5752,5502,0,NULL,NULL,NULL,NULL,NULL,'ex2012','rcaontdo','',NULL,NULL,'{\"fulltext\":1}',2222,'kotar_harvest.cf',1,NULL,0,1,600,1,60,'DEBUG','WARN','charles@indexdata.com',NULL,0,0,'',6828,6402,0,NULL,'',0,0,0,NULL,NULL,NULL,10,'Index Data/cl','EBSCO Editorial'),(6857,'OaiPmhResource',1,'2015-07-01 14:42:52','Institutional Repository of the Smithsonian Institution.','2015-06-19 15:44:44','','2016-04-26 21:00:01','0 21 * * 2','2016-04-26 21:00:02','Smithsonian Research Online','WARN','',0,'Smithsonian Institition','No Records matched',NULL,0,NULL,NULL,NULL,NULL,NULL,'http://repository.si.edu/oai/request',NULL,NULL,NULL,'2016-04-26 21:00:01',NULL,'oai_dc','yyyy-MM-dd\'T\'hh:mm:ss\'Z\'',NULL,5752,6811,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,NULL,0,1,300,2,60,'DEBUG','WARN','mike@indexdata.com, charles@indexdata.com',NULL,0,0,NULL,NULL,NULL,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'Mike','OneRepo'),(6859,'HarvestConnectorResource',0,'2015-07-14 20:02:31','','2015-07-06 19:35:16','This connector can take a start token consisting of year and quarter separated by a dot.   Example:  {\"start\":[\"2015.2\"]} for 2015, 2nd quarter.','2015-07-14 20:02:31','0 0 * * *','2015-07-15 15:49:25','EDGAR','WARN','',28241,'US Securities & Exchange Commission','Completed with problems, see logfile for details.',NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'{\"start\": [\"ftp:\\/\\/ftp.sec.gov\\/edgar\\/full-index\\/2015\\/QTR3\\/sitemap.quarterlyindex1.xml\"]}',5752,5502,1,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'',333,'edgar_harvest.cf',1,NULL,0,1,300,1,60,'DEBUG','WARN','charles@indexdata.com',NULL,0,0,'',6828,6402,1,NULL,'',0,0,0,NULL,NULL,NULL,10,'Charles','EBSCO Editorial'),(6902,'HarvestConnectorResource',0,'2015-07-27 19:00:14','','2015-07-27 17:19:32','','2015-07-27 19:00:14','0 0 * * *','2015-07-27 19:41:00','European Library Set Sizes','OK','',195,'',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'',5752,6053,1,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'',9999,'european_library_set_sizes.cf',1,NULL,0,1,480,10,60,'DEBUG','WARN','charles@indexdata.com',NULL,0,0,'',1,6402,0,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'Charles','Test'),(6952,'HarvestConnectorResource',1,'2015-08-10 20:55:17','','2015-08-06 17:09:56','','2016-04-30 21:10:00','10 21 * * *','2016-04-30 21:10:24','Nikkei BP (harvest)','OK','',183,'Nikkei BP',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'2015-08-08 00:00:00',NULL,NULL,NULL,'{\"start\": [\"2016-04-28\"]}',5752,5502,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'',888,'nikkei_bp_harvest.cf',1,NULL,0,1,360,2,60,'DEBUG','WARN','charles@indexdata.com',NULL,0,0,'',6564,6402,0,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'Charles','EBSCO Editorial'),(7002,'OaiPmhResource',1,'2015-10-20 13:06:52','Institutional Repository contents','2015-08-17 13:57:43','','2016-04-19 05:50:00','50 5 19 * *','2016-04-19 05:51:33','London School of Hygiene and Tropical Medicine','OK','https://twitter.com/LSHTMOpenAccess/status/633212751108833280\r\nhttps://twitter.com/MikeTaylor/status/633279747552866304',1186,'',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,'http://researchonline.lshtm.ac.uk/cgi/oai2',NULL,NULL,NULL,'2016-04-19 05:50:00',NULL,'oai_dc','yyyy-MM-dd',NULL,5752,6822,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,NULL,0,1,300,2,60,'DEBUG','WARN','mike@indexdata.com, charles@indexdata.com',NULL,0,0,NULL,NULL,NULL,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'mike','The One Repo'),(7003,'OaiPmhResource',1,'2015-08-19 15:58:08','','2015-08-19 15:15:02','','2016-04-18 17:00:00','0 17 18 * *','2016-04-18 17:00:09','Kenyatta University Institution Repository','OK','',210,'Kenyatta University Library',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,'http://ir-library.ku.ac.ke/oai/request',NULL,NULL,NULL,'2016-04-18 17:00:00',NULL,'oai_dc','yyyy-MM-dd\'T\'hh:mm:ss\'Z\'',NULL,5752,6811,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,NULL,0,0,300,2,60,'DEBUG','WARN','charles@indexdata.com',NULL,0,0,NULL,NULL,NULL,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'Charles','Strathmore Univ Kenya'),(7004,'OaiPmhResource',1,'2015-08-19 18:38:08','','2015-08-19 16:26:51','','2016-04-17 15:00:00','0 15 17 * *','2016-03-17 15:00:30','SU+ Digital Repository','ERROR','',NULL,'Strathmore University','Http error \'404 Not Found\' when contacting https://su-plus.strathmore.edu/oai/request?verb=ListRecords&from=2016-03-17T03:00:00Z&until=2016-04-17T03:00:00Z&metadataPrefix=oai_dcRolling back until 2016-03-17T03:00:00Z',NULL,0,NULL,NULL,NULL,NULL,NULL,'https://su-plus.strathmore.edu/oai/request',NULL,NULL,NULL,'2016-03-17 15:00:00','2016-04-17 15:00:00','oai_dc','yyyy-MM-dd\'T\'hh:mm:ss\'Z\'',NULL,5752,7006,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,NULL,0,0,300,2,60,'DEBUG','WARN','charles@indexdata.com',NULL,0,0,NULL,NULL,NULL,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'Charles','Strathmore Univ Kenya'),(7052,'HarvestConnectorResource',0,'2015-11-03 18:20:34','','2015-08-26 20:04:38','','2015-08-26 20:04:38','0 0 * * *','2015-08-27 00:15:54','ASM Corrosion Analysis Network','NEW','',9726,'ASM',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'',5752,5502,0,NULL,NULL,NULL,NULL,NULL,'ebsco','G8fvB','',NULL,NULL,'',555,'asm_corrosion.cf',0,NULL,0,1,300,2,60,'DEBUG','WARN','charles@indexdata.com',NULL,0,0,'',6829,6402,0,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'Charles','EBSCO Editorial'),(7105,'HarvestConnectorResource',1,'2016-04-25 14:01:19','','2015-09-15 13:59:33','2016-03-28: {\"start\": [\"922000;0;0;a0100;oai_dc~a0108,a0118,a0142,a0155,a0156,a0157,a0163,a0180,a0181,a0183,a0184,a0186,a0215,a0219,a0230,a0232,a0237,a0245,a0246,a0262,a0274,a0276,a0277,a0279,a0280\"]}','2016-04-30 13:11:00','11 13 * * *','2016-04-30 13:13:15','European Library','OK','All Sets: {\"link\":{\"resumption\":[\"0;0;0;a0001;oai_dc\"],\"sets\":[\"a0002,a0004,a0005,a0008,a0009,a0019,a0022,a0026,a0031,a0033,a0037,a0048,a0057,a0067,a0078,a0079,a0082,a0083,a0093,a0100,a0108,a0118,a0142,a0155,a0156,a0157,a0163,a0180,a0181,a0183,a0184,a0186,a0215,a0219,a0230,a0232,a0237,a0245,a0246,a0262,a0274,a0276,a0277,a0279,a0280,a0308,a0309,a0310,a0311,a0312,a0327,a0328,a0394,a0411,a0412,a0413,a0414,a0415,a0416,a0417,a0418,a0419,a0420,a0421,a0422,a0427,a0429,a0430,a0444,a0445,a0478,a0479,a0480,a0481,a0482,a0486,a0491,a0492,a0493,a0495,a0498,a0499,a0501,a0502,a0509,a0511,a0512,a0515,a0516,a0521,a0524,a0525,a0544,a0544a,a0545,a0546,a0547,a0548,a0549,a0549a_Drawings,a0549a_Graphics,a0549b,a0549c,a0549d,a0549e,a0549f,a0550,a0557,a0558,a0559,a0559a,a0559b,a0559c,a0561,a0562,a0563,a0564,a0564a,a0564b,a0565,a0567,a0568,a0569,a0570,a0571,a0573,a0575,a0576,a0577,a0578,a0581,a0588,a0590,a0597,a0599,a0600,a0601,a0611,a0613,a0617,a0618,a0625,a0627,a0639,a0639_ft,a0641,a0642,a0643,a0644,a0645,a0646,a0648,a0652,a0653,a0660,a1004,a1023,a1025,a1026,a1027,a1029,a1035,a1055,a1055a,a1055b,a1056,a1057,a1058,a1080,a1105,a1105oai,a1112,a1113,a1120,a1123,a1124,a1135,a1145,a1146,a1194,a1195,a1200,a1200a,a1200b,a1200c,a1200d,a1200e,a1200f,a1200g,a1219,a1221,a1222,a1223,a1224,a1225,a1226,a1227,a1228,a1229,a1230,a1237,a1263,a1265,a1309,a1312,a1313,a1355,a1356,a1357,a1358,a1359,a1360,a1361,a1362,a1395,a1396,a1397,a1398,a1399,a1400,a1403,a1417,a1422,a1423,a1424,a1425,a1426,a1452,a1453,a1454,a1455,a1456\"]}}',351,'',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'{\"start\": [\"35000;0;0;a0495;oai_dc~a0498,a0499\"]}',5752,5502,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'',29999,'european_library_harvest.cf',1,NULL,0,1,600,10,60,'INFO','WARN','charles@indexdata.com',NULL,0,0,'proxy=108.168.255.203:3128',6829,6402,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'Charles','EBSCO Editorial'),(7107,'HarvestConnectorResource',0,'2016-01-19 21:46:08','','2015-09-05 00:00:02','','2016-01-19 21:46:08','0 0 * * *','2016-01-21 10:44:58','ASM Medical Materials','OK','',91023,'',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'',5752,5502,0,NULL,NULL,NULL,NULL,NULL,'ebsco','G8fvB','',NULL,NULL,'',444,'asm_medical_materials.cf',1,NULL,0,1,600,2,60,'DEBUG','ERROR','blp1569@gmail.com, charles@indexdata.com',NULL,0,0,'',6829,6402,0,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'Charles','EBSCO Editorial'),(7108,'HarvestConnectorResource',1,'2016-03-25 15:34:48','','2015-09-14 16:29:26','','2016-04-30 15:15:00','15 15 * * 6','2016-04-30 15:23:23','EU Open Data Portal (hybrid)','OK','',526,'',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'{\"start\": [\"2016-04-01\"]}',5752,5502,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'',444,'eu_open_data_hybrid.cf',1,NULL,0,1,360,1,60,'DEBUG','WARN','charles@indexdata.com',NULL,0,0,'',6828,6402,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'Charles','EBSCO Editorial'),(7152,'HarvestConnectorResource',0,'2015-09-16 21:22:14','','2015-09-16 21:21:13','','2015-09-16 21:22:15','0 0 * * *','2015-09-22 13:29:05','ASM Alloy Center','WARN','',147793,'ASM','Completed with problems, see logfile for details.',NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'',5752,5502,0,NULL,NULL,NULL,NULL,NULL,'ebsco','G8fvB','',NULL,NULL,'',444,'asm_alloy_center.cf',1,NULL,0,1,600,1,60,'DEBUG','WARN','charles@indexdata.com',NULL,0,0,'',6829,6402,0,NULL,'',0,0,0,NULL,NULL,NULL,10,'Charles','EBSCO Editorial'),(7153,'HarvestConnectorResource',1,'2015-09-22 08:18:36','','2015-09-22 08:11:30','','2016-04-18 00:00:00','0 0 18 * *','2016-04-18 05:15:02','PeerJ','OK','',1960,'PeerJ',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'',5752,5303,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'',5000,'peerj.cf',1,NULL,0,1,300,2,60,'INFO','WARN','nrgorham@gmail.com',NULL,0,1,'',1,6402,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'Indexdata/NG','Mike?'),(7154,'HarvestConnectorResource',1,'2015-09-22 12:46:06','','2015-09-22 12:46:07','','2016-04-25 00:00:00','0 0 25 * *','2016-03-25 05:49:36','PeerJ Preprints','ERROR','',NULL,'PeerJ','Response code 500 - \'Error: No hits found log message [JavaScript Error: \"[Exception... \"\'undefined: No hits found\' when calling method: [nsITimerCallback::notify]\"  nsresult: \"0x8057001c (NS_ERROR_XPC_JS_THREW_JS_OBJECT)\"  location: \"native frame :: <unknown filename> :: <TOP_LEVEL> :: line 0\"  data: no]\"] log engine task harvest {} log runtime  - Task started. log runtime  - Step #2 is disabled, ignoring log runtime - \'NavTo\': Waiting for page to load: log runtime - \'NavTo\': Changing location to https://peerj.com/preprints/ log runtime  -   started: about:document-onload-blocker log runtime  -   completed about:document-onload-blocker log runtime  -   All pages loaded, waiting. log runtime  -   started: https://peerj.com/preprints/ log runtime steptiming #1 NavTo 3.1337890625 ms log runtime steptiming #4 IfElse 3.364501953125 ms log runtime  -   completed https://peerj.com/preprints/ log runtime  -   started: about:document-onload-blocker log runtime  -   completed about:document-onload-blocker log runtime  -   started: about:document-onload-blocker log runtime  -   started: https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js log runtime  -   started: https://peerj.com/assets/js/jquery-migrate.min.js log runtime  -   completed https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js log runtime  -   completed https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js log runtime  -   completed https://peerj.com/assets/js/jquery-migrate.min.js log runtime  -   completed https://peerj.com/assets/js/jquery-migrate.min.js log runtime  -   started: https://www.google-analytics.com/analytics.js log runtime  -   completed https://www.google-analytics.com/analytics.js log runtime  -   completed https://www.google-analytics.com/analytics.js log runtime  -   completed https://peerj.com/preprints/ log runtime  -   started: https://peerj.com/js/78e046b-73d1e40.js log runtime  -   started: https://peerj.com/js/73eacb4-ab1eb45.js log runtime  -   started: https://peerj.com/js/e46b642-009cc92.js log runtime  -   completed https://peerj.com/js/78e046b-73d1e40.js log runtime  -   completed https://peerj.com/js/78e046b-73d1e40.js log runtime  -   completed https://peerj.com/js/73eacb4-ab1eb45.js log runtime  -   completed https://peerj.com/js/73eacb4-ab1eb45.js log runtime  -   completed https://peerj.com/js/e46b642-009cc92.js log runtime  -   completed https://peerj.com/js/e46b642-009cc92.js log runtime  -   started: https://peerj.com/alerts/ log runtime  -   started: https://peerj.com/contributions/searchbar/?type=preprints&subject=undefined&topic=&_=1461542406118 log runtime  -   completed about:document-onload-blocker log runtime  -   started: https://peerj.com/alerts/ log runtime  -   started: https://peerj.com/contributions/searchbar/?type=preprints&subject=undefined&topic=&_=1461542406118 log runtime  -   completed https://peerj.com/alerts/ log runtime  -   completed https://peerj.com/alerts/ log runtime  -   completed https://peerj.com/contributions/searchbar/?type=preprints&subject=undefined&topic=&_=1461542406118 log runtime  -   started: about:document-onload-blocker log runtime  -   completed https://peerj.com/contributions/searchbar/?type=preprints&subject=undefined&topic=&_=1461542406118 log runtime  -   completed about:document-onload-blocker log runtime  -   started: https://js-agent.newrelic.com/nr-918.min.js log runtime  -   completed https://peerj.com/preprints/ log runtime  -   completed https://peerj.com/preprints/ log runtime  -   completed https://js-agent.newrelic.com/nr-918.min.js log runtime  -   started: https://bam.nr-data.net/1/d5eeba4cf5?a=1495858&v=918.2e0ff1d&to=MQcDZBMHX0EFUBBcXghNIkUSEl5fS0MBUEMMPRJVABRSWjtDFlBBFAsPRBI%3D&rst=428&ap=181&be=57&fe=358&dc=163&f=%5B%22err%22,%22xhr%22%5D&perf=%7B%22timing%22:%7B%22of%22:1461542406041,%22n%22:0,%22u%22:43,%22ue%22:44,%22dl%22:43,%22di%22:219,%22ds%22:219,%22de%22:278,%22dc%22:414,%22l%22:414,%22le%22:415,%22f%22:2,%22dn%22:2,%22dne%22:2,%22c%22:2,%22ce%22:2,%22rq%22:3,%22rp%22:42,%22rpe%22:157%7D,%22navigation%22:%7B%7D%7D&at=HUAAElsdTE8%3D&jsonp=NREUM.setToken log runtime  -   completed https://js-agent.newrelic.com/nr-918.min.js log runtime  -   completed https://bam.nr-data.net/1/d5eeba4cf5?a=1495858&v=918.2e0ff1d&to=MQcDZBMHX0EFUBBcXghNIkUSEl5fS0MBUEMMPRJVABRSWjtDFlBBFAsPRBI%3D&rst=428&ap=181&be=57&fe=358&dc=163&f=%5B%22err%22,%22xhr%22%5D&perf=%7B%22timing%22:%7B%22of%22:1461542406041,%22n%22:0,%22u%22:43,%22ue%22:44,%22dl%22:43,%22di%22:219,%22ds%22:219,%22de%22:278,%22dc%22:414,%22l%22:414,%22le%22:415,%22f%22:2,%22dn%22:2,%22dne%22:2,%22c%22:2,%22ce%22:2,%22rq%22:3,%22rp%22:42,%22rpe%22:157%7D,%22navigation%22:%7B%7D%7D&at=HUAAElsdTE8%3D&jsonp=NREUM.setToken log runtime  -   completed https://bam.nr-data.net/1/d5eeba4cf5?a=1495858&v=918.2e0ff1d&to=MQcDZBMHX0EFUBBcXghNIkUSEl5fS0MBUEMMPRJVABRSWjtDFlBBFAsPRBI%3D&rst=428&ap=181&be=57&fe=358&dc=163&f=%5B%22err%22,%22xhr%22%5D&perf=%7B%22timing%22:%7B%22of%22:1461542406041,%22n%22:0,%22u%22:43,%22ue%22:44,%22dl%22:43,%22di%22:219,%22ds%22:219,%22de%22:278,%22dc%22:414,%22l%22:414,%22le%22:415,%22f%22:2,%22dn%22:2,%22dne%22:2,%22c%22:2,%22ce%22:2,%22rq%22:3,%22rp%22:42,%22rpe%22:157%7D,%22navigation%22:%7B%7D%7D&at=HUAAElsdTE8%3D&jsonp=NREUM.setToken log runtime  -   All pages loaded, waiting. log runtime  - No new requests, load complete. log runtime - \'NavTo\': Load complete in 0.505 seconds. log runtime  - Step #2 is disabled, ignoring log runtime  - Step #3 is disabled, ignoring fatal runtime  - in Step #3 [Parse by XPattern] of Block [if ($.input.link empty )] fatal runtime  - in Step #3 [Conditional ((2 cases))] of Block [null] fatal runtime  - Error: No hits found fatal runtime  - Task failed. log timing harvest user=0.400000 real=0.644991 sys=0.020000\'',NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'',5752,5303,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'',5000,'peerjpreprints.cf',1,NULL,0,1,300,2,60,'INFO','WARN','nrgorham@gmail.com',NULL,0,1,'',1,6402,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'Indexdata/NG','Mike?'),(7155,'OaiPmhResource',1,'2015-09-28 21:21:09','','2015-09-25 17:27:30','','2016-04-18 14:17:00','17 14 18 * *','2016-04-18 15:34:27','Charles Sturt University','OK','',10584,'Charles Sturt University',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,'http://digitool.unilinc.edu.au/OAI-PUB',NULL,NULL,NULL,'2016-04-18 14:17:00',NULL,'dc','yyyy-MM-dd\'T\'hh:mm:ss\'Z\'',NULL,5752,7157,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,NULL,0,1,600,2,60,'DEBUG','WARN','charles@indexdata.com',NULL,0,0,NULL,NULL,NULL,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'Charles','OneRepo'),(7163,'OaiPmhResource',1,'2015-10-07 19:24:05','','2015-10-06 19:59:15','','2016-04-30 11:10:00','10 11 * * *','2016-04-30 14:45:31','NDL-OPAC','OK','',27955,'National Diet Library',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,'http://iss.ndl.go.jp/api/oaipmh',NULL,NULL,'iss-ndl-opac','2016-04-30 11:10:00',NULL,'dcndl_simple','yyyy-MM-dd',NULL,5752,7161,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,NULL,0,1,600,2,60,'DEBUG','WARN','charles@indexdata.com',NULL,0,0,NULL,NULL,NULL,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'Charles','EBSCO Editorial'),(7164,'OaiPmhResource',1,'2015-10-07 19:35:40','','2015-10-07 19:29:58','','2016-04-30 12:15:00','15 12 * * *','2016-04-30 12:15:09','NDL-Digital Collections','OK','',68,'National Diet Library',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,'http://iss.ndl.go.jp/api/oaipmh',NULL,NULL,'ndl-dl','2016-04-30 12:15:00',NULL,'dcndl_simple','yyyy-MM-dd',NULL,5752,7161,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,NULL,0,1,300,2,60,'DEBUG','WARN','charles@indexdata.com',NULL,0,0,NULL,NULL,NULL,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'Charles','EBSCO Editorial'),(7165,'OaiPmhResource',1,'2015-10-08 14:17:41','','2015-10-07 19:37:51','','2016-04-30 13:20:00','20 13 * * *','2016-04-30 13:25:02','NDL-Japanese Periodical Index','OK','',2424,'National Diet Library',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,'http://iss.ndl.go.jp/api/oaipmh',NULL,NULL,'zassaku','2016-04-30 13:20:00',NULL,'dcndl_simple','yyyy-MM-dd',NULL,5752,7161,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,NULL,0,1,300,2,60,'DEBUG','WARN','charles@indexdata.com',NULL,0,0,NULL,NULL,NULL,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'Charles','EBSCO Editorial'),(7166,'HarvestConnectorResource',1,'2015-10-13 13:05:20','','2015-10-12 22:51:05','','2016-04-12 23:45:00','45 23 12 * *','2016-04-12 23:45:06','College Board Publications','WARN','',0,'The College Board','No records harvested',NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'{\"start\": [\"2016-04-13\"]}',5752,5502,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'',444,'college_board_pubs.cf',1,NULL,0,1,300,2,60,'DEBUG','WARN','charles@indexdata.com',NULL,0,0,'',6829,6402,1,NULL,'',0,0,0,NULL,NULL,NULL,10,'Charles','EBSCO Editorial'),(7167,'HarvestConnectorResource',1,'2016-03-16 14:03:05','','2015-10-16 20:11:55','This connector can take an Init Data value for solr address. Example: {\"solr\":\"http://lui.indexdata.com/solr4/select?q=database:7167\"}','2016-04-27 10:30:00','30 10 * * 3','2016-04-27 10:30:36','Corrosion Analysis Network','WARN','',0,'Corrosion Analysis Network','No records harvested',NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'',5752,5502,0,NULL,NULL,NULL,NULL,NULL,'581370','1mad0mer','',NULL,NULL,'{\"solr\":\"http://lui.indexdata.com/solr4/select?q=database:7167\"}',888,'corrosion_analysis_network.cf',1,NULL,0,1,600,2,60,'DEBUG','WARN','charles@indexdata.com',NULL,0,0,'',6828,6402,0,NULL,'',0,0,0,NULL,NULL,NULL,10,'Charles','EBSCO Editorial'),(7171,'XmlBulkResource',0,'2016-04-25 19:51:51','','2015-10-23 19:49:21','','2016-03-04 18:15:57','0 0 * * *','2016-03-04 18:21:38','Infobase Learning','NEW','',228183,'Infobase Learning',NULL,NULL,0,NULL,NULL,NULL,NULL,'','http://api.infobase.com/search/16619/1/0//xml-file',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,5752,7169,1,'1','1','',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,0,0,1,600,2,60,'DEBUG','WARN','charles@indexdata.com',NULL,0,0,NULL,NULL,NULL,0,NULL,'',0,0,0,'','','',NULL,'Charles','EBSCO Editorial'),(7210,'HarvestConnectorResource',1,'2016-04-15 18:52:43','','2015-11-23 22:16:47','To get brief records, add the following to Init Data:\r\n{\"brief\":\"1\"}\r\n\r\nAll sets: 231979,306131,268165,262644,2134425,2134421,2134424,1566941,2629241,1152045,1152067,1152068,1152069,231978,239893,291123,758304,213508,267349,219708,208254,813764,874631,813767,872284,235330,291119,267307,179252,926391,1029505,926469,1640104,995561,1029482,948047,948057,1800906,948087,948098,317705,2124793,317706,1768159,1768182,1768183,1768184,236348,267302,267308,291300,162448,291301,174571,267309,208255,256972,309819,300820,1152010,205095,298223,280448,992965,309820,309821,240496,998400,1029503,998399,1747959,2348298,528402,1949355,1949354,1949356,2145363','2016-04-07 14:19:24','0 0 2 12 *','2016-03-31 19:29:24','SSRN (harvest)','NEW','Next link (2016-04-07): {\"link\":{\"cue\":[\"162448,291301,174571,267309,208255,256972,309819,300820,1152010,205095,298223,280448,992965,309820,309821\"],\"jid\":[\"291300\"]}}',NULL,'SSRN',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'{cue=[309821], jid=[http://papers.ssrn.com/sol3/JELJOUR_Results.cfm?npage=11&form_name=journalBrowse&journal_id=309820&Network=yes&SortOrder=ab_approval_date&stype=desc&lim=false&selectedOption=6]}',5752,5502,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'',2222,'ssrn_harvest.cf',1,NULL,0,1,300,2,60,'DEBUG','WARN','charles@indexdata.com',NULL,0,0,'',6828,6402,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'Charles','OneRepo'),(7211,'HarvestConnectorResource',1,'2016-01-14 15:51:03','','2016-01-06 21:24:58','To include fulltext in the harvest, enter the following value into the Init Data field:\r\n\r\n{\"fulltext\":\"1\"}','2016-04-30 06:00:00','0 6 * * 6','2016-04-30 06:04:13','PLOS (harvest)','OK','',440,'Public Library of Science',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'{\"start\": [\"2016-05-01\"]}',5752,5502,0,NULL,NULL,NULL,NULL,NULL,'FPbK7NlYO9HSKIx','','',NULL,NULL,'{\"fulltext\":\"1\"}',4444,'plos_harvest.cf',1,NULL,0,1,300,1,60,'DEBUG','WARN','charles@indexdata.com, mike@indexdata.com',NULL,0,0,'',6829,6402,1,NULL,'',0,0,0,NULL,NULL,NULL,10,'Charles','OneRepo'),(7212,'HarvestConnectorResource',1,'2016-02-16 16:37:15','','2016-01-19 20:18:08','This connector requires a \"type\" value to be entered into the \"Init Data\" box.  Example {\"type\":\"journal-article\"}','2016-02-16 16:37:16','0 0 14 1 *','2016-01-22 21:13:11','CrossRef','ERROR','Next Link (too long for start token box): {\"link\":\"https:\\/\\/api.crossref.org\\/works?sort=created&order=desc&filter=from-created-date:2000-01-01,until-created-date:2016-01-24,type:journal-article,has-license:true&rows=100&cursor=AoJ4qqOc5%2FcBPxBodHRwOi8vZHguZG9pLm9yZy8xMC4xMDE2L3MwMTQwLTY3MzYoNTMpOTE1MTQtMQ%3D%3D\"}',NULL,'PILA','Connection refused',NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'2016-01-24 00:00:00',NULL,NULL,NULL,'',5752,5502,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'{\"type\":\"journal-article\"}',1111,'crossref.cf',0,NULL,0,1,300,1,60,'DEBUG','WARN','charles@indexdata.com',NULL,0,0,'',6828,6402,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'Charles','OneRepo'),(7213,'OaiPmhResource',1,'2016-03-21 18:08:24','','2016-03-02 20:26:54','','2016-05-01 05:30:00','30 5 * * *','2016-05-01 05:30:09','Project Euclid (OAI-PMH)','OK','',3,'Project Euclid',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,'http://projecteuclid.org/DPubS',NULL,NULL,NULL,'2016-05-01 05:30:00',NULL,'oai_dc','yyyy-MM-dd',NULL,5752,7216,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,NULL,0,1,300,0,0,'DEBUG','WARN','charles@indexdata.com',NULL,0,0,NULL,NULL,NULL,0,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'Charles','EBSCO Editorial'),(7253,'OaiPmhResource',0,'2016-04-26 15:18:42','','2016-04-26 15:18:43','','2016-04-26 15:18:43','30 14 * * 2','2016-04-26 15:18:43','PSICODOC (not broken)','ERROR','',0,'PSICODOC','OAI error badArgument: Ilegal backref: 0 : Query: @docn & @DCDA < 20160426 . BRS_S RETURNS: 1. BRS_S CODE: 6 Commiting up partial harvest as configured. ',NULL,0,NULL,NULL,NULL,NULL,NULL,'http://psicodoc.idbaratz.com:30408/pmhs/pmh',NULL,NULL,NULL,NULL,'2016-04-26 15:18:43','oai_dc','yyyy-MM-dd',NULL,5752,6811,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,NULL,0,1,300,0,60,'DEBUG','WARN','charles@indexdata.com',NULL,0,0,NULL,NULL,NULL,0,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'Charles','EBSCO Editorial'),(7254,'OaiPmhResource',0,'2016-04-26 15:24:21','','2016-04-26 15:24:22','','2016-04-26 15:24:22','30 14 * * 2','2016-04-26 15:24:22','PSICODOC (not broken again)','ERROR','',0,'PSICODOC','OAI error badArgument: Too many open files Commiting up partial harvest as configured. ',NULL,0,NULL,NULL,NULL,NULL,NULL,'http://psicodoc.idbaratz.com:30408/pmhs/pmh',NULL,NULL,NULL,'2010-01-01 00:00:00','2016-04-26 00:00:00','oai_dc','yyyy-MM-dd',NULL,5752,6811,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,NULL,0,1,300,0,60,'DEBUG','WARN','charles@indexdata.com',NULL,0,0,NULL,NULL,NULL,0,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'Charles','EBSCO Editorial'),(7255,'HarvestConnectorResource',1,'2016-04-29 14:58:01','','2016-04-26 16:20:19','Connector accepts startdate, start token (YYYY-MM-DD)','2016-04-30 14:30:00','30 14 * * *','2016-04-30 14:30:14','Hit & Run','OK','',36,'reason.com',NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'{\"start\": [\"2016-04-30\"]}',5752,5502,0,NULL,NULL,NULL,NULL,NULL,'','','',NULL,NULL,'',2000,'hit_run.cf',1,NULL,0,1,300,2,60,'DEBUG','WARN','charles@indexdata.com',NULL,0,0,'',6828,6402,1,NULL,'',0,0,0,NULL,NULL,NULL,NULL,'Charles','Index Data');
/*!40000 ALTER TABLE `HARVESTABLE` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `SEQUENCE`
--

DROP TABLE IF EXISTS `SEQUENCE`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `SEQUENCE` (
  `SEQ_NAME` varchar(50) NOT NULL,
  `SEQ_COUNT` decimal(38,0) DEFAULT NULL,
  PRIMARY KEY (`SEQ_NAME`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;


LOCK TABLES `SEQUENCE` WRITE;
/*!40000 ALTER TABLE `SEQUENCE` DISABLE KEYS */;
INSERT INTO `SEQUENCE` VALUES ('SEQ_GEN',7301);
/*!40000 ALTER TABLE `SEQUENCE` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `SETTING`
--

DROP TABLE IF EXISTS `SETTING`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `SETTING` (
  `ID` bigint(20) NOT NULL,
  `NAME` varchar(4096) NOT NULL,
  `LABEL` varchar(4096) NOT NULL,
  `VALUE` varchar(4096) DEFAULT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;


LOCK TABLES `setting` WRITE;
/*!40000 ALTER TABLE `setting` DISABLE KEYS */;
INSERT INTO `setting` VALUES (1,'cf.engine.url.1','CF Engine (default)','http://arya.indexdata.com:9003/connector'),(2,'cf.repo.url.1','CF Repo (default)','https://idtest:idtest36@cfrepo.indexdata.com/repo.pl/idtest/'),(5552,'cf.repo.url.2','CF Repo (harvest)','https://harvest:corn@cfrepo.indexdata.com/repo.pl/harvest/'),(5602,'cf.repo.url.3','Google','http://www.google.com/');
/*!40000 ALTER TABLE `setting` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `STEP`
--

DROP TABLE IF EXISTS `STEP`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `STEP` (
  `ID` bigint(20) NOT NULL,
  `DTYPE` varchar(31) DEFAULT NULL,
  `DESCRIPTION` varchar(4096) DEFAULT NULL,
  `ENABLED` tinyint(1) DEFAULT '0',
  `NAME` varchar(255) DEFAULT NULL,
  `SCRIPT` text,
  `TYPE` varchar(255) DEFAULT NULL,
  `OUTPUTFORMAT` varchar(255) DEFAULT NULL,
  `INPUTFORMAT` varchar(255) DEFAULT NULL,
  `CUSTOMCLASS` varchar(255) DEFAULT NULL,
  `TESTDATA` text,
  `TESTOUTPUT` text,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `step` WRITE;
/*!40000 ALTER TABLE `step` DISABLE KEYS */;
INSERT INTO `step` VALUES (10,'XmlTransformationStep','Missing non-protocol filtering ',1,'OAIPMH-DC to PZ','<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<!--\r\n\r\n    This stylesheet expects oai/dc records\r\n-->\r\n<xsl:stylesheet\r\n    version=\"1.0\"\r\n    xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"\r\n    xmlns:pz=\"http://www.indexdata.com/pazpar2/1.0\"\r\n    xmlns:oai=\"http://www.openarchives.org/OAI/2.0/\"\r\n    xmlns:dc=\"http://purl.org/dc/elements/1.1/\"\r\n    xmlns:dcterms=\"http://purl.org/dc/terms/\">\r\n\r\n  <xsl:output indent=\"yes\"\r\n              method=\"xml\"\r\n              version=\"1.0\"\r\n              encoding=\"UTF-8\"/>\r\n\r\n  <xsl:template match=\"/oai:OAI-PMH\">\r\n    <xsl:apply-templates/>\r\n  </xsl:template>\r\n\r\n  <xsl:template match=\"oai:ListRecords\">\r\n    <pz:collection>\r\n      <xsl:apply-templates/>\r\n    </pz:collection>\r\n  </xsl:template>\r\n\r\n  <xsl:template match=\"oai:record\">\r\n    <pz:record>\r\n      <pz:metadata type=\"id\">\r\n        <xsl:value-of select=\"oai:header/oai:identifier\"/>\r\n      </pz:metadata>\r\n      <xsl:if test=\"oai:header[@status=\'deleted\']\">\r\n <pz:metadata type=\"record_status\">deleted</pz:metadata>\r\n      </xsl:if>\r\n      <xsl:apply-templates/>\r\n    </pz:record>\r\n  </xsl:template>\r\n    \r\n  <xsl:template match=\"oai:metadata/*\">\r\n    <xsl:for-each select=\"dc:title\">\r\n      <pz:metadata type=\"title\">\r\n        <xsl:value-of select=\".\"/>\r\n      </pz:metadata>\r\n    </xsl:for-each>\r\n\r\n    <xsl:for-each select=\"dc:date\">\r\n      <pz:metadata type=\"date\">\r\n <xsl:value-of select=\".\"/>\r\n      </pz:metadata>\r\n    </xsl:for-each>\r\n\r\n    <xsl:for-each select=\"dc:subject\">\r\n      <pz:metadata type=\"subject\">\r\n <xsl:value-of select=\".\"/>\r\n      </pz:metadata>\r\n    </xsl:for-each>\r\n\r\n    <xsl:for-each select=\"dc:creator\">\r\n      <pz:metadata type=\"author\">\r\n        <xsl:value-of select=\".\"/>\r\n      </pz:metadata>\r\n    </xsl:for-each>\r\n\r\n    <xsl:for-each select=\"dc:description\">\r\n      <pz:metadata type=\"description\">\r\n <xsl:value-of select=\".\"/>\r\n      </pz:metadata>\r\n    </xsl:for-each>\r\n\r\n    <xsl:for-each select=\"dc:identifier\">\r\n      <pz:metadata type=\"electronic-url\">\r\n <xsl:value-of select=\".\"/>\r\n      </pz:metadata>\r\n    </xsl:for-each>\r\n\r\n    <xsl:for-each select=\"dc:type\">\r\n      <pz:metadata type=\"medium\">\r\n <xsl:value-of select=\".\"/>\r\n      </pz:metadata>\r\n    </xsl:for-each>\r\n      \r\n    <xsl:for-each select=\"dcterms:bibliographicCitation\">\r\n      <pz:metadata type=\"citation\">\r\n        <xsl:value-of select=\".\"/>\r\n      </pz:metadata>\r\n    </xsl:for-each>\r\n\r\n  </xsl:template>\r\n\r\n  <xsl:template match=\"text()\"/>\r\n\r\n</xsl:stylesheet>','','','','PZ','OAI-PMH(DC)',NULL),(20,'XmlTransformationStep','',1,'OAIPMH-MARC to MARC21','<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<!--\r\n\r\n    This stylesheet pulls out marc records from the oai-pmh response\r\n    and overwrites the controlfield 001 with oai-identifier\r\n-->\r\n<xsl:stylesheet\r\n    version=\"1.0\"\r\n    xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"\r\n    xmlns:oai=\"http://www.openarchives.org/OAI/2.0/\"\r\n    xmlns:marc=\"http://www.loc.gov/MARC21/slim\"\r\n    xmlns:pz=\"http://www.indexdata.com/pazpar2/1.0\"\r\n    exclude-result-prefixes=\"oai\">\r\n\r\n\r\n <xsl:output indent=\"yes\"\r\n        method=\"xml\"\r\n        version=\"1.0\"\r\n        encoding=\"UTF-8\"/>\r\n\r\n\r\n<xsl:template match=\"/\">\r\n<collection>\r\n  <xsl:apply-templates/>\r\n</collection>\r\n\r\n</xsl:template>\r\n\r\n  <xsl:template match=\"//oai:record\">\r\n    <xsl:if test=\"oai:header[@status=\'deleted\']\">\r\n      <delete><xsl:attribute name=\"id\"><xsl:value-of select=\"oai:header/oai:identifier\"/></xsl:attribute></delete>\r\n    </xsl:if>\r\n    <xsl:if test=\"not(oai:header[@status=\'deleted\'])\">\r\n      <xsl:variable name=\"oai-id\">\r\n          <xsl:value-of select=\"oai:header/oai:identifier\"/>\r\n      </xsl:variable>\r\n\r\n      <xsl:for-each select=\"oai:metadata/marc:record\">\r\n        <xsl:copy>\r\n          <xsl:copy-of select=\"@*\"/>\r\n          <xsl:copy-of select=\"*\"/>\r\n          <pz:metadata type=\"id\">\r\n           <xsl:value-of select=\"$oai-id\"/>\r\n          </pz:metadata>\r\n        </xsl:copy>\r\n      </xsl:for-each>\r\n    </xsl:if>\r\n  </xsl:template>\r\n\r\n  <xsl:template match=\"text()\"/>\r\n\r\n</xsl:stylesheet>','','','','MARCXML','OAIPMH(MARC)',NULL),(22,'XmlTransformationStep','Convert MARCXML to PZ',1,'MARC21 to PZ','<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<xsl:stylesheet\r\n    version=\"1.0\"\r\n    xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"\r\n    xmlns:pz=\"http://www.indexdata.com/pazpar2/1.0\"\r\n    xmlns:marc=\"http://www.loc.gov/MARC21/slim\">\r\n\r\n  \r\n  <xsl:output indent=\"yes\" method=\"xml\" version=\"1.0\" encoding=\"UTF-8\"/>\r\n\r\n<!-- Extract metadata from MARC21/USMARC \r\n      http://www.loc.gov/marc/bibliographic/ecbdhome.html\r\n-->  \r\n  <xsl:include href=\"pz2-ourl-marc21.xsl\" />\r\n\r\n  <xsl:template match=\"/\">\r\n    <pz:collection> \r\n      <xsl:apply-templates />\r\n    </pz:collection>\r\n  </xsl:template>        \r\n  \r\n  <xsl:template match=\"//delete\">\r\n <xsl:copy-of select=\".\"/>                                                                                                                                                                               \r\n  </xsl:template> \r\n  \r\n  <xsl:template match=\"//marc:record\">\r\n    <xsl:variable name=\"title_medium\" select=\"marc:datafield[@tag=\'245\']/marc:subfield[@code=\'h\']\"/>\r\n    <xsl:variable name=\"journal_title\" select=\"marc:datafield[@tag=\'773\']/marc:subfield[@code=\'t\']\"/>\r\n    <xsl:variable name=\"electronic_location_url\" select=\"marc:datafield[@tag=\'856\']/marc:subfield[@code=\'u\']\"/>\r\n    <xsl:variable name=\"fulltext_a\" select=\"marc:datafield[@tag=\'900\']/marc:subfield[@code=\'a\']\"/>\r\n    <xsl:variable name=\"fulltext_b\" select=\"marc:datafield[@tag=\'900\']/marc:subfield[@code=\'b\']\"/>\r\n    <xsl:variable name=\"medium\">\r\n      <xsl:choose>\r\n  <xsl:when test=\"$title_medium\">\r\n   <xsl:value-of select=\"substring-after(substring-before($title_medium,\']\'),\'[\')\"/>\r\n </xsl:when>\r\n <xsl:when test=\"$fulltext_a\">\r\n   <xsl:text>electronic resource</xsl:text>\r\n  </xsl:when>\r\n <xsl:when test=\"$fulltext_b\">\r\n   <xsl:text>electronic resource</xsl:text>\r\n  </xsl:when>\r\n <xsl:when test=\"$journal_title\">\r\n    <xsl:text>article</xsl:text>\r\n  </xsl:when>\r\n <xsl:otherwise>\r\n   <xsl:text>book</xsl:text>\r\n </xsl:otherwise>\r\n      </xsl:choose>\r\n    </xsl:variable>\r\n\r\n    <pz:record>      \r\n      <xsl:for-each select=\"marc:controlfield[@tag=\'001\']\">\r\n        <pz:metadata type=\"id\">\r\n          <xsl:value-of select=\".\"/>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'010\']\">\r\n        <pz:metadata type=\"lccn\">\r\n   <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'020\']\">\r\n        <pz:metadata type=\"isbn\">\r\n    <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'022\']\">\r\n        <pz:metadata type=\"issn\">\r\n    <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'027\']\">\r\n        <pz:metadata type=\"tech-rep-nr\">\r\n   <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'035\']\">\r\n        <pz:metadata type=\"system-control-nr\">\r\n   <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'100\']\">\r\n <pz:metadata type=\"author\">\r\n   <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n </pz:metadata>\r\n  <pz:metadata type=\"author-title\">\r\n   <xsl:value-of select=\"marc:subfield[@code=\'c\']\"/>\r\n </pz:metadata>\r\n  <pz:metadata type=\"author-date\">\r\n    <xsl:value-of select=\"marc:subfield[@code=\'d\']\"/>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'110\']\">\r\n <pz:metadata type=\"corporate-name\">\r\n     <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n </pz:metadata>\r\n  <pz:metadata type=\"corporate-location\">\r\n     <xsl:value-of select=\"marc:subfield[@code=\'c\']\"/>\r\n </pz:metadata>\r\n  <pz:metadata type=\"corporate-date\">\r\n     <xsl:value-of select=\"marc:subfield[@code=\'d\']\"/>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'111\']\">\r\n <pz:metadata type=\"meeting-name\">\r\n     <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n </pz:metadata>\r\n  <pz:metadata type=\"meeting-location\">\r\n     <xsl:value-of select=\"marc:subfield[@code=\'c\']\"/>\r\n </pz:metadata>\r\n  <pz:metadata type=\"meeting-date\">\r\n     <xsl:value-of select=\"marc:subfield[@code=\'d\']\"/>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'260\']\">\r\n <pz:metadata type=\"date\">\r\n     <xsl:value-of select=\"marc:subfield[@code=\'c\']\"/>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'245\']\">\r\n        <pz:metadata type=\"title\">\r\n          <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n        </pz:metadata>\r\n        <pz:metadata type=\"title-remainder\">\r\n          <xsl:value-of select=\"marc:subfield[@code=\'b\']\"/>\r\n        </pz:metadata>\r\n        <pz:metadata type=\"title-responsibility\">\r\n          <xsl:value-of select=\"marc:subfield[@code=\'c\']\"/>\r\n        </pz:metadata>\r\n        <pz:metadata type=\"title-dates\">\r\n          <xsl:value-of select=\"marc:subfield[@code=\'f\']\"/>\r\n        </pz:metadata>\r\n        <pz:metadata type=\"title-medium\">\r\n          <xsl:value-of select=\"marc:subfield[@code=\'h\']\"/>\r\n        </pz:metadata>\r\n        <pz:metadata type=\"title-number-section\">\r\n          <xsl:value-of select=\"marc:subfield[@code=\'n\']\"/>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'250\']\">\r\n <pz:metadata type=\"edition\">\r\n      <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'260\']\">\r\n        <pz:metadata type=\"publication-place\">\r\n   <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n </pz:metadata>\r\n        <pz:metadata type=\"publication-name\">\r\n   <xsl:value-of select=\"marc:subfield[@code=\'b\']\"/>\r\n </pz:metadata>\r\n        <pz:metadata type=\"publication-date\">\r\n   <xsl:value-of select=\"marc:subfield[@code=\'c\']\"/>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'300\']\">\r\n <pz:metadata type=\"physical-extent\">\r\n    <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n </pz:metadata>\r\n  <pz:metadata type=\"physical-format\">\r\n    <xsl:value-of select=\"marc:subfield[@code=\'b\']\"/>\r\n </pz:metadata>\r\n  <pz:metadata type=\"physical-dimensions\">\r\n    <xsl:value-of select=\"marc:subfield[@code=\'c\']\"/>\r\n </pz:metadata>\r\n  <pz:metadata type=\"physical-accomp\">\r\n    <xsl:value-of select=\"marc:subfield[@code=\'e\']\"/>\r\n </pz:metadata>\r\n  <pz:metadata type=\"physical-unittype\">\r\n    <xsl:value-of select=\"marc:subfield[@code=\'f\']\"/>\r\n </pz:metadata>\r\n  <pz:metadata type=\"physical-unitsize\">\r\n    <xsl:value-of select=\"marc:subfield[@code=\'g\']\"/>\r\n </pz:metadata>\r\n  <pz:metadata type=\"physical-specified\">\r\n   <xsl:value-of select=\"marc:subfield[@code=\'3\']\"/>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'440\']\">\r\n <pz:metadata type=\"series-title\">\r\n   <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag = \'500\' or @tag = \'505\' or @tag = \'518\' or @tag = \'520\' or @tag = \'522\']\">\r\n <pz:metadata type=\"description\">\r\n            <xsl:value-of select=\"*/text()\"/>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n      \r\n      <xsl:for-each select=\"marc:datafield[@tag=\'600\' or @tag=\'610\' or @tag=\'611\' or @tag=\'630\' or @tag=\'648\' or @tag=\'650\' or @tag=\'651\' or @tag=\'653\' or @tag=\'654\' or @tag=\'655\' or @tag=\'656\' or @tag=\'657\' or @tag=\'658\' or @tag=\'662\' or @tag=\'69X\']\">\r\n        <pz:metadata type=\"subject\">\r\n    <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n </pz:metadata>\r\n  <pz:metadata type=\"subject-long\">\r\n   <xsl:for-each select=\"marc:subfield\">\r\n     <xsl:if test=\"position() > 1\">\r\n        <xsl:text>, </xsl:text>\r\n     </xsl:if>\r\n     <xsl:value-of select=\".\"/>\r\n    </xsl:for-each>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'856\']\">\r\n <pz:metadata type=\"electronic-url\">\r\n   <xsl:value-of select=\"marc:subfield[@code=\'u\']\"/>\r\n </pz:metadata>\r\n  <pz:metadata type=\"electronic-text\">\r\n    <xsl:value-of select=\"marc:subfield[@code=\'y\']\"/>\r\n </pz:metadata>\r\n  <pz:metadata type=\"electronic-note\">\r\n    <xsl:value-of select=\"marc:subfield[@code=\'z\']\"/>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'773\']\">\r\n        <pz:metadata type=\"citation\">\r\n          <xsl:for-each select=\"*\">\r\n            <xsl:value-of select=\"normalize-space(.)\"/>\r\n            <xsl:text> </xsl:text>\r\n          </xsl:for-each>\r\n        </pz:metadata>\r\n        <xsl:if test=\"marc:subfield[@code=\'t\']\">\r\n          <pz:metadata type=\"journal-title\">\r\n            <xsl:value-of select=\"marc:subfield[@code=\'t\']\"/>\r\n          </pz:metadata>\r\n        </xsl:if>\r\n        <xsl:if test=\"marc:subfield[@code=\'g\']\">\r\n          <pz:metadata type=\"journal-subpart\">\r\n            <xsl:value-of select=\"marc:subfield[@code=\'g\']\"/>\r\n          </pz:metadata>\r\n        </xsl:if>\r\n      </xsl:for-each>\r\n\r\n      <pz:metadata type=\"medium\">\r\n <xsl:value-of select=\"$medium\"/>\r\n      </pz:metadata>\r\n      \r\n      <xsl:for-each select=\"marc:datafield[@tag=\'900\']/marc:subfield[@code=\'a\']\">\r\n        <pz:metadata type=\"fulltext\">\r\n          <xsl:value-of select=\".\"/>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <!-- <xsl:if test=\"$fulltext_a\">\r\n <pz:metadata type=\"fulltext\">\r\n   <xsl:value-of select=\"$fulltext_a\"/>\r\n  </pz:metadata>\r\n      </xsl:if> -->\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'900\']/marc:subfield[@code=\'b\']\">\r\n        <pz:metadata type=\"fulltext\">\r\n          <xsl:value-of select=\".\"/>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <!-- <xsl:if test=\"$fulltext_b\">\r\n  <pz:metadata type=\"fulltext\">\r\n   <xsl:value-of select=\"$fulltext_b\"/>\r\n  </pz:metadata>\r\n      </xsl:if> -->\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'907\' or @tag=\'901\']\">\r\n        <pz:metadata type=\"iii-id\">\r\n    <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'926\']\">\r\n        <pz:metadata type=\"holding\">\r\n   <xsl:for-each select=\"marc:subfield\">\r\n     <xsl:if test=\"position() > 1\">\r\n        <xsl:text> </xsl:text>\r\n      </xsl:if>\r\n     <xsl:value-of select=\".\"/>\r\n    </xsl:for-each>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'948\']\">\r\n        <pz:metadata type=\"holding\">\r\n    <xsl:for-each select=\"marc:subfield\">\r\n     <xsl:if test=\"position() > 1\">\r\n        <xsl:text> </xsl:text>\r\n      </xsl:if>\r\n     <xsl:value-of select=\".\"/>\r\n    </xsl:for-each>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'991\']\">\r\n        <pz:metadata type=\"holding\">\r\n    <xsl:for-each select=\"marc:subfield\">\r\n     <xsl:if test=\"position() > 1\">\r\n        <xsl:text> </xsl:text>\r\n      </xsl:if>\r\n     <xsl:value-of select=\".\"/>\r\n    </xsl:for-each>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:if test=\"$open_url_resolver\">\r\n        <pz:metadata type=\"open-url\">\r\n            <xsl:call-template name=\"insert-md-openurl\" />\r\n        </pz:metadata>\r\n      </xsl:if>\r\n\r\n      <!--passthrough id data-->\r\n      <xsl:for-each select=\"pz:metadata\">\r\n          <xsl:copy-of select=\".\"/>\r\n      </xsl:for-each>\r\n\r\n    </pz:record>    \r\n  </xsl:template>\r\n\r\n  \r\n  <xsl:template match=\"text()\"/>\r\n\r\n</xsl:stylesheet>','','','','PZ','MARCXML',NULL),(3003,'XmlTransformationStep','Basede on marc21.xsl',NULL,'Marc XML','<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<xsl:stylesheet\r\n    version=\"1.0\"\r\n    xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"\r\n    xmlns:pz=\"http://www.indexdata.com/pazpar2/1.0\"\r\n    xmlns:marc=\"http://www.loc.gov/MARC21/slim\">\r\n\r\n  \r\n  <xsl:output indent=\"yes\" method=\"xml\" version=\"1.0\" encoding=\"UTF-8\"/>\r\n\r\n<!-- Extract metadata from MARC21/USMARC \r\n      http://www.loc.gov/marc/bibliographic/ecbdhome.html\r\n-->  \r\n  <xsl:include href=\"pz2-ourl-marc21.xsl\" />\r\n\r\n  <xsl:template match=\"/\">\r\n    <pz:collection> \r\n      <xsl:apply-templates />\r\n    </pz:collection>\r\n  </xsl:template>            \r\n  \r\n  <xsl:template match=\"//delete\">\r\n  <xsl:copy-of select=\".\"/>                                                                                                                                                                               \r\n  </xsl:template>            \r\n  \r\n  <xsl:template match=\"//marc:record\">\r\n    <xsl:variable name=\"title_medium\" select=\"marc:datafield[@tag=\'245\']/marc:subfield[@code=\'h\']\"/>\r\n    <xsl:variable name=\"journal_title\" select=\"marc:datafield[@tag=\'773\']/marc:subfield[@code=\'t\']\"/>\r\n    <xsl:variable name=\"electronic_location_url\" select=\"marc:datafield[@tag=\'856\']/marc:subfield[@code=\'u\']\"/>\r\n    <xsl:variable name=\"fulltext_a\" select=\"marc:datafield[@tag=\'900\']/marc:subfield[@code=\'a\']\"/>\r\n    <xsl:variable name=\"fulltext_b\" select=\"marc:datafield[@tag=\'900\']/marc:subfield[@code=\'b\']\"/>\r\n    <xsl:variable name=\"medium\">\r\n      <xsl:choose>\r\n <xsl:when test=\"$title_medium\">\r\n   <xsl:value-of select=\"substring-after(substring-before($title_medium,\']\'),\'[\')\"/>\r\n </xsl:when>\r\n <xsl:when test=\"$fulltext_a\">\r\n   <xsl:text>electronic resource</xsl:text>\r\n  </xsl:when>\r\n <xsl:when test=\"$fulltext_b\">\r\n   <xsl:text>electronic resource</xsl:text>\r\n  </xsl:when>\r\n <xsl:when test=\"$journal_title\">\r\n    <xsl:text>article</xsl:text>\r\n  </xsl:when>\r\n <xsl:otherwise>\r\n   <xsl:text>book</xsl:text>\r\n </xsl:otherwise>\r\n      </xsl:choose>\r\n    </xsl:variable>\r\n\r\n    <pz:record>      \r\n      <xsl:for-each select=\"marc:controlfield[@tag=\'001\']\">\r\n        <pz:metadata type=\"id\">\r\n          <xsl:value-of select=\".\"/>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'010\']\">\r\n        <pz:metadata type=\"lccn\">\r\n   <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'020\']\">\r\n        <pz:metadata type=\"isbn\">\r\n    <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'022\']\">\r\n        <pz:metadata type=\"issn\">\r\n    <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'027\']\">\r\n        <pz:metadata type=\"tech-rep-nr\">\r\n   <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'035\']\">\r\n        <pz:metadata type=\"system-control-nr\">\r\n   <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'100\']\">\r\n <pz:metadata type=\"author\">\r\n   <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n </pz:metadata>\r\n  <pz:metadata type=\"author-title\">\r\n   <xsl:value-of select=\"marc:subfield[@code=\'c\']\"/>\r\n </pz:metadata>\r\n  <pz:metadata type=\"author-date\">\r\n    <xsl:value-of select=\"marc:subfield[@code=\'d\']\"/>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'110\']\">\r\n <pz:metadata type=\"corporate-name\">\r\n     <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n </pz:metadata>\r\n  <pz:metadata type=\"corporate-location\">\r\n     <xsl:value-of select=\"marc:subfield[@code=\'c\']\"/>\r\n </pz:metadata>\r\n  <pz:metadata type=\"corporate-date\">\r\n     <xsl:value-of select=\"marc:subfield[@code=\'d\']\"/>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'111\']\">\r\n <pz:metadata type=\"meeting-name\">\r\n     <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n </pz:metadata>\r\n  <pz:metadata type=\"meeting-location\">\r\n     <xsl:value-of select=\"marc:subfield[@code=\'c\']\"/>\r\n </pz:metadata>\r\n  <pz:metadata type=\"meeting-date\">\r\n     <xsl:value-of select=\"marc:subfield[@code=\'d\']\"/>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'260\']\">\r\n <pz:metadata type=\"date\">\r\n     <xsl:value-of select=\"marc:subfield[@code=\'c\']\"/>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'245\']\">\r\n        <pz:metadata type=\"title\">\r\n          <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n        </pz:metadata>\r\n        <pz:metadata type=\"title-remainder\">\r\n          <xsl:value-of select=\"marc:subfield[@code=\'b\']\"/>\r\n        </pz:metadata>\r\n        <pz:metadata type=\"title-responsibility\">\r\n          <xsl:value-of select=\"marc:subfield[@code=\'c\']\"/>\r\n        </pz:metadata>\r\n        <pz:metadata type=\"title-dates\">\r\n          <xsl:value-of select=\"marc:subfield[@code=\'f\']\"/>\r\n        </pz:metadata>\r\n        <pz:metadata type=\"title-medium\">\r\n          <xsl:value-of select=\"marc:subfield[@code=\'h\']\"/>\r\n        </pz:metadata>\r\n        <pz:metadata type=\"title-number-section\">\r\n          <xsl:value-of select=\"marc:subfield[@code=\'n\']\"/>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'250\']\">\r\n <pz:metadata type=\"edition\">\r\n      <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'260\']\">\r\n        <pz:metadata type=\"publication-place\">\r\n   <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n </pz:metadata>\r\n        <pz:metadata type=\"publication-name\">\r\n   <xsl:value-of select=\"marc:subfield[@code=\'b\']\"/>\r\n </pz:metadata>\r\n        <pz:metadata type=\"publication-date\">\r\n   <xsl:value-of select=\"marc:subfield[@code=\'c\']\"/>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'300\']\">\r\n <pz:metadata type=\"physical-extent\">\r\n    <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n </pz:metadata>\r\n  <pz:metadata type=\"physical-format\">\r\n    <xsl:value-of select=\"marc:subfield[@code=\'b\']\"/>\r\n </pz:metadata>\r\n  <pz:metadata type=\"physical-dimensions\">\r\n    <xsl:value-of select=\"marc:subfield[@code=\'c\']\"/>\r\n </pz:metadata>\r\n  <pz:metadata type=\"physical-accomp\">\r\n    <xsl:value-of select=\"marc:subfield[@code=\'e\']\"/>\r\n </pz:metadata>\r\n  <pz:metadata type=\"physical-unittype\">\r\n    <xsl:value-of select=\"marc:subfield[@code=\'f\']\"/>\r\n </pz:metadata>\r\n  <pz:metadata type=\"physical-unitsize\">\r\n    <xsl:value-of select=\"marc:subfield[@code=\'g\']\"/>\r\n </pz:metadata>\r\n  <pz:metadata type=\"physical-specified\">\r\n   <xsl:value-of select=\"marc:subfield[@code=\'3\']\"/>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'440\']\">\r\n <pz:metadata type=\"series-title\">\r\n   <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag = \'500\' or @tag = \'505\' or\r\n          @tag = \'518\' or @tag = \'520\' or @tag = \'522\']\">\r\n  <pz:metadata type=\"description\">\r\n            <xsl:value-of select=\"*/text()\"/>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n      \r\n      <xsl:for-each select=\"marc:datafield[@tag=\'600\' or @tag=\'610\' or @tag=\'611\' or @tag=\'630\' or @tag=\'648\' or @tag=\'650\' or @tag=\'651\' or @tag=\'653\' or @tag=\'654\' or @tag=\'655\' or @tag=\'656\' or @tag=\'657\' or @tag=\'658\' or @tag=\'662\' or @tag=\'69X\']\">\r\n        <pz:metadata type=\"subject\">\r\n    <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n </pz:metadata>\r\n  <pz:metadata type=\"subject-long\">\r\n   <xsl:for-each select=\"marc:subfield\">\r\n     <xsl:if test=\"position() > 1\">\r\n        <xsl:text>, </xsl:text>\r\n     </xsl:if>\r\n     <xsl:value-of select=\".\"/>\r\n    </xsl:for-each>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'856\']\">\r\n <pz:metadata type=\"electronic-url\">\r\n   <xsl:value-of select=\"marc:subfield[@code=\'u\']\"/>\r\n </pz:metadata>\r\n  <pz:metadata type=\"electronic-text\">\r\n    <xsl:value-of select=\"marc:subfield[@code=\'y\']\"/>\r\n </pz:metadata>\r\n  <pz:metadata type=\"electronic-note\">\r\n    <xsl:value-of select=\"marc:subfield[@code=\'z\']\"/>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'773\']\">\r\n        <pz:metadata type=\"citation\">\r\n          <xsl:for-each select=\"*\">\r\n            <xsl:value-of select=\"normalize-space(.)\"/>\r\n            <xsl:text> </xsl:text>\r\n          </xsl:for-each>\r\n        </pz:metadata>\r\n        <xsl:if test=\"marc:subfield[@code=\'t\']\">\r\n          <pz:metadata type=\"journal-title\">\r\n            <xsl:value-of select=\"marc:subfield[@code=\'t\']\"/>\r\n          </pz:metadata>\r\n        </xsl:if>\r\n        <xsl:if test=\"marc:subfield[@code=\'g\']\">\r\n          <pz:metadata type=\"journal-subpart\">\r\n            <xsl:value-of select=\"marc:subfield[@code=\'g\']\"/>\r\n          </pz:metadata>\r\n        </xsl:if>\r\n      </xsl:for-each>\r\n\r\n      <pz:metadata type=\"medium\">\r\n <xsl:value-of select=\"$medium\"/>\r\n      </pz:metadata>\r\n      \r\n      <xsl:for-each select=\"marc:datafield[@tag=\'900\']/marc:subfield[@code=\'a\']\">\r\n        <pz:metadata type=\"fulltext\">\r\n          <xsl:value-of select=\".\"/>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <!-- <xsl:if test=\"$fulltext_a\">\r\n <pz:metadata type=\"fulltext\">\r\n   <xsl:value-of select=\"$fulltext_a\"/>\r\n  </pz:metadata>\r\n      </xsl:if> -->\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'900\']/marc:subfield[@code=\'b\']\">\r\n        <pz:metadata type=\"fulltext\">\r\n          <xsl:value-of select=\".\"/>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <!-- <xsl:if test=\"$fulltext_b\">\r\n  <pz:metadata type=\"fulltext\">\r\n   <xsl:value-of select=\"$fulltext_b\"/>\r\n  </pz:metadata>\r\n      </xsl:if> -->\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'907\' or @tag=\'901\']\">\r\n        <pz:metadata type=\"iii-id\">\r\n    <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'926\']\">\r\n        <pz:metadata type=\"holding\">\r\n   <xsl:for-each select=\"marc:subfield\">\r\n     <xsl:if test=\"position() > 1\">\r\n        <xsl:text> </xsl:text>\r\n      </xsl:if>\r\n     <xsl:value-of select=\".\"/>\r\n    </xsl:for-each>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'948\']\">\r\n        <pz:metadata type=\"holding\">\r\n    <xsl:for-each select=\"marc:subfield\">\r\n     <xsl:if test=\"position() > 1\">\r\n        <xsl:text> </xsl:text>\r\n      </xsl:if>\r\n     <xsl:value-of select=\".\"/>\r\n    </xsl:for-each>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'991\']\">\r\n        <pz:metadata type=\"holding\">\r\n    <xsl:for-each select=\"marc:subfield\">\r\n     <xsl:if test=\"position() > 1\">\r\n        <xsl:text> </xsl:text>\r\n      </xsl:if>\r\n     <xsl:value-of select=\".\"/>\r\n    </xsl:for-each>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:if test=\"$open_url_resolver\">\r\n        <pz:metadata type=\"open-url\">\r\n            <xsl:call-template name=\"insert-md-openurl\" />\r\n        </pz:metadata>\r\n      </xsl:if>\r\n\r\n      <!--passthrough id data-->\r\n      <xsl:for-each select=\"pz:metadata\">\r\n          <xsl:copy-of select=\".\"/>\r\n      </xsl:for-each>\r\n\r\n    </pz:record>    \r\n  </xsl:template>\r\n\r\n  \r\n  <xsl:template match=\"text()\"/>\r\n\r\n</xsl:stylesheet>\r\n','','','','PZ','MARCXML',NULL),(3005,'XmlTransformationStep','<Description>',NULL,'Turbo Marc','<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<xsl:stylesheet version=\"1.0\"\r\n  xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" xmlns:pz=\"http://www.indexdata.com/pazpar2/1.0\"\r\n  xmlns:tmarc=\"http://www.indexdata.com/turbomarc\">\r\n\r\n  <xsl:output indent=\"yes\" method=\"xml\" version=\"1.0\"\r\n    encoding=\"UTF-8\" />\r\n  <xsl:param name=\"medium\"/>\r\n\r\n  <!-- Extract metadata from MARC21/USMARC from streamlined marcxml format \r\n    http://www.loc.gov/marc/bibliographic/ecbdhome.html -->\r\n  <xsl:template name=\"record-hook\" />\r\n\r\n\r\n  <xsl:template match=\"/\">\r\n      <xsl:apply-templates />\r\n  </xsl:template>\r\n\r\n  <xsl:template match=\"tmarc:collection\">\r\n    <collection>\r\n      <xsl:apply-templates />\r\n    </collection>\r\n  </xsl:template>\r\n\r\n  <xsl:template match=\"tmarc:r\">\r\n    <xsl:variable name=\"title_medium\" select=\"tmarc:d245/tmarc:sh\" />\r\n    <xsl:variable name=\"journal_title\" select=\"tmarc:d773/tmarc:st\" />\r\n    <xsl:variable name=\"electronic_location_url\" select=\"tmarc:d856/tmarc:su\" />\r\n    <xsl:variable name=\"fulltext_a\" select=\"tmarc:d900/tmarc:sa\" />\r\n    <xsl:variable name=\"fulltext_b\" select=\"tmarc:d900/tmarc:sb\" />\r\n    <!-- Does not always hit the right substring. The field is not always fixed-width? -->\r\n    <xsl:variable name=\"control_lang\" select=\"substring(tmarc:c008, 36, 3)\" />\r\n    <xsl:variable name=\"contains110\" select=\"tmarc:d110\" />\r\n    <xsl:variable name=\"hasAuthorFields\" select=\"tmarc:d100 or tmarc:d111\" />\r\n    <xsl:variable name=\"typeofrec\" select=\"substring(tmarc:l, 7, 1)\"/>\r\n    <xsl:variable name=\"typeofvm\" select=\"substring(tmarc:c008, 34, 1)\"/>\r\n    <xsl:variable name=\"biblevel\" select=\"substring(tmarc:l, 8, 1)\"/>\r\n    <xsl:variable name=\"physdes\" select=\"substring(tmarc:c007, 1, 1)\"/>\r\n    <xsl:variable name=\"form1\" select=\"substring(tmarc:c008, 24, 1)\"/>\r\n    <xsl:variable name=\"form2\" select=\"substring(tmarc:c008, 30, 1)\"/>\r\n    <xsl:variable name=\"oclca\" select=\"substring(tmarc:c007, 1, 1)\"/>\r\n    <xsl:variable name=\"oclcb\" select=\"substring(tmarc:c007, 2, 1)\"/>\r\n    <xsl:variable name=\"oclcd\" select=\"substring(tmarc:c007, 4, 1)\"/>\r\n    <xsl:variable name=\"oclce\" select=\"substring(tmarc:c007, 5, 1)\"/>\r\n    <xsl:variable name=\"typeofserial\" select=\"substring(tmarc:c008, 22, 1)\"/>\r\n\r\n    <xsl:variable name=\"electronic\">\r\n      <xsl:choose>\r\n        <xsl:when test=\"$form1=\'s\' or $form1=\'q\' or $form1=\'o\' or\r\n     $form2=\'s\' or $form2=\'q\' or $form2=\'o\'\">\r\n     <xsl:text>yes</xsl:text>\r\n </xsl:when>\r\n <xsl:otherwise/>\r\n      </xsl:choose>\r\n    </xsl:variable>\r\n\r\n    <xsl:variable name=\"vmedium\">\r\n      <xsl:choose>\r\n        <xsl:when test=\"string-length($medium)\"><xsl:value-of select=\"$medium\" /></xsl:when>\r\n        <xsl:when test=\"($typeofrec=\'a\' or $typeofrec=\'t\') and $biblevel=\'m\'\">book</xsl:when>\r\n        <xsl:when test=\"$typeofrec=\'j\' or $typeofrec=\'i\'\">\r\n    <xsl:text>recording</xsl:text>\r\n    <xsl:choose>\r\n      <xsl:when test=\"$oclcb=\'d\' and $oclcd=\'f\'\">-cd</xsl:when>\r\n     <xsl:when test=\"$oclcb=\'s\'\">-cassette</xsl:when>\r\n      <xsl:when test=\"$oclcb=\'d\' and $oclcd=\'a\' or $oclcd=\'b\' or\r\n       $oclcd=\'c\' or $oclcd=\'d\' or $oclcd=\'e\'\">-vinyl</xsl:when>\r\n    </xsl:choose>\r\n </xsl:when>\r\n <xsl:when test=\"$typeofrec=\'g\'\">\r\n    <xsl:choose>\r\n      <xsl:when test=\"$typeofvm=\'m\' or $typeofvm=\'v\'\">\r\n        <xsl:text>video</xsl:text>\r\n        <xsl:choose>\r\n          <xsl:when test=\"$oclca=\'v\' and $oclcb=\'d\' and $oclce=\'v\'\">-dvd</xsl:when>\r\n         <xsl:when test=\"$oclca=\'v\' and $oclcb=\'d\' and $oclce=\'s\'\">-blu-ray</xsl:when>\r\n         <xsl:when test=\"$oclca=\'v\' and $oclcb=\'f\' and $oclce=\'b\'\">-vhs</xsl:when>\r\n       </xsl:choose>\r\n     </xsl:when>\r\n     <xsl:otherwise>audio-visual</xsl:otherwise>\r\n   </xsl:choose>\r\n </xsl:when>\r\n <xsl:when test=\"$typeofrec=\'a\' and $biblevel=\'s\'\">\r\n    <xsl:choose>\r\n      <xsl:when test=\"$typeofserial=\'n\'\">newspaper</xsl:when>\r\n     <xsl:otherwise>journal</xsl:otherwise>\r\n    </xsl:choose>\r\n </xsl:when>\r\n <xsl:when test=\"$typeofrec=\'e\' or $typeofrec=\'f\'\">map</xsl:when>\r\n  <xsl:when test=\"$typeofrec=\'c\' or $typeofrec=\'d\'\">music-score</xsl:when>\r\n  <xsl:when test=\"$form1=\'a\' or $form1=\'b\' or $form1=\'c\'\">microform</xsl:when>\r\n  <xsl:when test=\"$typeofrec=\'t\'\">thesis</xsl:when>\r\n        <!-- <xsl:when test=\"$journal_title\">article</xsl:when> -->\r\n  <xsl:when test=\"$typeofrec=\'a\' or $typeofrec=\'i\' and\r\n     ($typeofserial=\'d\' or $typeofserial=\'w\')\">web</xsl:when>\r\n <xsl:when test=\"$typeofrec=\'a\' and $biblevel=\'b\'\">article</xsl:when>\r\n  <xsl:when test=\"$typeofrec=\'m\'\">electronic</xsl:when>\r\n        <xsl:when test=\"$title_medium\">\r\n          <xsl:value-of select=\"translate($title_medium, \' []/:\', \'\')\" />\r\n        </xsl:when>\r\n        <xsl:otherwise>\r\n          <xsl:text>other</xsl:text>\r\n        </xsl:otherwise>\r\n      </xsl:choose>\r\n    </xsl:variable>\r\n\r\n    <xsl:variable name=\"has_fulltext\">\r\n      <xsl:choose>\r\n        <xsl:when test=\"tmarc:d856/tmarc:sq\">\r\n          <xsl:text>yes</xsl:text>\r\n        </xsl:when>\r\n        <xsl:when test=\"tmarc:d856/tmarc:si=\'TEXT*\'\">\r\n          <xsl:text>yes</xsl:text>\r\n        </xsl:when>\r\n        <xsl:otherwise>\r\n          <xsl:text>no</xsl:text>\r\n        </xsl:otherwise>\r\n      </xsl:choose>\r\n    </xsl:variable>\r\n\r\n    <xsl:variable name=\"oclc_number\">\r\n      <xsl:choose>\r\n        <xsl:when test=\'contains(tmarc:c001,\"ocn\") or\r\n                        contains(tmarc:c001,\"ocm\") or\r\n                        contains(tmarc:c001,\"OCoLC\") \'>\r\n         <xsl:value-of select=\"tmarc:c001\"/>\r\n        </xsl:when>\r\n        <xsl:when test=\'contains(tmarc:d035/tmarc:sa,\"ocn\") or\r\n                        contains(tmarc:d035/tmarc:sa,\"ocm\") or\r\n                        contains(tmarc:d035/tmarc:sa,\"OCoLC\") \'>\r\n         <xsl:value-of select=\"tmarc:d035/tmarc:sa\"/>\r\n        </xsl:when>\r\n      </xsl:choose>\r\n    </xsl:variable>\r\n\r\n    <xsl:variable name=\"date_008\">\r\n      <xsl:choose>\r\n        <xsl:when test=\"contains(\'cestpudikmr\', substring(tmarc:c008, 7, 1))\">\r\n          <xsl:value-of select=\"substring(tmarc:c008, 8, 4)\" />\r\n        </xsl:when>\r\n      </xsl:choose>\r\n    </xsl:variable>\r\n\r\n    <xsl:variable name=\"date_end_008\">\r\n      <xsl:choose>\r\n        <xsl:when test=\"contains(\'dikmr\', substring(tmarc:c008, 7, 1))\">\r\n          <xsl:value-of select=\"substring(tmarc:c008, 12, 4)\" />\r\n        </xsl:when>\r\n      </xsl:choose>\r\n    </xsl:variable>\r\n\r\n    <pz:record>\r\n<!--\r\n      <xsl:attribute name=\"mergekey\">\r\n    <xsl:text>title </xsl:text>\r\n  <xsl:value-of select=\"tmarc:d245/tmarc:sa\" />\r\n  <xsl:text> author </xsl:text>\r\n  <xsl:value-of select=\"tmarc:d100/tmarc:sa\" />\r\n  <xsl:text> medium </xsl:text>\r\n  <xsl:value-of select=\"$medium\" />\r\n    </xsl:attribute>\r\n  -->\r\n\r\n      <xsl:for-each select=\"tmarc:c001\">\r\n        <pz:metadata type=\"id\">\r\n          <xsl:value-of select=\".\" />\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <pz:metadata type=\"oclc-number\">\r\n        <xsl:value-of select=\"$oclc_number\" />\r\n      </pz:metadata>\r\n\r\n      <xsl:for-each select=\"tmarc:d010\">\r\n        <pz:metadata type=\"lccn\">\r\n          <xsl:value-of select=\"tmarc:sa\" />\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d020\">\r\n        <pz:metadata type=\"isbn\">\r\n          <xsl:value-of select=\"tmarc:sa\" />\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d022\">\r\n        <pz:metadata type=\"issn\">\r\n          <xsl:value-of select=\"tmarc:sa\" />\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d027\">\r\n        <pz:metadata type=\"tech-rep-nr\">\r\n          <xsl:value-of select=\"tmarc:sa\" />\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d035\"> \r\n        <pz:metadata type=\"system-control-nr\">\r\n          <xsl:choose>\r\n            <xsl:when test=\"tmarc:sa\">\r\n              <xsl:value-of select=\"tmarc:sa\"/>\r\n            </xsl:when>\r\n            <xsl:otherwise>\r\n              <xsl:value-of select=\"tmarc:sb\"/>\r\n            </xsl:otherwise>\r\n          </xsl:choose>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d100\">\r\n        <pz:metadata type=\"author\">\r\n          <xsl:value-of select=\"tmarc:sa\" />\r\n        </pz:metadata>\r\n        <pz:metadata type=\"author-title\">\r\n          <xsl:value-of select=\"tmarc:sc\" />\r\n        </pz:metadata>\r\n        <pz:metadata type=\"author-date\">\r\n          <xsl:value-of select=\"tmarc:sd\" />\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d110\">\r\n        <pz:metadata type=\"corporate-name\">\r\n          <xsl:value-of select=\"tmarc:sa\" />\r\n        </pz:metadata>\r\n        <pz:metadata type=\"corporate-location\">\r\n          <xsl:value-of select=\"tmarc:sc\" />\r\n        </pz:metadata>\r\n        <pz:metadata type=\"corporate-date\">\r\n          <xsl:value-of select=\"tmarc:sd\" />\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d111\">\r\n        <pz:metadata type=\"meeting-name\">\r\n          <xsl:value-of select=\"tmarc:sa\" />\r\n        </pz:metadata>\r\n        <pz:metadata type=\"meeting-location\">\r\n          <xsl:value-of select=\"tmarc:sc\" />\r\n        </pz:metadata>\r\n        <pz:metadata type=\"meeting-date\">\r\n          <xsl:value-of select=\"tmarc:sd\" />\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d260\">\r\n        <pz:metadata type=\"date\">\r\n          <xsl:value-of select=\"translate(tmarc:sc, \'cp[].\', \'\')\" />\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:if test=\"$date_008 and not(tmarc:d260)\">\r\n        <pz:metadata type=\"date\">\r\n          <xsl:choose>\r\n            <xsl:when test=\"$date_end_008\">\r\n              <xsl:value-of select=\"concat($date_008,\'-\',$date_end_008)\" />\r\n            </xsl:when>\r\n            <xsl:otherwise> \r\n              <xsl:value-of select=\"$date_008\" />\r\n            </xsl:otherwise>\r\n          </xsl:choose>\r\n        </pz:metadata>\r\n      </xsl:if>\r\n\r\n\r\n      <xsl:for-each select=\"tmarc:d130\">\r\n        <pz:metadata type=\"title-uniform\">\r\n          <xsl:value-of select=\"tmarc:sa\" />\r\n        </pz:metadata>\r\n        <pz:metadata type=\"title-uniform-media\">\r\n          <xsl:value-of select=\"tmarc:sm\" />\r\n        </pz:metadata>\r\n        <pz:metadata type=\"title-uniform-parts\">\r\n          <xsl:value-of select=\"tmarc:sn\" />\r\n        </pz:metadata>\r\n        <pz:metadata type=\"title-uniform-partname\">\r\n          <xsl:value-of select=\"tmarc:sp\" />\r\n        </pz:metadata>\r\n        <pz:metadata type=\"title-uniform-key\">\r\n          <xsl:value-of select=\"tmarc:sr\" />\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d245\">\r\n        <pz:metadata type=\"title\">\r\n          <xsl:value-of select=\"tmarc:sa\" />\r\n        </pz:metadata>\r\n        <pz:metadata type=\"title-remainder\">\r\n          <xsl:value-of select=\"tmarc:sb\" />\r\n        </pz:metadata>\r\n        <pz:metadata type=\"title-responsibility\">\r\n          <xsl:value-of select=\"tmarc:sc\" />\r\n        </pz:metadata>\r\n        <pz:metadata type=\"title-dates\">\r\n          <xsl:value-of select=\"tmarc:sf\" />\r\n        </pz:metadata>\r\n        <pz:metadata type=\"title-medium\">\r\n          <xsl:value-of select=\"tmarc:sh\" />\r\n        </pz:metadata>\r\n        <pz:metadata type=\"title-number-section\">\r\n          <xsl:value-of select=\"tmarc:sn\" />\r\n        </pz:metadata>\r\n        <pz:metadata type=\"title-complete\">\r\n          <xsl:value-of select=\"tmarc:sa\" />\r\n          <xsl:if test=\"tmarc:sb\" ><xsl:value-of select=\"concat(\' \', tmarc:sb)\" /></xsl:if>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d250\">\r\n        <pz:metadata type=\"edition\">\r\n          <xsl:value-of select=\"tmarc:sa\" />\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d260\">\r\n        <pz:metadata type=\"publication-place\">\r\n          <xsl:value-of select=\"tmarc:sa\" />\r\n        </pz:metadata>\r\n        <pz:metadata type=\"publication-name\">\r\n          <xsl:value-of select=\"tmarc:sb\" />\r\n        </pz:metadata>\r\n        <pz:metadata type=\"publication-date\">\r\n          <xsl:value-of select=\"tmarc:sc\" />\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d300\">\r\n        <pz:metadata type=\"physical-extent\">\r\n          <xsl:value-of select=\"tmarc:sa\" />\r\n        </pz:metadata>\r\n        <pz:metadata type=\"physical-format\">\r\n          <xsl:value-of select=\"tmarc:sb\" />\r\n        </pz:metadata>\r\n        <pz:metadata type=\"physical-dimensions\">\r\n          <xsl:value-of select=\"tmarc:sc\" />\r\n        </pz:metadata>\r\n        <pz:metadata type=\"physical-accomp\">\r\n          <xsl:value-of select=\"tmarc:se\" />\r\n        </pz:metadata>\r\n        <pz:metadata type=\"physical-unittype\">\r\n          <xsl:value-of select=\"tmarc:sf\" />\r\n        </pz:metadata>\r\n        <pz:metadata type=\"physical-unitsize\">\r\n          <xsl:value-of select=\"tmarc:sg\" />\r\n        </pz:metadata>\r\n        <pz:metadata type=\"physical-specified\">\r\n          <xsl:value-of select=\"tmarc:s3\" />\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d440\">\r\n        <pz:metadata type=\"series-title\">\r\n          <xsl:value-of select=\"tmarc:sa\" />\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d500\">\r\n        <pz:metadata type=\"description\">\r\n          <xsl:for-each select=\"node()\">\r\n            <xsl:value-of select=\"text()\" />\r\n          </xsl:for-each>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d505\">\r\n        <pz:metadata type=\"description\">\r\n          <xsl:for-each select=\"node()\">\r\n            <xsl:value-of select=\"text()\" />\r\n          </xsl:for-each>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d518\">\r\n        <pz:metadata type=\"description\">\r\n          <xsl:for-each select=\"node()\">\r\n            <xsl:value-of select=\"text()\" />\r\n          </xsl:for-each>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d520\">\r\n        <pz:metadata type=\"description\">\r\n          <xsl:for-each select=\"node()\">\r\n            <xsl:value-of select=\"text()\" />\r\n          </xsl:for-each>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d522\">\r\n        <pz:metadata type=\"description\">\r\n          <xsl:for-each select=\"node()\">\r\n            <xsl:value-of select=\"text()\" />\r\n          </xsl:for-each>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d911\">\r\n        <pz:metadata type=\"description\">\r\n          <xsl:for-each select=\"node()\">\r\n            <xsl:value-of select=\"text()\" />\r\n          </xsl:for-each>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d600\">\r\n        <pz:metadata type=\"subject\">\r\n          <xsl:value-of select=\"tmarc:sa\" />\r\n        </pz:metadata>\r\n        <pz:metadata type=\"subject-long\">\r\n          <xsl:for-each select=\"node()/text()\">\r\n            <xsl:if test=\"position() > 1\">\r\n              <xsl:text>, </xsl:text>\r\n            </xsl:if>\r\n            <xsl:value-of select=\".\" />\r\n          </xsl:for-each>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d610\">\r\n        <pz:metadata type=\"subject\">\r\n          <xsl:value-of select=\"tmarc:sa\" />\r\n        </pz:metadata>\r\n        <pz:metadata type=\"subject-long\">\r\n          <xsl:for-each select=\"node()/text()\">\r\n            <xsl:if test=\"position() > 1\">\r\n              <xsl:text>, </xsl:text>\r\n            </xsl:if>\r\n            <xsl:value-of select=\".\" />\r\n          </xsl:for-each>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d611\">\r\n        <pz:metadata type=\"subject\">\r\n          <xsl:value-of select=\"tmarc:sa\" />\r\n        </pz:metadata>\r\n        <pz:metadata type=\"subject-long\">\r\n          <xsl:for-each select=\"node()/text()\">\r\n            <xsl:if test=\"position() > 1\">\r\n              <xsl:text>, </xsl:text>\r\n            </xsl:if>\r\n            <xsl:value-of select=\".\" />\r\n          </xsl:for-each>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d630\">\r\n        <pz:metadata type=\"subject\">\r\n          <xsl:value-of select=\"tmarc:sa\" />\r\n        </pz:metadata>\r\n        <pz:metadata type=\"subject-long\">\r\n          <xsl:for-each select=\"node()/text()\">\r\n            <xsl:if test=\"position() > 1\">\r\n              <xsl:text>, </xsl:text>\r\n            </xsl:if>\r\n            <xsl:value-of select=\".\" />\r\n          </xsl:for-each>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d648\">\r\n        <pz:metadata type=\"subject\">\r\n          <xsl:value-of select=\"tmarc:sa\" />\r\n        </pz:metadata>\r\n        <pz:metadata type=\"subject-long\">\r\n          <xsl:for-each select=\"node()/text()\">\r\n            <xsl:if test=\"position() > 1\">\r\n              <xsl:text>, </xsl:text>\r\n            </xsl:if>\r\n            <xsl:value-of select=\".\" />\r\n          </xsl:for-each>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d650\">\r\n        <pz:metadata type=\"subject\">\r\n          <xsl:value-of select=\"tmarc:sa\" />\r\n        </pz:metadata>\r\n        <pz:metadata type=\"subject-long\">\r\n          <xsl:for-each select=\"node()/text()\">\r\n            <xsl:if test=\"position() > 1\">\r\n              <xsl:text>, </xsl:text>\r\n            </xsl:if>\r\n            <xsl:value-of select=\".\" />\r\n          </xsl:for-each>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d651\">\r\n        <pz:metadata type=\"subject\">\r\n          <xsl:value-of select=\"tmarc:sa\" />\r\n        </pz:metadata>\r\n        <pz:metadata type=\"subject-long\">\r\n          <xsl:for-each select=\"node()/text()\">\r\n            <xsl:if test=\"position() > 1\">\r\n              <xsl:text>, </xsl:text>\r\n            </xsl:if>\r\n            <xsl:value-of select=\".\" />\r\n          </xsl:for-each>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d653\">\r\n        <pz:metadata type=\"subject\">\r\n          <xsl:value-of select=\"tmarc:sa\" />\r\n        </pz:metadata>\r\n        <pz:metadata type=\"subject-long\">\r\n          <xsl:for-each select=\"node()/text()\">\r\n            <xsl:if test=\"position() > 1\">\r\n              <xsl:text>, </xsl:text>\r\n            </xsl:if>\r\n            <xsl:value-of select=\".\" />\r\n          </xsl:for-each>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d654\">\r\n        <pz:metadata type=\"subject\">\r\n          <xsl:value-of select=\"tmarc:sa\" />\r\n        </pz:metadata>\r\n        <pz:metadata type=\"subject-long\">\r\n          <xsl:for-each select=\"node()/text()\">\r\n            <xsl:if test=\"position() > 1\">\r\n              <xsl:text>, </xsl:text>\r\n            </xsl:if>\r\n            <xsl:value-of select=\".\" />\r\n          </xsl:for-each>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d655\">\r\n        <pz:metadata type=\"subject\">\r\n          <xsl:value-of select=\"tmarc:sa\" />\r\n        </pz:metadata>\r\n        <pz:metadata type=\"subject-long\">\r\n          <xsl:for-each select=\"node()/text()\">\r\n            <xsl:if test=\"position() > 1\">\r\n              <xsl:text>, </xsl:text>\r\n            </xsl:if>\r\n            <xsl:value-of select=\".\" />\r\n          </xsl:for-each>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d656\">\r\n        <pz:metadata type=\"subject\">\r\n          <xsl:value-of select=\"tmarc:sa\" />\r\n        </pz:metadata>\r\n        <pz:metadata type=\"subject-long\">\r\n          <xsl:for-each select=\"node()/text()\">\r\n            <xsl:if test=\"position() > 1\">\r\n              <xsl:text>, </xsl:text>\r\n            </xsl:if>\r\n            <xsl:value-of select=\".\" />\r\n          </xsl:for-each>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d657\">\r\n        <pz:metadata type=\"subject\">\r\n          <xsl:value-of select=\"tmarc:sa\" />\r\n        </pz:metadata>\r\n        <pz:metadata type=\"subject-long\">\r\n          <xsl:for-each select=\"node()/text()\">\r\n            <xsl:if test=\"position() > 1\">\r\n              <xsl:text>, </xsl:text>\r\n            </xsl:if>\r\n            <xsl:value-of select=\".\" />\r\n          </xsl:for-each>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d658\">\r\n        <pz:metadata type=\"subject\">\r\n          <xsl:value-of select=\"tmarc:sa\" />\r\n        </pz:metadata>\r\n        <pz:metadata type=\"subject-long\">\r\n          <xsl:for-each select=\"node()/text()\">\r\n            <xsl:if test=\"position() > 1\">\r\n              <xsl:text>, </xsl:text>\r\n            </xsl:if>\r\n            <xsl:value-of select=\".\" />\r\n          </xsl:for-each>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d662\">\r\n        <pz:metadata type=\"subject\">\r\n          <xsl:value-of select=\"tmarc:sa\" />\r\n        </pz:metadata>\r\n        <pz:metadata type=\"subject-long\">\r\n          <xsl:for-each select=\"node()/text()\">\r\n            <xsl:if test=\"position() > 1\">\r\n              <xsl:text>, </xsl:text>\r\n            </xsl:if>\r\n            <xsl:value-of select=\".\" />\r\n          </xsl:for-each>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d69X\">\r\n        <pz:metadata type=\"subject\">\r\n          <xsl:value-of select=\"tmarc:sa\" />\r\n        </pz:metadata>\r\n        <pz:metadata type=\"subject-long\">\r\n          <xsl:for-each select=\"node()/text()\">\r\n            <xsl:if test=\"position() > 1\">\r\n              <xsl:text>, </xsl:text>\r\n            </xsl:if>\r\n            <xsl:value-of select=\".\" />\r\n          </xsl:for-each>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <!-- or tmarc:d651 or tmarc:d653 or tmarc:d654 or tmarc:d655 or tmarc:d656 \r\n        or tmarc:d657 or tmarc:d658 or tmarc:d662 or tmarc:d69X\"> -->\r\n\r\n      <!-- <xsl:for-each select=\"tmarc:d600\" > <pz:metadata type=\"subject\"> \r\n        <xsl:value-of select=\"tmarc:sa\"/> </pz:metadata> <pz:metadata type=\"subject-long\"> \r\n        <xsl:for-each select=\"tmarc:sa tmarc:sb tmarc:sc tmarc:sd \"> <xsl:if test=\"position() \r\n        > 1\"> <xsl:text>, </xsl:text> </xsl:if> <xsl:value-of select=\".\"/> </xsl:for-each> \r\n        </pz:metadata> </xsl:for-each> -->\r\n\r\n      <xsl:for-each select=\"tmarc:d856\">\r\n        <pz:metadata type=\"electronic-url\">\r\n          <xsl:value-of select=\"tmarc:su\" />\r\n        </pz:metadata>\r\n        <pz:metadata type=\"electronic-text\">\r\n          <xsl:choose>\r\n     <xsl:when test=\"tmarc:sy\">\r\n        <xsl:value-of select=\"tmarc:sy/text()\" />\r\n     </xsl:when>\r\n     <xsl:when test=\"tmarc:s3\">\r\n        <xsl:value-of select=\"tmarc:s3/text()\" />\r\n     </xsl:when>\r\n      <xsl:otherwise>Get resource</xsl:otherwise>\r\n     </xsl:choose>\r\n        </pz:metadata>\r\n        <pz:metadata type=\"electronic-note\">\r\n          <xsl:value-of select=\"tmarc:sz\" />\r\n        </pz:metadata>\r\n        <pz:metadata type=\"electronic-format-instruction\">\r\n          <xsl:value-of select=\"tmarc:si\" />\r\n        </pz:metadata>\r\n        <pz:metadata type=\"electronic-format-type\">\r\n          <xsl:value-of select=\"tmarc:sq\" />\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d773\">\r\n        <pz:metadata type=\"citation\">\r\n          <xsl:for-each select=\"*\">\r\n            <xsl:value-of select=\"normalize-space(.)\" />\r\n            <xsl:text> </xsl:text>\r\n          </xsl:for-each>\r\n        </pz:metadata>\r\n        <xsl:if test=\"tmarc:st\">\r\n          <pz:metadata type=\"journal-title\">\r\n            <xsl:value-of select=\"tmarc:st\"/>\r\n          </pz:metadata>\r\n        </xsl:if>\r\n        <xsl:if test=\"tmarc:sg\">\r\n          <pz:metadata type=\"journal-subpart\">\r\n            <xsl:value-of select=\"tmarc:sg\"/>\r\n          </pz:metadata>\r\n        </xsl:if>\r\n        <xsl:if test=\"tmarc:sp\">\r\n          <pz:metadata type=\"journal-title-abbrev\">\r\n            <xsl:value-of select=\"tmarc:sp\"/>\r\n          </pz:metadata>\r\n        </xsl:if>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d852\">\r\n        <xsl:if test=\"tmarc:sy\">\r\n          <pz:metadata type=\"publicnote\">\r\n            <xsl:value-of select=\"tmarc:sy\" />\r\n          </pz:metadata>\r\n        </xsl:if>\r\n        <xsl:if test=\"tmarc:sh\">\r\n          <pz:metadata type=\"callnumber\">\r\n            <xsl:value-of select=\"tmarc:sh\" />\r\n          </pz:metadata>\r\n        </xsl:if>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d876\">\r\n        <xsl:if test=\"tmarc:sf\">\r\n          <pz:metadata type=\"loan-period\">\r\n            <xsl:value-of select=\"tmarc:sf\" />\r\n          </pz:metadata>\r\n        </xsl:if>\r\n      </xsl:for-each>\r\n\r\n      <pz:metadata type=\"medium\">\r\n        <xsl:value-of select=\"$vmedium\" />\r\n <xsl:if test=\"string-length($electronic) and $vmedium != \'electronic\'\">\r\n   <xsl:text> (electronic)</xsl:text>\r\n  </xsl:if>\r\n      </pz:metadata>\r\n\r\n      <xsl:for-each select=\"tmarc:d900/tmarc:sa\">\r\n        <pz:metadata type=\"fulltext\">\r\n          <xsl:value-of select=\".\" />\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <!-- <xsl:if test=\"$fulltext_a\"> <pz:metadata type=\"fulltext\"> <xsl:value-of \r\n        select=\"$fulltext_a\"/> </pz:metadata> </xsl:if> -->\r\n\r\n      <xsl:for-each select=\"tmarc:d900/tmarc:sb\">\r\n        <pz:metadata type=\"fulltext\">\r\n          <xsl:value-of select=\".\" />\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d900/tmarc:se\">\r\n        <pz:metadata type=\"fulltext\">\r\n          <xsl:value-of select=\".\" />\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d900/tmarc:sf\">\r\n        <pz:metadata type=\"fulltext\">\r\n          <xsl:value-of select=\".\" />\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d900/tmarc:si\">\r\n        <pz:metadata type=\"fulltext\">\r\n          <xsl:value-of select=\".\" />\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d900/tmarc:sk\">\r\n        <pz:metadata type=\"fulltext\">\r\n          <xsl:value-of select=\".\" />\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d900/tmarc:sq\">\r\n        <pz:metadata type=\"fulltext\">\r\n          <xsl:value-of select=\".\" />\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d900/tmarc:ss\">\r\n        <pz:metadata type=\"fulltext\">\r\n          <xsl:value-of select=\".\" />\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d900/tmarc:su\">\r\n        <pz:metadata type=\"fulltext\">\r\n          <xsl:value-of select=\".\" />\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d900/tmarc:sy\">\r\n        <pz:metadata type=\"fulltext\">\r\n          <xsl:value-of select=\".\" />\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n\r\n      <!-- <xsl:if test=\"$fulltext_b\"> <pz:metadata type=\"fulltext\"> <xsl:value-of \r\n        select=\"$fulltext_b\"/> </pz:metadata> </xsl:if> -->\r\n\r\n      <pz:metadata type=\"has-fulltext\">\r\n        <xsl:value-of select=\"$has_fulltext\"/>\r\n      </pz:metadata>\r\n\r\n      <xsl:for-each select=\"tmarc:d907 | tmarc:d901\">\r\n        <pz:metadata type=\"iii-id\">\r\n          <xsl:value-of select=\"tmarc:sa\" />\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d926\">\r\n        <pz:metadata type=\"locallocation\">\r\n   <xsl:choose><xsl:when test=\"tmarc:sa\">\r\n      <xsl:value-of select=\"tmarc:sa\"/>\r\n   </xsl:when><xsl:otherwise>\r\n      <xsl:text>PAZPAR2_NULL_VALUE</xsl:text>\r\n   </xsl:otherwise></xsl:choose>\r\n </pz:metadata>\r\n        <pz:metadata type=\"callnumber\">\r\n   <xsl:choose><xsl:when test=\"tmarc:sc\">\r\n      <xsl:value-of select=\"tmarc:sc\"/>\r\n   </xsl:when><xsl:otherwise>\r\n      <xsl:text>PAZPAR2_NULL_VALUE</xsl:text>\r\n   </xsl:otherwise></xsl:choose>\r\n </pz:metadata>\r\n        <pz:metadata type=\"available\">\r\n    <xsl:choose><xsl:when test=\"tmarc:se\">\r\n      <xsl:value-of select=\"tmarc:se\"/>\r\n   </xsl:when><xsl:otherwise>\r\n      <xsl:text>PAZPAR2_NULL_VALUE</xsl:text>\r\n   </xsl:otherwise></xsl:choose>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <!-- OhioLINK holdings -->\r\n      <xsl:for-each select=\"tmarc:d945\">\r\n <pz:metadata type=\"locallocation\">\r\n          <xsl:choose>\r\n            <xsl:when test=\"tmarc:sa\">\r\n              <xsl:value-of select=\"tmarc:sa\"/>\r\n            </xsl:when>\r\n            <xsl:otherwise>PAZPAR2_NULL_VALUE</xsl:otherwise>\r\n          </xsl:choose>\r\n  </pz:metadata>\r\n  <pz:metadata type=\"callnumber\">\r\n          <xsl:choose>\r\n     <xsl:when test=\"tmarc:sb\">\r\n              <xsl:value-of select=\"tmarc:sb\"/>\r\n            </xsl:when>\r\n            <xsl:otherwise>PAZPAR2_NULL_VALUE</xsl:otherwise>\r\n          </xsl:choose>\r\n  </pz:metadata>\r\n  <pz:metadata type=\"publicnote\">\r\n          <xsl:choose>\r\n            <xsl:when test=\"tmarc:sc\">\r\n              <xsl:value-of select=\"tmarc:sc\"/>\r\n            </xsl:when>\r\n            <xsl:otherwise>PAZPAR2_NULL_VALUE</xsl:otherwise>\r\n          </xsl:choose>\r\n </pz:metadata>\r\n  <pz:metadata type=\"available\">\r\n          <xsl:choose>\r\n            <xsl:when test=\"tmarc:ss = \'N\'\">Available</xsl:when>\r\n            <xsl:when test=\"tmarc:ss != \'N\'\">\r\n              <xsl:choose>\r\n   <xsl:when test=\"tmarc:sd\">\r\n                  <xsl:value-of select=\"tmarc:sd\"/>\r\n   </xsl:when>\r\n   <xsl:otherwise>PAZPAR2_NULL_VALUE</xsl:otherwise>\r\n              </xsl:choose>\r\n            </xsl:when>\r\n            <xsl:otherwise>PAZPAR2_NULL_VALUE</xsl:otherwise>\r\n          </xsl:choose>\r\n </pz:metadata>      \r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d948\">\r\n        <pz:metadata type=\"holding\">\r\n          <xsl:for-each select=\"tmarc:s\">\r\n            <xsl:if test=\"position() > 1\">\r\n              <xsl:text> </xsl:text>\r\n            </xsl:if>\r\n            <xsl:value-of select=\".\" />\r\n          </xsl:for-each>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d991\">\r\n        <pz:metadata type=\"holding\">\r\n          <xsl:for-each select=\"tmarc:s\">\r\n            <xsl:if test=\"position() > 1\">\r\n              <xsl:text> </xsl:text>\r\n            </xsl:if>\r\n            <xsl:value-of select=\".\" />\r\n          </xsl:for-each>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"tmarc:d999\">\r\n        <pz:metadata type=\"localid\">\r\n          <xsl:choose>\r\n            <xsl:when test=\"tmarc:sa\">\r\n              <xsl:value-of select=\"tmarc:sa\"/>\r\n            </xsl:when>\r\n            <xsl:when test=\"tmarc:sc\">\r\n              <xsl:value-of select=\"tmarc:sc\"/>\r\n            </xsl:when> \r\n            <xsl:otherwise>\r\n              <xsl:value-of select=\"tmarc:sd\"/>\r\n            </xsl:otherwise>\r\n          </xsl:choose>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n\r\n      <!-- passthrough id data -->\r\n      <xsl:for-each select=\"pz:metadata\">\r\n        <xsl:copy-of select=\".\" />\r\n      </xsl:for-each>\r\n\r\n      <!-- other stylesheets importing this might want to define this -->\r\n <xsl:call-template name=\"record-hook\" />\r\n\r\n    </pz:record>\r\n  </xsl:template>\r\n\r\n  <xsl:template match=\"text()\" />\r\n\r\n  <!-- TODO Does not work anymore -->\r\n  <xsl:template name=\"shortTitle\">\r\n    <xsl:param name=\"tag\" />\r\n    <xsl:for-each select=\"tmarc:d\">\r\n      <xsl:value-of select=\"tmarc:sa\" />\r\n      <xsl:value-of select=\"tmarc:sm\" />\r\n      <xsl:value-of select=\"tmarc:sn\" />\r\n      <xsl:value-of select=\"tmarc:sp\" />\r\n      <xsl:value-of select=\"tmarc:sr\" />\r\n    </xsl:for-each>\r\n  </xsl:template>\r\n\r\n  <!-- No working as expected -->\r\n  <xsl:template name=\"description\">\r\n    <xsl:param name=\"element\" />\r\n    <xsl:for-each select=\"$element\">\r\n      <pz:metadata type=\"description\">\r\n        <xsl:for-each select=\"node()\">\r\n          <xsl:value-of select=\"text()\" />\r\n        </xsl:for-each>\r\n      </pz:metadata>\r\n    </xsl:for-each>\r\n    <xsl:apply-templates />\r\n  </xsl:template>\r\n\r\n  <!-- <xsl:for-each select=\"tmarc:d500\"> <pz:metadata type=\"description\"> \r\n    <xsl:for-each select=\"node()\"> <xsl:value-of select=\"text()\"/> </xsl:for-each> \r\n    </pz:metadata> </xsl:for-each> -->\r\n\r\n  <xsl:template name=\"subject\">\r\n    <xsl:param name=\"element\" />\r\n    <xsl:for-each select=\"$element\">\r\n      <pz:metadata type=\"subject\">\r\n        <xsl:value-of select=\"tmarc:sa\" />\r\n      </pz:metadata>\r\n      <pz:metadata type=\"subject-long\">\r\n        <xsl:for-each select=\"node()/text()\">\r\n          <xsl:if test=\"position() > 1\">\r\n            <xsl:text>, </xsl:text>\r\n          </xsl:if>\r\n          <xsl:value-of select=\".\" />\r\n        </xsl:for-each>\r\n      </pz:metadata>\r\n    </xsl:for-each>\r\n  </xsl:template>\r\n</xsl:stylesheet>\r\n','','','','PZ','TXML',NULL),(3153,'XmlTransformationStep','Convert GPDC to MARC21',NULL,'GPDC to MARC21','<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<xsl:stylesheet version=\"1.0\" \r\n   xmlns:dc=\"http://purl.org/dc/elements/1.1/\" \r\n    xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"\r\n   xmlns=\"http://www.loc.gov/MARC21/slim\" \r\n   xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" exclude-result-prefixes=\"dc\" \r\n    xmlns:pgterms=\"http://www.gutenberg.org/rdfterms/\">\r\n    <xsl:output method=\"xml\" indent=\"yes\"/>\r\n    <xsl:strip-space elements=\"pgterms:file\"/>\r\n    <xsl:template match=\"/\">\r\n      <collection>\r\n  <xsl:apply-templates />\r\n      </collection>\r\n    </xsl:template>\r\n    <xsl:template match=\"rdf:Description\">\r\n      <xsl:comment>\r\n  <xsl:value-of select=\".\" />\r\n      </xsl:comment>\r\n    </xsl:template>\r\n    <xsl:template match=\"pgterms:etext\">\r\n        <record>\r\n            <xsl:element name=\"leader\">\r\n                <xsl:variable name=\"type\" select=\"dc:type\"/>\r\n                <xsl:variable name=\"leader06\">\r\n                    <xsl:choose>\r\n                        <xsl:when test=\"$type=\'collection\'\">p</xsl:when>\r\n                        <xsl:when test=\"$type=\'dataset\'\">m</xsl:when>\r\n                        <xsl:when test=\"$type=\'event\'\">r</xsl:when>\r\n                        <xsl:when test=\"$type=\'image\'\">k</xsl:when>\r\n                        <xsl:when test=\"$type=\'interactive resource\'\">m</xsl:when>\r\n                        <xsl:when test=\"$type=\'service\'\">m</xsl:when>\r\n                        <xsl:when test=\"$type=\'software\'\">m</xsl:when>\r\n                        <xsl:when test=\"$type=\'sound\'\">i</xsl:when>\r\n                        <xsl:when test=\"$type=\'text\'\">a</xsl:when>\r\n                        <xsl:otherwise>a</xsl:otherwise>\r\n                    </xsl:choose>\r\n                </xsl:variable>\r\n                <xsl:variable name=\"leader07\">\r\n                    <xsl:choose>\r\n                        <xsl:when test=\"$type=\'collection\'\">c</xsl:when>\r\n                        <xsl:otherwise>m</xsl:otherwise>\r\n                    </xsl:choose>\r\n                </xsl:variable>\r\n                <xsl:value-of select=\"concat(\'      \',$leader06,$leader07,\'         3u     \')\"/>\r\n            </xsl:element>\r\n      <controlfield tag=\"001\">\r\n        <xsl:value-of select=\"substring(@rdf:ID, 6)\"/>\r\n      </controlfield>\r\n     <datafield tag=\"856\" ind1=\"0\" ind2=\"0\">\r\n       <subfield code=\"u\">http://www.gutenberg.org/ebooks/<xsl:value-of select=\"substring(@rdf:ID, 6)\"/></subfield>\r\n      </datafield>\r\n\r\n            <xsl:for-each select=\"dc:contributer\">\r\n                <datafield tag=\"720\" ind1=\"0\" ind2=\"0\">\r\n                    <subfield code=\"a\">\r\n                        <xsl:value-of select=\".\"/>\r\n                    </subfield>\r\n                    <subfield code=\"e\">collaborator</subfield>\r\n                </datafield>\r\n            </xsl:for-each>\r\n\r\n            <xsl:for-each select=\"dc:coverage\">\r\n                <datafield tag=\"500\" ind1=\" \" ind2=\" \">\r\n                    <subfield code=\"a\">\r\n                        <xsl:value-of select=\".\"/>\r\n                    </subfield>\r\n                </datafield>\r\n            </xsl:for-each>\r\n\r\n            <xsl:for-each select=\"dc:creator\">\r\n                <datafield tag=\"100\" ind1=\" \" ind2=\" \">\r\n                    <subfield code=\"a\">\r\n                        <xsl:value-of select=\".\"/>\r\n                    </subfield>\r\n<!--\r\n                    <subfield code=\"e\">author</subfield>\r\n-->\r\n                </datafield>\r\n            </xsl:for-each>\r\n\r\n            <xsl:for-each select=\"dc:date\">\r\n                <datafield tag=\"260\" ind1=\" \" ind2=\" \">\r\n                    <subfield code=\"c\">\r\n                        <xsl:value-of select=\".\"/>\r\n                    </subfield>\r\n                </datafield>\r\n            </xsl:for-each>    \r\n\r\n            <xsl:for-each select=\"dc:description\">\r\n                <datafield tag=\"520\" ind1=\" \" ind2=\" \">\r\n                    <subfield code=\"a\">\r\n                        <xsl:value-of select=\".\"/>\r\n                    </subfield>\r\n                </datafield>\r\n            </xsl:for-each>\r\n\r\n            <xsl:for-each select=\"dc:identifier\">\r\n                <datafield tag=\"856\" ind1=\"4\" ind2=\"0\">\r\n                    <subfield code=\"u\">\r\n                        <xsl:value-of select=\".\"/>\r\n                    </subfield>\r\n       <xsl:if test=\"dc:format\">\r\n         <subfield code=\"q\">\r\n           <xsl:value-of select=\"dc:format\"/>\r\n          </subfield>\r\n       </xsl:if>\r\n                </datafield>\r\n            </xsl:for-each>\r\n\r\n            <xsl:for-each select=\"dc:language\">\r\n                <datafield tag=\"546\" ind1=\" \" ind2=\" \">\r\n                    <subfield code=\"a\">\r\n                        <xsl:value-of select=\".\"/>\r\n                    </subfield>\r\n                </datafield>\r\n            </xsl:for-each>\r\n\r\n            <xsl:for-each select=\"dc:publisher\">\r\n                <datafield tag=\"260\" ind1=\" \" ind2=\" \">\r\n                    <subfield code=\"b\">\r\n                        <xsl:value-of select=\".\"/>\r\n                    </subfield>\r\n                </datafield>\r\n            </xsl:for-each>\r\n\r\n            <xsl:for-each select=\"dc:relation\">\r\n                <datafield tag=\"787\" ind1=\"0\" ind2=\" \">\r\n                    <subfield code=\"n\">\r\n                        <xsl:value-of select=\".\"/>\r\n                    </subfield>\r\n                </datafield>\r\n            </xsl:for-each>\r\n\r\n            <xsl:for-each select=\"dc:rights\">\r\n                <datafield tag=\"540\" ind1=\" \" ind2=\" \">\r\n                    <subfield code=\"a\">\r\n                        <xsl:value-of select=\".\"/>\r\n                    </subfield>\r\n                </datafield>\r\n            </xsl:for-each>\r\n\r\n            <xsl:for-each select=\"dc:source\">\r\n                <datafield tag=\"786\" ind1=\"0\" ind2=\" \">\r\n                    <subfield code=\"n\">\r\n                        <xsl:value-of select=\".\"/>\r\n                    </subfield>\r\n                </datafield>\r\n            </xsl:for-each>\r\n\r\n            <datafield tag=\"650\" ind1=\" \" ind2=\" \">\r\n       <xsl:for-each select=\"dc:subject\">\r\n<!--        <xsl:for-each select=\"tokenize(.,\';|- -\')\"> -->\r\n         <subfield code=\"a\"><xsl:value-of select=\"normalize-space(.)\" /></subfield>\r\n<!--        </xsl:for-each> -->\r\n              </xsl:for-each>\r\n      </datafield>\r\n\r\n            <xsl:for-each select=\"dc:title[1]\">\r\n                <datafield tag=\"245\" ind1=\"0\" ind2=\"0\">\r\n                    <subfield code=\"a\">\r\n                        <xsl:value-of select=\".\"/>\r\n                    </subfield>\r\n                </datafield>\r\n            </xsl:for-each>\r\n\r\n            <xsl:for-each select=\"dc:title[position()>1]\">\r\n                <datafield tag=\"246\" ind1=\"3\" ind2=\"3\"><subfield code=\"a\"><xsl:value-of select=\".\"/></subfield></datafield>\r\n            </xsl:for-each>\r\n\r\n            <xsl:for-each select=\"dc:type\">\r\n                <datafield tag=\"655\" ind1=\"7\" ind2=\" \">\r\n                    <subfield code=\"a\">\r\n                        <xsl:value-of select=\".\"/>\r\n                    </subfield>\r\n                    <subfield code=\"2\">local</subfield>\r\n                </datafield>\r\n            </xsl:for-each>\r\n        </record>\r\n    </xsl:template>\r\n  <!-- Ignore other elements by mapping into empty DOM XML trees -->\r\n<!--\r\n  <xsl:template match=\"/*\"/>\r\n-->\r\n  <xsl:template match=\"pgterms:file\" />\r\n\r\n</xsl:stylesheet>\r\n','','','','MARCXML','GPDC',NULL),(3155,'XmlTransformationStep','Convert DC to MARC21',NULL,'DC to MARC21 (slim)','<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<xsl:stylesheet version=\"1.0\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns=\"http://www.loc.gov/MARC21/slim\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" exclude-result-prefixes=\"dc\">\r\n  <xsl:output method=\"xml\" indent=\"yes\"/>\r\n \r\n  <xsl:template match=\"/\">\r\n    <record xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://www.loc.gov/MARC21/slim http://www.loc.gov/standards/marcxml/schema/MARC21slim.xsd\" >\r\n      <xsl:element name=\"leader\">\r\n       <xsl:variable name=\"type\" select=\"dc:type\"/>\r\n        <xsl:variable name=\"leader06\">\r\n          <xsl:choose>\r\n            <xsl:when test=\"$type=\'collection\'\">p</xsl:when>\r\n            <xsl:when test=\"$type=\'dataset\'\">m</xsl:when>\r\n           <xsl:when test=\"$type=\'event\'\">r</xsl:when>\r\n           <xsl:when test=\"$type=\'image\'\">k</xsl:when>\r\n           <xsl:when test=\"$type=\'interactive resource\'\">m</xsl:when>\r\n            <xsl:when test=\"$type=\'service\'\">m</xsl:when>\r\n           <xsl:when test=\"$type=\'software\'\">m</xsl:when>\r\n            <xsl:when test=\"$type=\'sound\'\">i</xsl:when>\r\n           <xsl:when test=\"$type=\'text\'\">a</xsl:when>\r\n            <xsl:otherwise>a</xsl:otherwise>\r\n          </xsl:choose>\r\n       </xsl:variable>\r\n       <xsl:variable name=\"leader07\">\r\n          <xsl:choose>\r\n            <xsl:when test=\"$type=\'collection\'\">c</xsl:when>\r\n            <xsl:otherwise>m</xsl:otherwise>\r\n          </xsl:choose>\r\n       </xsl:variable>\r\n       <xsl:value-of select=\"concat(\'      \',$leader06,$leader07,\'         3u     \')\"/>\r\n      </xsl:element>\r\n\r\n      <datafield tag=\"042\" ind1=\" \" ind2=\" \">\r\n       <subfield code=\"a\">dc</subfield>\r\n      </datafield>\r\n\r\n      <xsl:for-each select=\"//dc:contributer\">\r\n        <datafield tag=\"720\" ind1=\"0\" ind2=\"0\">\r\n         <subfield code=\"a\">\r\n           <xsl:value-of select=\".\"/>\r\n          </subfield>\r\n         <subfield code=\"e\">collaborator</subfield>\r\n        </datafield>\r\n      </xsl:for-each>\r\n\r\n     <xsl:for-each select=\"//dc:coverage\">\r\n       <datafield tag=\"500\" ind1=\" \" ind2=\" \">\r\n         <subfield code=\"a\">\r\n           <xsl:value-of select=\".\"/>\r\n          </subfield>\r\n       </datafield>\r\n      </xsl:for-each>\r\n\r\n     <xsl:for-each select=\"//dc:creator\">\r\n        <datafield tag=\"720\" ind1=\" \" ind2=\" \">\r\n         <subfield code=\"a\">\r\n           <xsl:value-of select=\".\"/>\r\n          </subfield>\r\n         <subfield code=\"e\">author</subfield>\r\n        </datafield>\r\n      </xsl:for-each>\r\n\r\n     <xsl:for-each select=\"//dc:date\">\r\n       <datafield tag=\"260\" ind1=\" \" ind2=\" \">\r\n         <subfield code=\"c\">\r\n           <xsl:value-of select=\".\"/>\r\n          </subfield>\r\n       </datafield>\r\n      </xsl:for-each> \r\n\r\n      <xsl:for-each select=\"//dc:description\">\r\n        <datafield tag=\"520\" ind1=\" \" ind2=\" \">\r\n         <subfield code=\"a\">\r\n           <xsl:value-of select=\".\"/>\r\n          </subfield>\r\n       </datafield>\r\n      </xsl:for-each>\r\n     \r\n      <xsl:for-each select=\"//dc:format\">\r\n       <datafield tag=\"856\" ind1=\" \" ind2=\" \">\r\n         <subfield code=\"q\">\r\n           <xsl:value-of select=\".\"/>\r\n          </subfield>\r\n       </datafield>\r\n      </xsl:for-each>\r\n\r\n     <xsl:for-each select=\"//dc:identifier\">\r\n       <datafield tag=\"024\" ind1=\"8\" ind2=\" \">\r\n         <subfield code=\"a\">\r\n           <xsl:value-of select=\".\"/>\r\n          </subfield>\r\n       </datafield>\r\n      </xsl:for-each>\r\n\r\n     <xsl:for-each select=\"//dc:language\">\r\n       <datafield tag=\"546\" ind1=\" \" ind2=\" \">\r\n         <subfield code=\"a\">\r\n           <xsl:value-of select=\".\"/>\r\n          </subfield>\r\n       </datafield>\r\n      </xsl:for-each>\r\n     \r\n      <xsl:for-each select=\"//dc:publisher\">\r\n        <datafield tag=\"260\" ind1=\" \" ind2=\" \">\r\n         <subfield code=\"b\">\r\n           <xsl:value-of select=\".\"/>\r\n          </subfield>\r\n       </datafield>\r\n      </xsl:for-each>\r\n\r\n     <xsl:for-each select=\"//dc:relation\">\r\n       <datafield tag=\"787\" ind1=\"0\" ind2=\" \">\r\n         <subfield code=\"n\">\r\n           <xsl:value-of select=\".\"/>\r\n          </subfield>\r\n       </datafield>\r\n      </xsl:for-each>\r\n\r\n     <xsl:for-each select=\"//dc:rights\">\r\n       <datafield tag=\"540\" ind1=\" \" ind2=\" \">\r\n         <subfield code=\"a\">\r\n           <xsl:value-of select=\".\"/>\r\n          </subfield>\r\n       </datafield>\r\n      </xsl:for-each>\r\n\r\n     <xsl:for-each select=\"//dc:source\">\r\n       <datafield tag=\"786\" ind1=\"0\" ind2=\" \">\r\n         <subfield code=\"n\">\r\n           <xsl:value-of select=\".\"/>\r\n          </subfield>\r\n       </datafield>\r\n      </xsl:for-each>\r\n\r\n     <xsl:for-each select=\"//dc:subject\">\r\n        <datafield tag=\"653\" ind1=\" \" ind2=\" \">\r\n         <subfield code=\"a\">\r\n           <xsl:value-of select=\".\"/>\r\n          </subfield>\r\n       </datafield>\r\n      </xsl:for-each>\r\n                                             \r\n      <xsl:for-each select=\"//dc:title[1]\">\r\n       <datafield tag=\"245\" ind1=\"0\" ind2=\"0\">\r\n         <subfield code=\"a\">\r\n           <xsl:value-of select=\".\"/>\r\n          </subfield>\r\n       </datafield>\r\n      </xsl:for-each>\r\n\r\n     <xsl:for-each select=\"//dc:title[position()>1]\">\r\n        <datafield tag=\"246\" ind1=\"3\" ind2=\"3\">\r\n         <subfield code=\"a\">\r\n           <xsl:value-of select=\".\"/>\r\n          </subfield>\r\n       </datafield>\r\n      </xsl:for-each>\r\n\r\n     <xsl:for-each select=\"//dc:type\">\r\n       <datafield tag=\"655\" ind1=\"7\" ind2=\" \">\r\n         <subfield code=\"a\">\r\n           <xsl:value-of select=\".\"/>\r\n          </subfield>\r\n         <subfield code=\"2\">local</subfield>\r\n       </datafield>\r\n      </xsl:for-each>\r\n   </record>\r\n </xsl:template>\r\n</xsl:stylesheet>','','','','MARCXML','DC',NULL),(3653,'XmlTransformationStep','<Description>',NULL,'Wiki Abstract 2 PZ','<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<xsl:stylesheet xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"\r\n                xmlns:pz=\"http://www.indexdata.com/pazpar2/1.0\" version=\"1.0\" >\r\n    \r\n  <xsl:output method=\"xml\" indent=\"yes\" />\r\n  <xsl:template match=\"/\">\r\n    <collection>\r\n      <xsl:apply-templates />\r\n      </collection>\r\n    </xsl:template>\r\n    <xsl:template match=\"feed\">\r\n            <xsl:apply-templates />\r\n    </xsl:template>\r\n    <xsl:template match=\"doc\">\r\n      <pz:record>\r\n <pz:metadata type=\"id\">\r\n   <xsl:value-of select=\"substring-after(url,\'http://\')\" />\r\n    </pz:metadata>\r\n  <pz:metadata type=\"title\">\r\n    <xsl:value-of select=\"substring-after(title, \'Wikipedia: \')\" />\r\n   </pz:metadata>\r\n  <!-- <field name=\"title-abbreviated\"> <xsl:value-of select=\"substring-before(substring-after(concat(title, \r\n       \' (\'), \'Wikipedia: \'), \' (\')\"/> </field> -->\r\n  <!-- <field name=\"date\"> <xsl:value-of select=\"date\" /> </field> -->\r\n  <pz:metadata type=\"description\">\r\n    <xsl:value-of select=\"abstract\" />\r\n    </pz:metadata>\r\n  <pz:metadata type=\"electronic-url\">\r\n   <xsl:value-of select=\"url\" />\r\n   </pz:metadata>\r\n  </pz:record>\r\n      </xsl:template>\r\n</xsl:stylesheet>\r\n','','','','PZ','WIKI',NULL),(4053,'XmlTransformationStep','Without include. Does not work',NULL,'Marc21 to PZ (full)','<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<xsl:stylesheet\r\n    version=\"1.0\"\r\n    xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"\r\n    xmlns:pz=\"http://www.indexdata.com/pazpar2/1.0\"\r\n    xmlns:marc=\"http://www.loc.gov/MARC21/slim\"\r\n    xmlns:str=\"http://exslt.org/strings\"\r\n    extension-element-prefixes=\"str\">\r\n\r\n  <xsl:param name=\"open_url_resolver\"/>\r\n  <!--<xsl:variable name=\"resolver\">http://zeus.lib.uoc.gr:3210/sfxtst3</xsl:variable>-->\r\n \r\n  <xsl:template name=\"insert-md-openurl\">\r\n  \r\n    <xsl:value-of select=\"$open_url_resolver\" /><xsl:text>?generatedby=pz2</xsl:text>\r\n    <xsl:call-template name=\"ou-parse-author\" />\r\n    <xsl:call-template name=\"ou-parse-date\" />\r\n    <xsl:call-template name=\"ou-parse-volume\" />\r\n    <xsl:call-template name=\"ou-parse-any\">\r\n      <xsl:with-param name=\"field_name\" select=\"string(\'isbn\')\" />\r\n    </xsl:call-template>\r\n    <xsl:call-template name=\"ou-parse-any\">\r\n      <xsl:with-param name=\"field_name\" select=\"string(\'issn\')\" />\r\n    </xsl:call-template>\r\n    <xsl:call-template name=\"ou-parse-any\">\r\n      <xsl:with-param name=\"field_name\" select=\"string(\'title\')\" />\r\n    </xsl:call-template>\r\n    <xsl:call-template name=\"ou-parse-any\">\r\n      <xsl:with-param name=\"field_name\" select=\"string(\'atitle\')\" />\r\n    </xsl:call-template>\r\n\r\n  </xsl:template>\r\n \r\n  <!-- parsing raw string data -->\r\n  \r\n  <xsl:template name=\"ou-parse-author\" >\r\n    <xsl:variable name=\"author\">\r\n      <xsl:call-template name=\"ou-author\" />\r\n    </xsl:variable>\r\n    \r\n    <xsl:variable name=\"aulast\" select=\"normalize-space(substring-before($author, \',\'))\"/>\r\n\r\n    <xsl:variable name=\"aufirst\" \r\n      select=\"substring-before( normalize-space(substring-after($author, \',\')), \' \')\"/>\r\n\r\n    <xsl:if test=\"$aulast != \'\'\">\r\n      <xsl:text>&amp;aulast=</xsl:text>\r\n      <xsl:value-of select=\"$aulast\" />\r\n    </xsl:if>\r\n\r\n    <xsl:if test=\"string-length( translate($aufirst, \'.\', \'\') ) &gt; 1\" >\r\n      <xsl:text>&amp;aufirst=</xsl:text>\r\n      <xsl:value-of select=\"$aufirst\" />\r\n    </xsl:if>\r\n\r\n  </xsl:template>\r\n\r\n  <xsl:template name=\"ou-parse-volume\">\r\n    <xsl:variable name=\"volume\">\r\n      <xsl:call-template name=\"ou-volume\" />\r\n    </xsl:variable>\r\n\r\n    <xsl:variable name=\"vol\" select=\"substring-after($volume, \'Vol\')\"/>\r\n    <xsl:variable name=\"issue\" select=\"false()\" />\r\n    <xsl:variable name=\"spage\" select=\"false()\" />\r\n\r\n    <xsl:if test=\"$vol\">\r\n      <xsl:text>&amp;volume=</xsl:text>\r\n      <xsl:value-of select=\"$vol\" />\r\n    </xsl:if>\r\n\r\n    <xsl:if test=\"$issue\">\r\n      <xsl:text>&amp;issue=</xsl:text>\r\n      <xsl:value-of select=\"$issue\" />\r\n    </xsl:if>\r\n    \r\n    <xsl:if test=\"$spage\">\r\n      <xsl:text>&amp;spage=</xsl:text>\r\n      <xsl:value-of select=\"$vol\" />\r\n    </xsl:if>\r\n\r\n  </xsl:template>\r\n\r\n\r\n  <xsl:template name=\"ou-parse-date\">\r\n    <xsl:variable name=\"date\">\r\n      <xsl:call-template name=\"ou-date\" />\r\n    </xsl:variable>\r\n\r\n    <xsl:variable name=\"parsed_date\" select=\"translate($date, \'.[]c;\', \'\')\"/>\r\n\r\n    <xsl:if test=\"$parsed_date\">\r\n      <xsl:text>&amp;date=</xsl:text>\r\n      <xsl:value-of select=\"$parsed_date\" />\r\n    </xsl:if>\r\n\r\n  </xsl:template>\r\n\r\n  \r\n  <xsl:template name=\"ou-parse-any\">\r\n    <xsl:param name=\"field_name\" />\r\n\r\n    <xsl:variable name=\"field_value\">\r\n      <xsl:choose>\r\n\r\n      <xsl:when test=\"$field_name = \'isbn\'\">\r\n        <xsl:call-template name=\"ou-isbn\"/>\r\n      </xsl:when>\r\n\r\n      <xsl:when test=\"$field_name = \'issn\'\">\r\n        <xsl:call-template name=\"ou-issn\"/>\r\n      </xsl:when>\r\n      \r\n      <xsl:when test=\"$field_name = \'atitle\'\">\r\n        <xsl:call-template name=\"ou-atitle\"/>\r\n      </xsl:when>\r\n     \r\n      <xsl:when test=\"$field_name = \'title\'\">\r\n        <xsl:call-template name=\"ou-title\"/>\r\n      </xsl:when>\r\n\r\n      </xsl:choose>\r\n    </xsl:variable>\r\n\r\n    <xsl:variable name=\"digits\" select=\"1234567890\"/>\r\n\r\n    <xsl:variable name=\"parsed_value\">\r\n      <xsl:choose>\r\n\r\n      <xsl:when test=\"$field_name = \'isbn\'\">\r\n        <xsl:value-of select=\"translate($field_value, translate($field_value, concat($digits, \'X\'), \'\'), \'\')\"/>\r\n      </xsl:when>\r\n\r\n      <xsl:when test=\"$field_name = \'issn\'\">\r\n        <xsl:value-of select=\"translate($field_value, translate($field_value, concat($digits, \'-\', \'X\'), \'\'), \'\')\"/>\r\n      </xsl:when>\r\n      \r\n      <xsl:when test=\"$field_name = \'atitle\'\">\r\n        <xsl:value-of select=\"translate(normalize-space($field_value), \'.\', \'\')\"/>\r\n      </xsl:when>\r\n     \r\n      <xsl:when test=\"$field_name = \'title\'\">\r\n        <xsl:value-of select=\"translate(normalize-space($field_value), \'.\', \'\')\"/>\r\n      </xsl:when>\r\n\r\n      </xsl:choose>\r\n    </xsl:variable>\r\n\r\n\r\n    <xsl:if test=\"$parsed_value != \'\'\">\r\n      <xsl:text>&amp;</xsl:text>\r\n      <xsl:value-of select=\"$field_name\" />\r\n      <xsl:text>=</xsl:text>\r\n      <xsl:value-of select=\"$parsed_value\" />\r\n    </xsl:if>\r\n\r\n  </xsl:template>\r\n\r\n\r\n<xsl:template name=\"ou-author\" >\r\n  <!-- what to do with multiple authors??-->\r\n    <xsl:for-each select=\"marc:datafield[@tag=\'100\' or @tag=\'700\']\">\r\n      <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n    </xsl:for-each>\r\n  </xsl:template>\r\n\r\n  <xsl:template name=\"ou-title\" >\r\n  <!-- if 773 exists its a journal/article -->\r\n    <xsl:choose>\r\n    \r\n      <xsl:when test=\"marc:datafield[@tag=\'773\']/marc:subfield[@code=\'t\']\">\r\n        <xsl:value-of select=\"marc:datafield[@tag=\'773\']/marc:subfield[@code=\'t\']\"/>\r\n      </xsl:when>\r\n\r\n      <xsl:when test=\"marc:datafield[@tag=\'245\']/marc:subfield[@code=\'a\']\">\r\n        <xsl:value-of select=\"marc:datafield[@tag=\'245\']/marc:subfield[@code=\'a\']\"/>\r\n      </xsl:when>\r\n\r\n    </xsl:choose>\r\n  </xsl:template>\r\n\r\n  \r\n  <xsl:template name=\"ou-atitle\" >\r\n    <!-- return value only if article or journal -->\r\n    <xsl:if test=\"marc:datafield[@tag=\'773\']\">\r\n      <xsl:value-of select=\"marc:datafield[@tag=\'245\']/marc:subfield[@code=\'a\']\"/>\r\n    </xsl:if>\r\n  </xsl:template>\r\n\r\n\r\n  <xsl:template name=\"ou-date\" >\r\n    <xsl:for-each select=\"marc:datafield[@tag=\'260\']\">\r\n      <xsl:value-of select=\"marc:subfield[@code=\'c\']\"/>\r\n    </xsl:for-each>\r\n  </xsl:template>\r\n\r\n  \r\n  <xsl:template name=\"ou-isbn\" >\r\n  <!-- if 773 exists its a journal/article -->\r\n    <xsl:choose>  \r\n    \r\n      <xsl:when test=\"marc:datafield[@tag=\'773\']/marc:subfield[@code=\'z\']\">\r\n        <xsl:value-of select=\"marc:datafield[@tag=\'773\']/marc:subfield[@code=\'z\']\"/>\r\n      </xsl:when>\r\n      \r\n      <xsl:when test=\"marc:datafield[@tag=\'020\']/marc:subfield[@code=\'a\']\">\r\n        <xsl:value-of select=\"marc:datafield[@tag=\'020\']/marc:subfield[@code=\'a\']\"/>\r\n      </xsl:when>\r\n\r\n    </xsl:choose>\r\n  </xsl:template>\r\n\r\n  \r\n  <xsl:template name=\"ou-issn\" >\r\n  <!-- if 773 exists its a journal/article -->\r\n    <xsl:choose>\r\n    \r\n      <xsl:when test=\"marc:datafield[@tag=\'773\']/marc:subfield[@code=\'x\']\">\r\n        <xsl:value-of select=\"marc:datafield[@tag=\'773\']/marc:subfield[@code=\'x\']\"/>\r\n      </xsl:when>\r\n\r\n      <xsl:when test=\"marc:datafield[@tag=\'022\']/marc:subfield[@code=\'a\']\">\r\n        <xsl:value-of select=\"marc:datafield[@tag=\'022\']/marc:subfield[@code=\'a\']\"/>\r\n      </xsl:when>\r\n\r\n      </xsl:choose>\r\n  </xsl:template>\r\n\r\n  <xsl:template match=\"/\">\r\n    <pz:collection> \r\n      <xsl:apply-templates />\r\n    </pz:collection>\r\n  </xsl:template>           \r\n  \r\n  <xsl:template match=\"//delete\">\r\n  <xsl:copy-of select=\".\"/>                                                                                                                                                                               \r\n  </xsl:template>            \r\n  \r\n  <xsl:template match=\"//marc:record\">\r\n    <xsl:variable name=\"title_medium\" select=\"marc:datafield[@tag=\'245\']/marc:subfield[@code=\'h\']\"/>\r\n    <xsl:variable name=\"journal_title\" select=\"marc:datafield[@tag=\'773\']/marc:subfield[@code=\'t\']\"/>\r\n    <xsl:variable name=\"electronic_location_url\" select=\"marc:datafield[@tag=\'856\']/marc:subfield[@code=\'u\']\"/>\r\n    <xsl:variable name=\"fulltext_a\" select=\"marc:datafield[@tag=\'900\']/marc:subfield[@code=\'a\']\"/>\r\n    <xsl:variable name=\"fulltext_b\" select=\"marc:datafield[@tag=\'900\']/marc:subfield[@code=\'b\']\"/>\r\n    <xsl:variable name=\"medium\">\r\n      <xsl:choose>\r\n <xsl:when test=\"$title_medium\">\r\n   <xsl:value-of select=\"substring-after(substring-before($title_medium,\']\'),\'[\')\"/>\r\n </xsl:when>\r\n <xsl:when test=\"$fulltext_a\">\r\n   <xsl:text>electronic resource</xsl:text>\r\n  </xsl:when>\r\n <xsl:when test=\"$fulltext_b\">\r\n   <xsl:text>electronic resource</xsl:text>\r\n  </xsl:when>\r\n <xsl:when test=\"$journal_title\">\r\n    <xsl:text>article</xsl:text>\r\n  </xsl:when>\r\n <xsl:otherwise>\r\n   <xsl:text>book</xsl:text>\r\n </xsl:otherwise>\r\n      </xsl:choose>\r\n    </xsl:variable>\r\n\r\n    <pz:record>      \r\n      <xsl:for-each select=\"marc:controlfield[@tag=\'001\']\">\r\n        <pz:metadata type=\"id\">\r\n          <xsl:value-of select=\".\"/>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'010\']\">\r\n        <pz:metadata type=\"lccn\">\r\n   <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'020\']\">\r\n        <pz:metadata type=\"isbn\">\r\n    <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'022\']\">\r\n        <pz:metadata type=\"issn\">\r\n    <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'027\']\">\r\n        <pz:metadata type=\"tech-rep-nr\">\r\n   <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'035\']\">\r\n        <pz:metadata type=\"system-control-nr\">\r\n   <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'100\']\">\r\n <pz:metadata type=\"author\">\r\n   <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n </pz:metadata>\r\n  <pz:metadata type=\"author-title\">\r\n   <xsl:value-of select=\"marc:subfield[@code=\'c\']\"/>\r\n </pz:metadata>\r\n  <pz:metadata type=\"author-date\">\r\n    <xsl:value-of select=\"marc:subfield[@code=\'d\']\"/>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'110\']\">\r\n <pz:metadata type=\"corporate-name\">\r\n     <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n </pz:metadata>\r\n  <pz:metadata type=\"corporate-location\">\r\n     <xsl:value-of select=\"marc:subfield[@code=\'c\']\"/>\r\n </pz:metadata>\r\n  <pz:metadata type=\"corporate-date\">\r\n     <xsl:value-of select=\"marc:subfield[@code=\'d\']\"/>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'111\']\">\r\n <pz:metadata type=\"meeting-name\">\r\n     <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n </pz:metadata>\r\n  <pz:metadata type=\"meeting-location\">\r\n     <xsl:value-of select=\"marc:subfield[@code=\'c\']\"/>\r\n </pz:metadata>\r\n  <pz:metadata type=\"meeting-date\">\r\n     <xsl:value-of select=\"marc:subfield[@code=\'d\']\"/>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'260\']\">\r\n <pz:metadata type=\"date\">\r\n     <xsl:value-of select=\"marc:subfield[@code=\'c\']\"/>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'245\']\">\r\n        <pz:metadata type=\"title\">\r\n          <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n        </pz:metadata>\r\n        <pz:metadata type=\"title-remainder\">\r\n          <xsl:value-of select=\"marc:subfield[@code=\'b\']\"/>\r\n        </pz:metadata>\r\n        <pz:metadata type=\"title-responsibility\">\r\n          <xsl:value-of select=\"marc:subfield[@code=\'c\']\"/>\r\n        </pz:metadata>\r\n        <pz:metadata type=\"title-dates\">\r\n          <xsl:value-of select=\"marc:subfield[@code=\'f\']\"/>\r\n        </pz:metadata>\r\n        <pz:metadata type=\"title-medium\">\r\n          <xsl:value-of select=\"marc:subfield[@code=\'h\']\"/>\r\n        </pz:metadata>\r\n        <pz:metadata type=\"title-number-section\">\r\n          <xsl:value-of select=\"marc:subfield[@code=\'n\']\"/>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'250\']\">\r\n <pz:metadata type=\"edition\">\r\n      <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'260\']\">\r\n        <pz:metadata type=\"publication-place\">\r\n   <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n </pz:metadata>\r\n        <pz:metadata type=\"publication-name\">\r\n   <xsl:value-of select=\"marc:subfield[@code=\'b\']\"/>\r\n </pz:metadata>\r\n        <pz:metadata type=\"publication-date\">\r\n   <xsl:value-of select=\"marc:subfield[@code=\'c\']\"/>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'300\']\">\r\n <pz:metadata type=\"physical-extent\">\r\n    <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n </pz:metadata>\r\n  <pz:metadata type=\"physical-format\">\r\n    <xsl:value-of select=\"marc:subfield[@code=\'b\']\"/>\r\n </pz:metadata>\r\n  <pz:metadata type=\"physical-dimensions\">\r\n    <xsl:value-of select=\"marc:subfield[@code=\'c\']\"/>\r\n </pz:metadata>\r\n  <pz:metadata type=\"physical-accomp\">\r\n    <xsl:value-of select=\"marc:subfield[@code=\'e\']\"/>\r\n </pz:metadata>\r\n  <pz:metadata type=\"physical-unittype\">\r\n    <xsl:value-of select=\"marc:subfield[@code=\'f\']\"/>\r\n </pz:metadata>\r\n  <pz:metadata type=\"physical-unitsize\">\r\n    <xsl:value-of select=\"marc:subfield[@code=\'g\']\"/>\r\n </pz:metadata>\r\n  <pz:metadata type=\"physical-specified\">\r\n   <xsl:value-of select=\"marc:subfield[@code=\'3\']\"/>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'440\']\">\r\n <pz:metadata type=\"series-title\">\r\n   <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag = \'500\' or @tag = \'505\' or\r\n          @tag = \'518\' or @tag = \'520\' or @tag = \'522\']\">\r\n  <pz:metadata type=\"description\">\r\n            <xsl:value-of select=\"*/text()\"/>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n      \r\n      <xsl:for-each select=\"marc:datafield[@tag=\'600\' or @tag=\'610\' or @tag=\'611\' or @tag=\'630\' or @tag=\'648\' or @tag=\'650\' or @tag=\'651\' or @tag=\'653\' or @tag=\'654\' or @tag=\'655\' or @tag=\'656\' or @tag=\'657\' or @tag=\'658\' or @tag=\'662\' or @tag=\'69X\']\">\r\n        <pz:metadata type=\"subject\">\r\n    <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n </pz:metadata>\r\n  <pz:metadata type=\"subject-long\">\r\n   <xsl:for-each select=\"marc:subfield\">\r\n     <xsl:if test=\"position() > 1\">\r\n        <xsl:text>, </xsl:text>\r\n     </xsl:if>\r\n     <xsl:value-of select=\".\"/>\r\n    </xsl:for-each>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'856\']\">\r\n <pz:metadata type=\"electronic-url\">\r\n   <xsl:value-of select=\"marc:subfield[@code=\'u\']\"/>\r\n </pz:metadata>\r\n  <pz:metadata type=\"electronic-text\">\r\n    <xsl:value-of select=\"marc:subfield[@code=\'y\']\"/>\r\n </pz:metadata>\r\n  <pz:metadata type=\"electronic-note\">\r\n    <xsl:value-of select=\"marc:subfield[@code=\'z\']\"/>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'773\']\">\r\n        <pz:metadata type=\"citation\">\r\n          <xsl:for-each select=\"*\">\r\n            <xsl:value-of select=\"normalize-space(.)\"/>\r\n            <xsl:text> </xsl:text>\r\n          </xsl:for-each>\r\n        </pz:metadata>\r\n        <xsl:if test=\"marc:subfield[@code=\'t\']\">\r\n          <pz:metadata type=\"journal-title\">\r\n            <xsl:value-of select=\"marc:subfield[@code=\'t\']\"/>\r\n          </pz:metadata>\r\n        </xsl:if>\r\n        <xsl:if test=\"marc:subfield[@code=\'g\']\">\r\n          <pz:metadata type=\"journal-subpart\">\r\n            <xsl:value-of select=\"marc:subfield[@code=\'g\']\"/>\r\n          </pz:metadata>\r\n        </xsl:if>\r\n      </xsl:for-each>\r\n\r\n      <pz:metadata type=\"medium\">\r\n <xsl:value-of select=\"$medium\"/>\r\n      </pz:metadata>\r\n      \r\n      <xsl:for-each select=\"marc:datafield[@tag=\'900\']/marc:subfield[@code=\'a\']\">\r\n        <pz:metadata type=\"fulltext\">\r\n          <xsl:value-of select=\".\"/>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <!-- <xsl:if test=\"$fulltext_a\">\r\n <pz:metadata type=\"fulltext\">\r\n   <xsl:value-of select=\"$fulltext_a\"/>\r\n  </pz:metadata>\r\n      </xsl:if> -->\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'900\']/marc:subfield[@code=\'b\']\">\r\n        <pz:metadata type=\"fulltext\">\r\n          <xsl:value-of select=\".\"/>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <!-- <xsl:if test=\"$fulltext_b\">\r\n  <pz:metadata type=\"fulltext\">\r\n   <xsl:value-of select=\"$fulltext_b\"/>\r\n  </pz:metadata>\r\n      </xsl:if> -->\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'907\' or @tag=\'901\']\">\r\n        <pz:metadata type=\"iii-id\">\r\n    <xsl:value-of select=\"marc:subfield[@code=\'a\']\"/>\r\n </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'926\']\">\r\n        <pz:metadata type=\"holding\">\r\n   <xsl:for-each select=\"marc:subfield\">\r\n     <xsl:if test=\"position() > 1\">\r\n        <xsl:text> </xsl:text>\r\n      </xsl:if>\r\n     <xsl:value-of select=\".\"/>\r\n    </xsl:for-each>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'948\']\">\r\n        <pz:metadata type=\"holding\">\r\n    <xsl:for-each select=\"marc:subfield\">\r\n     <xsl:if test=\"position() > 1\">\r\n        <xsl:text> </xsl:text>\r\n      </xsl:if>\r\n     <xsl:value-of select=\".\"/>\r\n    </xsl:for-each>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:for-each select=\"marc:datafield[@tag=\'991\']\">\r\n        <pz:metadata type=\"holding\">\r\n    <xsl:for-each select=\"marc:subfield\">\r\n     <xsl:if test=\"position() > 1\">\r\n        <xsl:text> </xsl:text>\r\n      </xsl:if>\r\n     <xsl:value-of select=\".\"/>\r\n    </xsl:for-each>\r\n        </pz:metadata>\r\n      </xsl:for-each>\r\n\r\n      <xsl:if test=\"$open_url_resolver\">\r\n        <pz:metadata type=\"open-url\">\r\n            <xsl:call-template name=\"insert-md-openurl\" />\r\n        </pz:metadata>\r\n      </xsl:if>\r\n\r\n      <!--passthrough id data-->\r\n      <xsl:for-each select=\"pz:metadata\">\r\n          <xsl:copy-of select=\".\"/>\r\n      </xsl:for-each>\r\n\r\n    </pz:record>    \r\n  </xsl:template>\r\n\r\n  \r\n  <xsl:template match=\"text()\"/>\r\n\r\n</xsl:stylesheet>\r\n','','','','PZ','MARCXML',NULL),(4055,'XmlTransformationStep','Medium cleanup',NULL,'Medium Normalization (PZ)','<?xml version=\"1.0\"?>\r\n<xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" \r\n    xmlns:pz=\"http://www.indexdata.com/pazpar2/1.0\" \r\n    xmlns:tmarc=\"http://www.indexdata.com/turbomarc\">\r\n\r\n  <xsl:output indent=\"yes\" method=\"xml\" version=\"1.0\" encoding=\"UTF-8\" />\r\n  <xsl:template  match=\"/\">\r\n    <pz:collection>\r\n      <xsl:apply-templates/>\r\n    </pz:collection>\r\n  </xsl:template>\r\n\r\n  <xsl:template match=\"pz:record\">\r\n    <pz:record>\r\n      <xsl:apply-templates/>\r\n    </pz:record>\r\n  </xsl:template>\r\n\r\n  <xsl:template match=\"pz:metadata[@type=\'medium\']\">\r\n    <pz:metadata type=\'medium\'>\r\n      <xsl:choose>\r\n        <xsl:when \r\n     test=\". = \'article\' or . = \'audio-visual\' or . = \'article (electronic)\' or \r\n    . = \'book\' or . = \'book (electronic)\' or \r\n     . = \'electronicresource\' or . = \'electronic\' or\r\n     . = \'journal (electronic)\' or . = \'journal\' or \r\n     . = \'map (electronic)\' or . = \'map\' or \r\n     . = \'microform\' or . = \'music-score\' or . = \'music-score (electronic)\' or \r\n    . = \'newspaper\' or . = \'newspaper (electronic)\' or\r\n    . = \'recording\' or . = \'recording (electronic)\' or . = \'recording-cd\' or . = \'recording-cassette\' or . = \'recording-vinyl\' or \r\n    . = \'soundrecording\' or \r\n    . = \'thesis (electronic)\' or . = \'thesis\' or\r\n    . = \'video-dvd\' or . = \'video-vhs\' or . = \'video (electronic)\' or . = \'video\' or . = \'videorecording\' or . = \'video\' or . = \'video-blu-ray\'  or\r\n     . = \'web\' or . = \'web (eletronic)\' or\r\n     . = \'realia\' or . = \'picture\' or \r\n     . = \'other\' \r\n    \">\r\n          <xsl:value-of select=\".\"/>\r\n        </xsl:when>\r\n        <!-- Correct some typical differences -->\r\n        <xsl:when test=\". = \'sound recording(dc)\'\"> \r\n            <xsl:text>recording-cd</xsl:text>\r\n        </xsl:when>         \r\n        <xsl:when test=\". = \'videorecording(dvd)\'\">\r\n            <xsl:text>video-dvd</xsl:text>\r\n        </xsl:when>         \r\n        <xsl:when \r\n         test=\". = \'electronic resource\' or . = \'electronisk resours\' \" >\r\n          <xsl:text>electronicresource</xsl:text>\r\n        </xsl:when>\r\n        <xsl:otherwise>\r\n          <xsl:text>other</xsl:text>\r\n        </xsl:otherwise>\r\n      </xsl:choose>\r\n    </pz:metadata>\r\n  </xsl:template>\r\n  \r\n  <xsl:template match=\"pz:metadata\"> \r\n    <xsl:copy-of select=\".\" />\r\n  </xsl:template>\r\n  \r\n  <xsl:template match=\"text()\" />\r\n</xsl:stylesheet>\r\n','','','','PZ','PZ',NULL),(4057,'XmlTransformationStep','Force Web Media type',NULL,'Web Media type','<?xml version=\"1.0\"?>\r\n<xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" \r\n   xmlns:pz=\"http://www.indexdata.com/pazpar2/1.0\" \r\n    xmlns:tmarc=\"http://www.indexdata.com/turbomarc\">\r\n\r\n  <xsl:output indent=\"yes\" method=\"xml\" version=\"1.0\" encoding=\"UTF-8\" />\r\n  <xsl:template  match=\"/\">\r\n    <pz:collection>\r\n      <xsl:apply-templates/>\r\n    </pz:collection>\r\n  </xsl:template>\r\n\r\n  <xsl:template match=\"pz:record\">\r\n    <pz:record>\r\n      <xsl:apply-templates/>\r\n    </pz:record>\r\n  </xsl:template>\r\n\r\n  <xsl:template match=\"pz:metadata[@type=\'medium\']\">\r\n    <pz:metadata type=\'medium\'>web</pz:metadata>\r\n  </xsl:template>\r\n  \r\n  <xsl:template match=\"pz:metadata\"> \r\n    <xsl:copy-of select=\".\" />\r\n  </xsl:template>\r\n  \r\n  <xsl:template match=\"text()\" />\r\n</xsl:stylesheet>\r\n','','','','PZ','PZ',NULL),(4153,'XmlTransformationStep','Split by well-known delimiters',NULL,'Subject Splitter','<?xml version=\"1.0\"?>\r\n<xsl:stylesheet version=\"2.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"\r\n\r\n>\r\n  <xsl:output indent=\"yes\" method=\"xml\"/>\r\n\r\n\r\n  <xsl:template match=\"@* | node()\">\r\n    <xsl:copy>\r\n      <xsl:apply-templates select=\"@* | node()\"/>\r\n    </xsl:copy>\r\n  </xsl:template>\r\n\r\n  <xsl:template match=\"/collection/pz:record/pz:metadata[@type=\'subject\']\">\r\n    <xsl:for-each select=\"tokenize(.,\'; *|-- *| - |\\. +|, *|\\)|\\(|\\.$\')\">\r\n      <xsl:if test=\"normalize-space(.) != \'\'\">\r\n        <metadata type=\"subject\">\r\n          <xsl:value-of select=\"normalize-space(.)\"/>\r\n        </metadata>\r\n      </xsl:if>\r\n    </xsl:for-each>\r\n  </xsl:template>\r\n</xsl:stylesheet>\r\n','','','','PZ','PZ',NULL),(4157,'XmlTransformationStep','Subject 1+2 combined, remove empty  subject-long',NULL,'Extract subject 1+2, remove empty  subject-long','<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\r\n<xsl:stylesheet xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" version=\"1.0\" xmlns:pz=\"http://www.indexdata.com/pazpar2/1.0\">\r\n  <xsl:output indent=\"yes\" method=\"xml\"/>\r\n\r\n  <xsl:template match=\"@* | node()\">\r\n    <xsl:copy>\r\n      <xsl:apply-templates select=\"@* | node()\"/>\r\n    </xsl:copy>\r\n  </xsl:template>\r\n\r\n  <xsl:template match=\"pz:metadata[@type=\'subject\']\">\r\n    <xsl:call-template name=\"output-tokens\">\r\n       <xsl:with-param name=\"list\">\r\n    <xsl:value-of select=\".\"/>\r\n        </xsl:with-param>\r\n    </xsl:call-template>\r\n  </xsl:template>\r\n\r\n  <!-- remove empty subject-long -->\r\n  <xsl:template match=\"pz:metadata[@type=\'subject-long\']\">\r\n    <xsl:if test=\". and . != \'\' \">\r\n      <pz:metadata type=\"subject-long\">\r\n <xsl:value-of select=\".\"/>\r\n      </pz:metadata>\r\n    </xsl:if>\r\n  </xsl:template>\r\n\r\n  <xsl:template name=\"output-tokens\">\r\n    <xsl:param name=\"list\"/>\r\n    <xsl:variable name=\"newlist\" select=\"concat(normalize-space($list), \' -- \')\"/>\r\n    <xsl:variable name=\"first\" select=\"substring-before($newlist, \' -- \')\"/>\r\n    <xsl:variable name=\"remaining\" select=\"substring-after($newlist, \' -- \')\"/>\r\n    <xsl:variable name=\"second\" select=\"substring-before($remaining, \' -- \')\"/>\r\n\r\n    <xsl:if test=\"$first and $first != \'--\'\">\r\n      <pz:metadata type=\'subject\'>\r\n  <xsl:value-of select=\"$first\"/>\r\n <xsl:if test=\"$second and $second != \'--\' \">\r\n    <xsl:text> -- </xsl:text>\r\n   <xsl:value-of select=\"$second\"/>\r\n  </xsl:if>\r\n      </pz:metadata>\r\n    </xsl:if>\r\n  </xsl:template>\r\n</xsl:stylesheet>\r\n','','','','PZ','PZ',NULL),(4159,'XmlTransformationStep','Removing date from Author',NULL,'Author - clean date at end ','<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\r\n<xsl:stylesheet version=\"2.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" \r\n   xmlns:pz=\"http://www.indexdata.com/pazpar2/1.0\">\r\n  <xsl:template match=\"@* | node()\">\r\n    <xsl:copy>\r\n      <xsl:apply-templates select=\"@* | node()\"/>\r\n    </xsl:copy>\r\n  </xsl:template>\r\n\r\n  <xsl:template match=\"pz:metadata[@type=\'author\']\">\r\n    <xsl:variable name=\"author\" select=\"replace(string(.), \', [0-9]{4}\\-[0-9]{4}$\', \'\')\" />\r\n    <xsl:if test=\"$author and $author != \'\' \">\r\n      <pz:metadata type=\"author\">\r\n  <xsl:value-of select=\"$author\"/>\r\n      </pz:metadata>\r\n    </xsl:if>\r\n  </xsl:template>\r\n</xsl:stylesheet>','','','','PZ','PZ',NULL),(4402,'XmlTransformationStep','Map to one',NULL,'Anonymous normalization','<?xml version=\"1.0\"?>\r\n<xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" \r\n   xmlns:pz=\"http://www.indexdata.com/pazpar2/1.0\" \r\n    xmlns:tmarc=\"http://www.indexdata.com/turbomarc\">\r\n\r\n  <xsl:output indent=\"yes\" method=\"xml\" version=\"1.0\" encoding=\"UTF-8\" />\r\n  <xsl:template  match=\"/\">\r\n    <pz:collection>\r\n      <xsl:apply-templates/>\r\n    </pz:collection>\r\n  </xsl:template>\r\n\r\n  <xsl:template match=\"pz:record\">\r\n    <pz:record>\r\n      <xsl:apply-templates/>\r\n    </pz:record>\r\n  </xsl:template>\r\n\r\n  <xsl:template match=\"pz:metadata[@type=\'author\']\">\r\n    <pz:metadata type=\'author\'>\r\n      <xsl:choose>\r\n        <xsl:when \r\n     test=\". = \'ANON\'   or . = \'Anon\'   or . = \'anon\'   or \r\n     . = \'ANON)\'  or . = \'Anon)\'  or . = \'anon)\'  or \r\n    . = \'ANON.)\' or . = \'Anon.)\' or . = \'anon.)\' or\r\n                 . = \'ANON]\'  or . = \'Anon]\'  or . = \'anon]\'  or \r\n    . = \'ANON.]\' or . = \'Anon.]\' or . = \'anon.]\' or \r\n    . = \'Anon.,\' or . = \'anon). / anon\' or\r\n    . = \'ANONYMOUS\' or . = \'anonymous\' or \r\n    . = \'Anonymous (editor)\' or . = \'Anonymous Editor\' or \r\n    . = \'anonymous]\' or . = \'Anonymous]\' or . = \'ANONYMOUS]\' or\r\n     . = \'ANONYMOUS)\' or . = \'Anonymous)\' or  . = \'anonymous)\'  \r\n\r\n     \">\r\n          <xsl:text>Anonymous</xsl:text>\r\n        </xsl:when>\r\n        <xsl:otherwise>\r\n          <xsl:value-of select=\".\"/>\r\n        </xsl:otherwise>\r\n      </xsl:choose>\r\n    </pz:metadata>\r\n  </xsl:template>\r\n  \r\n  <xsl:template match=\"pz:metadata\"> \r\n    <xsl:copy-of select=\".\" />\r\n  </xsl:template>\r\n  \r\n  <xsl:template match=\"text()\" />\r\n</xsl:stylesheet>\r\n','XSLT','','','PZ','<records xmlns:pz=\"http://www.indexdata.com/pazpar2/1.0\">\r\n  <pz:record>\r\n    <pz:metadata type=\"author\">ANON</pz:metadata>\r\n  </pz:record>\r\n</records>','<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<pz:collection xmlns:pz=\"http://www.indexdata.com/pazpar2/1.0\" xmlns:tmarc=\"http://www.indexdata.com/turbomarc\">\r\n<pz:record>\r\n<pz:metadata type=\"author\">Anonymous</pz:metadata>\r\n</pz:record>\r\n</pz:collection>\r\n'),(4403,'XmlTransformationStep','Split a ; delimited list into multiple authors',NULL,'Author split by ;','<?xml version=\"1.0\"?>\r\n<xsl:stylesheet version=\"2.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"\r\n                xmlns:pz=\"http://www.indexdata.com/pazpar2/1.0\"\r\n                xmlns:tmarc=\"http://www.indexdata.com/turbomarc\">\r\n\r\n  <xsl:output indent=\"yes\" method=\"xml\" version=\"1.0\" encoding=\"UTF-8\" />\r\n  <xsl:template  match=\"/\">\r\n    <pz:collection>\r\n      <xsl:apply-templates/>\r\n    </pz:collection>\r\n  </xsl:template>\r\n\r\n  <xsl:template match=\"pz:record\">\r\n    <pz:record>\r\n      <xsl:apply-templates/>\r\n    </pz:record>\r\n  </xsl:template>\r\n\r\n  <xsl:template match=\"pz:metadata[@type=\'author\']\">\r\n      <xsl:for-each select=\"tokenize(.,\';\')\">\r\n        <pz:metadata type=\"author\"><xsl:value-of select=\"normalize-space(.)\" /></pz:metadata>\r\n      </xsl:for-each>\r\n  </xsl:template>\r\n\r\n  <xsl:template match=\"pz:metadata\">\r\n    <xsl:copy-of select=\".\" />\r\n  </xsl:template>\r\n\r\n  <xsl:template match=\"text()\" />\r\n</xsl:stylesheet>','XSLT','','','PZ','PZ',NULL),(4404,'XmlTransformationStep','Implement a previous hardcoded rule in pazpar2',NULL,'End Punctuation removal','<?xml version=\"1.0\"?>\r\n<xsl:stylesheet version=\"2.0\" \r\n  xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"\r\n  xmlns:pz=\"http://www.indexdata.com/pazpar2/1.0\" >\r\n  <xsl:output indent=\"yes\" method=\"xml\"/>\r\n\r\n\r\n  <xsl:template match=\"@* | node()\">\r\n    <xsl:copy>\r\n      <xsl:apply-templates select=\"@* | node()\"/>\r\n    </xsl:copy>\r\n  </xsl:template>\r\n\r\n  <xsl:template match=\"pz:metadata[@type=\'subject\']/text()\">\r\n    <xsl:call-template name=\"remove-characters-last\">\r\n      <xsl:with-param  name=\"input\" select=\".\" />\r\n      <xsl:with-param  name=\"characters\">,-.</xsl:with-param>\r\n    </xsl:call-template>\r\n  </xsl:template>\r\n\r\n  <xsl:template match=\"pz:metadata[@type=\'author\']/text()\">\r\n    <xsl:call-template name=\"remove-characters-last\">\r\n      <xsl:with-param  name=\"input\" select=\".\" />\r\n      <xsl:with-param  name=\"characters\">,-.</xsl:with-param>\r\n    </xsl:call-template>\r\n  </xsl:template>\r\n\r\n\r\n  <xsl:template name=\"remove-characters-last\">\r\n    <xsl:param name=\"input\" />\r\n    <xsl:param name=\"characters\"/>\r\n    <xsl:variable name=\"lastcharacter\" select=\"substring($input,string-length($input))\" />\r\n    <xsl:choose>\r\n      <xsl:when test=\"$characters and $lastcharacter and contains($characters, $lastcharacter)\">\r\n        <xsl:call-template name=\"remove-characters-last\">\r\n          <xsl:with-param  name=\"input\" select=\"substring($input,1, string-length($input)-1)\" />\r\n          <xsl:with-param  name=\"characters\" select=\"$characters\" />\r\n        </xsl:call-template>\r\n      </xsl:when>\r\n      <xsl:otherwise>\r\n        <xsl:value-of select=\"$input\"/>\r\n      </xsl:otherwise>\r\n    </xsl:choose>\r\n  </xsl:template>\r\n</xsl:stylesheet>\r\n','XSLT','','','PZ','PZ',NULL),(4405,'XmlTransformationStep','',NULL,'Create ID (if missing)','<xsl:stylesheet version=\"2.0\" \r\n  xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"\r\n  xmlns:pz=\"http://www.indexdata.com/pazpar2/1.0\" >\r\n  <xsl:output indent=\"yes\" method=\"xml\"/>\r\n\r\n  <xsl:template match=\"@* | node()\">\r\n    <xsl:copy>\r\n      <xsl:apply-templates select=\"@* | node()\"/>\r\n    </xsl:copy>\r\n  </xsl:template>\r\n\r\n  <xsl:template match=\"pz:record\"> \r\n    <pz:record>\r\n      <xsl:if test=\"not(pz:metadata[@type=\'id\'])\">\r\n        <pz:metadata type=\"id\">\r\n          <xsl:value-of select=\"pz:metadata[@type=\'author\']\" />\r\n          <xsl:text> - </xsl:text>\r\n          <xsl:value-of select=\"pz:metadata[@type=\'title\']\" />\r\n          <xsl:text> - </xsl:text>\r\n          <xsl:value-of select=\"pz:metadata[@type=\'date\']\" />\r\n        </pz:metadata>\r\n        <xsl:apply-templates />\r\n      </xsl:if>\r\n      <xsl:if test=\"pz:metadata[@type=\'id\']\">\r\n        <xsl:apply-templates />\r\n      </xsl:if>\r\n    </pz:record>\r\n  </xsl:template>\r\n\r\n</xsl:stylesheet>\r\n','XSLT','','','PZ','PZ',NULL),(4406,'XmlTransformationStep','',NULL,'Force Media Type - Book (electronic)','<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\r\n<xsl:stylesheet version=\"2.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" \r\n   xmlns:pz=\"http://www.indexdata.com/pazpar2/1.0\"\r\n>\r\n  <xsl:template match=\"@* | node()\">\r\n    <xsl:copy>\r\n      <xsl:apply-templates select=\"@* | node()\"/>\r\n    </xsl:copy>\r\n  </xsl:template>\r\n\r\n  <xsl:template match=\"pz:metadata[@type=\'medium\']\">\r\n      <pz:metadata type=\"medium\">book (electronic)</pz:metadata>\r\n  </xsl:template>\r\n</xsl:stylesheet>\r\n','XSLT','','','PZ','PZ',NULL),(6704,'XmlTransformationStep','test from jonathan',NULL,'medknow','<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<xsl:stylesheet\r\n    version=\"1.0\"\r\n    xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"\r\n    xmlns:pz=\"http://www.indexdata.com/pazpar2/1.0\"\r\n    xmlns:JOURNAL_ARTICLE=\"http://www.medknow.com/dtd\"\r\n    xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n    xmlns:mml=\"http://www.w3.org/1998/Math/MathML\">\r\n\r\n \r\n\r\n  <xsl:output indent=\"yes\"\r\n              method=\"xml\"\r\n              version=\"1.0\"\r\n              encoding=\"UTF-8\"/>\r\n  \r\n  <xsl:template match=\"*/text()[(normalize-space())]\" />\r\n  \r\n  <xsl:template match=\"@* | node()\">\r\n    <xsl:copy>\r\n      <xsl:apply-templates select=\"@* | node()\"/>\r\n    </xsl:copy>\r\n  </xsl:template>\r\n\r\n  \r\n\r\n  <xsl:template name=\"padDatePart\">\r\n    <xsl:param name=\"Input\"/>\r\n    <xsl:choose>\r\n      <xsl:when test=\"string-length($Input) = 2\">\r\n        <xsl:value-of select=\"$Input\"/>\r\n      </xsl:when>\r\n      <xsl:when test=\"string-length($Input) = 1\">\r\n        <xsl:value-of select=\"concat(0,$Input)\"/>\r\n      </xsl:when>\r\n      <xsl:otherwise>\r\n\r\n      </xsl:otherwise>\r\n    </xsl:choose>\r\n  </xsl:template>\r\n\r\n  <xsl:template name=\"createTimestamp\">\r\n    <xsl:param name=\"Year\"/>\r\n    <xsl:param name=\"Month\"/>\r\n    <xsl:param name=\"Day\"/>\r\n\r\n    <xsl:variable name=\"FxYear\">\r\n      <xsl:choose>\r\n        <xsl:when test=\"$Year\">\r\n          <xsl:value-of select=\"$Year\"/>\r\n        </xsl:when>\r\n        <xsl:otherwise>9999</xsl:otherwise>\r\n      </xsl:choose>\r\n    </xsl:variable>\r\n    <xsl:variable name=\"FxMonth\">\r\n      <xsl:choose>\r\n        <xsl:when test=\"string-length($Month) = 0\">01</xsl:when>\r\n        <xsl:when test=\"$Month\">\r\n          <xsl:value-of select=\"$Month\"/>\r\n        </xsl:when>\r\n\r\n        <xsl:otherwise>01</xsl:otherwise>\r\n      </xsl:choose>\r\n    </xsl:variable>\r\n    <xsl:variable name=\"FxDay\">\r\n      <xsl:choose>\r\n        <xsl:when test=\"string-length($Day) = 0\">01</xsl:when>\r\n        <xsl:when test=\"$Day\">\r\n          <xsl:value-of select=\"$Day\"/>\r\n        </xsl:when>\r\n\r\n        <xsl:otherwise>01</xsl:otherwise>\r\n      </xsl:choose>\r\n    </xsl:variable>\r\n    <xsl:value-of select=\"concat($FxYear,\'-\',$FxMonth,\'-\',$FxDay,\'T23:59:59Z\')\"/>\r\n  </xsl:template>\r\n\r\n  <xsl:template match=\"JOURNAL_ARTICLE\">\r\n    <pz:collection>\r\n      <xsl:apply-templates/>\r\n    </pz:collection>\r\n  </xsl:template>\r\n  \r\n  <xsl:template match=\"JOURNAL_ARTICLE\">\r\n      <pz:record>\r\n\r\n               \r\n        <xsl:for-each select=\"ARTICLE/DOI\">\r\n          <pz:metadata type=\"electronic-unique-identifier\">DOI:<xsl:value-of select=\".\"/></pz:metadata>\r\n          <pz:metadata type=\"internal-electronic-unique-identifier\">\r\n            <xsl:value-of select=\".\"/>\r\n          </pz:metadata>\r\n          <pz:metadata type=\"id\">medkn:<xsl:value-of select=\".\"/></pz:metadata>\r\n        </xsl:for-each>\r\n\r\n\r\n\r\n        <pz:metadata type=\"allfields\">\r\n          <xsl:value-of select=\"normalize-space(string(.))\"/>\r\n        </pz:metadata>\r\n\r\n        <pz:metadata type=\"description\">\r\n          <xsl:value-of select =\"ARTICLE/ABSTRACT\"/>\r\n        </pz:metadata>\r\n        <xsl:for-each select=\"ARTICLE/AUTHOR_LIST/AUTHOR\">\r\n          <pz:metadata type=\"author\">\r\n            <xsl:value-of select=\"normalize-space(LAST_NAME)\"/>\r\n            <xsl:if test=\"FIRST_NAME\">\r\n              <xsl:value-of select=\"concat(\', \', normalize-space(FIRST_NAME))\"/>\r\n            </xsl:if>\r\n          </pz:metadata>\r\n        </xsl:for-each>\r\n\r\n        <xsl:variable name=\"date-month\">\r\n          <xsl:call-template name=\"padDatePart\">\r\n            <xsl:with-param name=\"Input\" select=\"JOURNAL/PUBLICATION_DETAILS/PUBLICATION_DATE/MONTH\"/>\r\n          </xsl:call-template>\r\n        </xsl:variable>\r\n\r\n        <xsl:variable name=\"date-day\">\r\n          <xsl:call-template name=\"padDatePart\">\r\n            <xsl:with-param name=\"Input\" select=\"JOURNAL/PUBLICATION_DETAILS/PUBLICATION_DATE/DAY\"/>\r\n          </xsl:call-template>\r\n        </xsl:variable>\r\n\r\n        <xsl:variable name=\"datetimestamp\">\r\n          <xsl:call-template name=\"createTimestamp\">\r\n            <xsl:with-param name=\"Year\" select=\"JOURNAL/PUBLICATION_DETAILS/PUBLICATION_DATE/YEAR\"/>\r\n            <xsl:with-param name=\"Month\" select=\"$date-month\"/>\r\n            <xsl:with-param name=\"Day\" select=\"$date-day\"/>\r\n          </xsl:call-template>\r\n        </xsl:variable>\r\n\r\n        <pz:metadata type=\"date-timestamp\">\r\n          <xsl:value-of select=\"$datetimestamp\"/>\r\n        </pz:metadata>\r\n\r\n        <pz:metadata type=\"date-day\">\r\n          <xsl:value-of select=\"$date-day\"/>\r\n        </pz:metadata>\r\n        <pz:metadata type=\"date-month\">\r\n          <xsl:value-of select=\"$date-month\"/>\r\n        </pz:metadata>\r\n        <pz:metadata type=\"date-year\">\r\n          <xsl:value-of select=\"JOURNAL/PUBLICATION_DETAILS/PUBLICATION_DATE/YEAR\"/>\r\n        </pz:metadata>\r\n\r\n        <pz:metadata type=\"date\">\r\n          <xsl:value-of select=\"/JOURNAL/PUBLICATION_DETAILS/PUBLICATION_DATE/YEAR\"/>\r\n          <xsl:if test=\"//PUBLICATION_DATE/MONTH\">\r\n            <xsl:value-of select=\"concat(\'-\',$date-month)\"/>\r\n            <xsl:if test=\"//PUBLICATION_DATE/DAY\">\r\n              <xsl:value-of select=\"concat(\'-\',$date-day)\"/>\r\n            </xsl:if>\r\n          </xsl:if>\r\n        </pz:metadata>\r\n\r\n        <!-->xsl:for-each select=\"//ARTICLE/DOI\">\r\n          <pz:metadata type=\"electronic-unique-identifier\">\r\n            <xsl:value-of select=\"concat(\'DOI:\',.)\"/>\r\n          </pz:metadata>\r\n          <pz:metadata type=\"internal-electronic-unique-identifier\">\r\n            <xsl:value-of select=\".\"/>\r\n          </pz:metadata>\r\n          \r\n        </xsl:for-each-->\r\n\r\n        <pz:metadata type=\"item-URL\">\r\n          <xsl:value-of select=\"ARTICLE/SUMMARY_URL\"/>\r\n        </pz:metadata>\r\n        <pz:metadata type=\"journal-name\">\r\n          <xsl:value-of select=\"JOURNAL/JOURNAL_TITLE\"/>\r\n        </pz:metadata>\r\n        <pz:metadata type=\"journal-start-page\">\r\n          <xsl:value-of select=\"ARTICLE/FIRST_PAGE\"/>\r\n        </pz:metadata>\r\n        <xsl:if test=\"ARTICLE/FIRST_PAGE and ARTICLE/LAST_PAGES\">\r\n          <pz:metadata type=\"journal-pages\">\r\n            <xsl:value-of select=\"concat(ARTICLE/FIRST_PAGE,\'-\', ARTICLE/LAST_PAGE)\"/>\r\n          </pz:metadata>\r\n        </xsl:if>\r\n        <pz:metadata type=\"journal-volume\">\r\n          <xsl:value-of select=\"JOURNAL/PUBLICATION_DETAILS/VOLUME\"/>\r\n        </pz:metadata>\r\n        <pz:metadata type=\"journal-issue\">\r\n          <xsl:value-of select=\"JOURNAL/PUBLICATION_DETAILS/ISSUE\"/>\r\n        </pz:metadata>\r\n\r\n        <xsl:if test=\"//EISSN and string-length(//EISSN) != 0\">\r\n          <pz:metadata type=\"online-identifier\">\r\n            <xsl:value-of select=\"concat(\'EISSN:\', //EISSN)\"/>\r\n          </pz:metadata>\r\n        </xsl:if>\r\n        <xsl:if test=\"//ISSN and string-length(//ISSN) != 0\">\r\n          <pz:metadata type=\"online-identifier\">\r\n            <xsl:value-of select=\"concat(\'ISSN:\', //ISSN)\"/>\r\n          </pz:metadata>\r\n        </xsl:if>\r\n        <pz:metadata type=\"publication-format\">Online</pz:metadata>\r\n        <pz:metadata type=\"publication-document-type\">Article</pz:metadata>\r\n        <pz:metadata type=\"publisher-name\">\r\n          <xsl:value-of select=\"//PUBLISHER_NAME\"/>\r\n        </pz:metadata>\r\n\r\n        <xsl:for-each select=\"//KEYWORDS/KEYWORD\">\r\n          <pz:metadata type=\"subject\">\r\n            <xsl:value-of select=\".\"/>\r\n          </pz:metadata>\r\n        </xsl:for-each>\r\n\r\n        <pz:metadata type=\"title\">\r\n          <xsl:value-of select=\"//ARTICLE_TITLE\"/>\r\n        </pz:metadata>\r\n\r\n      </pz:record>\r\n\r\n  </xsl:template>\r\n  <xsl:template match=\"text()\"/>\r\n  \r\n</xsl:stylesheet>',NULL,'','',NULL,'',''),(8103,'XmlTransformationStep','mkh-439',NULL,'mkh-439','<xsl:stylesheet version=\"2.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"\r\n  xmlns:dtyf=\"http://www.datypic.com/functions\"\r\n  xpath-default-namespace=\"http://www.datypic.com/books/ns\">\r\n\r\n  <xsl:output method=\"html\"/>\r\n\r\n  <xsl:template match=\"books\">\r\n    <html>\r\n      <body>\r\n        <table border=\"1\">\r\n          <xsl:apply-templates/>\r\n        </table>\r\n      </body>\r\n    </html>\r\n  </xsl:template>\r\n\r\n  <xsl:template match=\"book\">\r\n    <tr>\r\n      <td><xsl:value-of select=\"title\"/></td>\r\n      <td><xsl:value-of select=\"dtyf:format-person-name(author/person)\"/></td>\r\n      <td><xsl:value-of select=\"price\"/></td>\r\n    </tr>\r\n  </xsl:template>\r\n\r\n  <xsl:function name=\"dtyf:format-person-name\">\r\n    <xsl:param name=\"person\"/>\r\n    <xsl:value-of select=\"$person/last\"/>\r\n    <xsl:text>, </xsl:text>\r\n    <xsl:value-of select=\"$person/first\"/>\r\n  </xsl:function>\r\n</xsl:stylesheet>',NULL,'','',NULL,'<books xmlns=\"http://www.datypic.com/books/ns\">\r\n  <book>\r\n    <title>The East-West House: Noguchi\'s Childhood in Japan</title>\r\n    <author>\r\n      <person>\r\n        <first>Christy</first>\r\n        <last>Hale</last>\r\n      </person>\r\n    </author>\r\n    <price>9.95</price>\r\n    <discount>1.95</discount>\r\n  </book>\r\n  <book>\r\n    <title>Buckminster Fuller and Isamu Noguchi: Best of Friends</title>\r\n    <author>\r\n      <person>\r\n        <first>Shoji</first>\r\n        <last>Sadao</last>\r\n      </person>\r\n    </author>\r\n    <price>65.00</price>\r\n    <discount>5.00</discount>\r\n  </book>\r\n</books>','<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<cities>\r\n<city name=\"milan\" country=\"italy\" pop=\"5\"/>\r\n<city name=\"paris\" country=\"france\" pop=\"7\"/>\r\n<city name=\"munich\" country=\"germany\" pop=\"4\"/>\r\n<city name=\"lyon\" country=\"france\" pop=\"2\"/>\r\n<city name=\"venice\" country=\"italy\" pop=\"1\"/>\r\n</cities>\r\n'),(8107,'CustomTransformationStep','mkh-439-log',NULL,'mkh-439-log','{\r\n \"indent\": \"true\"\r\n}',NULL,'','','com.indexdata.masterkey.localindices.harvest.messaging.XmlLoggerRouter','',''),(8155,'XmlTransformationStep','xsl 2.0 test',NULL,'MKH-436','<xsl:transform \r\n  xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"\r\n  xmlns:str=\"http://user.com/namespace\"\r\n  version=\"2.0\"\r\n  exclude-result-prefixes=\"str\">\r\n\r\n<xsl:function name=\"str:reverse\">\r\n  <xsl:param name=\"sentence\"/>\r\n  <xsl:result \r\n     select=\"if (contains($sentence, \' \'))\r\n             then concat(str:reverse(substring-after($sentence, \' \')),\r\n                         \' \',\r\n                         substring-before($sentence, \' \'))\r\n             else $sentence\"/>             \r\n</xsl:function>\r\n\r\n<xsl:template match=\"/\">\r\n<output>\r\n  <xsl:value-of select=\"str:reverse(\'DOG BITES MAN\')\"/>\r\n</output>\r\n</xsl:template>\r\n\r\n</xsl:transform>',NULL,'','',NULL,'<cities>\r\n  <city name=\"milan\"  country=\"italy\"   pop=\"5\"/>\r\n  <city name=\"paris\"  country=\"france\"  pop=\"7\"/>\r\n  <city name=\"munich\" country=\"germany\" pop=\"4\"/>\r\n  <city name=\"lyon\"   country=\"france\"  pop=\"2\"/>\r\n  <city name=\"venice\" country=\"italy\"   pop=\"1\"/>\r\n</cities>',''),(8202,'XmlTransformationStep','xsl 2.0 test 2',NULL,'MKH436','<?xml version=\"1.0\"?>\r\n<xsl:stylesheet version=\"2.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\">\r\n\r\n  <xsl:output indent=\"yes\" method=\"xml\" version=\"1.0\" encoding=\"UTF-8\" />\r\n<xsl:template match=\"files\">\r\n\r\n  <xsl:for-each-group select=\"file\" group-by=\"@project\">\r\n    \r\n    <xsl:for-each select=\"current-group()\">\r\n      <xsl:value-of select=\"@name\"/>, <xsl:value-of select=\"@size\"/>\r\n      <xsl:text>\r\n</xsl:text>\r\n    </xsl:for-each>\r\n\r\n    <xsl:text>average size for </xsl:text>\r\n    <xsl:value-of select=\"current-grouping-key()\"/>\r\n    <xsl:text> group: </xsl:text>\r\n    <xsl:value-of select=\"avg(current-group()/@size)\"/>\r\n    <xsl:text>\r\n\r\n</xsl:text>\r\n  </xsl:for-each-group>\r\n\r\n</xsl:template></xsl:stylesheet>\r\n',NULL,'','',NULL,'<files>\r\n  <file name=\"swablr.eps\"     size=\"4313\" project=\"mars\"/>\r\n  <file name=\"batboy.wks\"     size=\"424\"  project=\"neptune\"/>\r\n  <file name=\"potrzebie.dbf\"  size=\"1102\" project=\"jupiter\"/>\r\n  <file name=\"kwatz.xom\"      size=\"43\"   project=\"jupiter\"/>\r\n  <file name=\"paisley.doc\"    size=\"988\"  project=\"neptune\"/>\r\n  <file name=\"ummagumma.zip\"  size=\"2441\" project=\"mars\"/>\r\n  <file name=\"schtroumpf.txt\" size=\"389\"  project=\"mars\"/>\r\n  <file name=\"mondegreen.doc\" size=\"1993\" project=\"neptune\"/>\r\n  <file name=\"gadabout.pas\"   size=\"685\"  project=\"jupiter\"/>\r\n</files>','<?xml version=\"1.0\" encoding=\"UTF-8\"?>swablr.eps, 4313\nummagumma.zip, 2441\nschtroumpf.txt, 389\naverage size for mars group: 2381\n\nbatboy.wks, 424\npaisley.doc, 988\nmondegreen.doc, 1993\naverage size for neptune group: 1135\n\npotrzebie.dbf, 1102\nkwatz.xom, 43\ngadabout.pas, 685\naverage size for jupiter group: 610\n\n'),(8752,'XmlTransformationStep','',NULL,'url to electronic-url','<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\r\n<xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"\r\n   xmlns:pz=\"http://www.indexdata.com/pazpar2/1.0\">\r\n\r\n  <xsl:template match=\"@* | node()\">\r\n    <xsl:copy>\r\n      <xsl:apply-templates select=\"@* | node()\"/>\r\n    </xsl:copy>\r\n  </xsl:template>\r\n\r\n  <xsl:template match=\"pz:metadata[@type=\'url\']\">\r\n     <pz:metadata type=\"id\">\r\n              <xsl:value-of select=\".\"/>\r\n      </pz:metadata>\r\n     <pz:metadata type=\"electronic-url\">\r\n              <xsl:value-of select=\".\"/>\r\n      </pz:metadata>\r\n  </xsl:template>\r\n\r\n</xsl:stylesheet>\r\n',NULL,'PZ','PZ',NULL,'','');
/*!40000 ALTER TABLE `step` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `STORAGE`
--

DROP TABLE IF EXISTS `STORAGE`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `STORAGE` (
  `ID` bigint(20) NOT NULL,
  `DTYPE` varchar(31) DEFAULT NULL,
  `ENABLED` tinyint(1) DEFAULT '0',
  `CURRENTSTATUS` varchar(4096) DEFAULT NULL,
  `NAME` varchar(255) DEFAULT NULL,
  `MESSAGE` varchar(4096) DEFAULT NULL,
  `TRANSFORMATION` varchar(100) DEFAULT NULL,
  `DESCRIPTION` varchar(4096) DEFAULT NULL,
  `URL` varchar(255) DEFAULT NULL,
  `CUSTOMCLASS` varchar(1024) DEFAULT NULL,
  `LOGLEVEL` varchar(30) DEFAULT NULL,
  `MAILLEVEL` varchar(30) DEFAULT NULL,
  `MAILADDRESS` varchar(1000) DEFAULT NULL,
  `BULKSIZE` bigint(20) DEFAULT '1000',
  `TIMEOUT` smallint(4) DEFAULT NULL,
  `RETRYCOUNT` tinyint(3) DEFAULT NULL,
  `RETRYWAIT` smallint(4) DEFAULT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `storage` WRITE;
/*!40000 ALTER TABLE `storage` DISABLE KEYS */;
INSERT INTO `storage` VALUES (102,'SolrStorageEntity',1,'TODO','Solr (tomcat) @ lui-dev',NULL,NULL,'Solr in Tomcat at lui','http://lui-dev.indexdata.com/solr/',NULL,NULL,NULL,NULL,1000,60,2,60),(103,'SolrStorageEntity',1,'TODO','Solr (tomcat) @ localhost',NULL,NULL,'Solr in Tomcat at localhost:8585','http://localhost:8585/solr/',NULL,NULL,NULL,NULL,1000,60,2,60),(1511,'SolrStorageEntity',1,'TODO','Solr (tomcat) @ donut',NULL,NULL,'Solr running in tomcat on donut','http://donut.indexdata.com:8080/solr',NULL,NULL,NULL,NULL,1000,60,2,60);
/*!40000 ALTER TABLE `storage` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `TRANSFORMATION`
--

DROP TABLE IF EXISTS `TRANSFORMATION`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `TRANSFORMATION` (
  `ID` bigint(20) NOT NULL,
  `DTYPE` varchar(31) DEFAULT NULL,
  `DESCRIPTION` varchar(4096) DEFAULT NULL,
  `ENABLED` tinyint(1) DEFAULT '0',
  `NAME` varchar(255) DEFAULT NULL,
  `PARALLEL` tinyint(1) DEFAULT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `transformation` WRITE;
/*!40000 ALTER TABLE `transformation` DISABLE KEYS */;
INSERT INTO `transformation` VALUES (10,'BasicTransformation','Converting from OAI-PMH(DC) to PZ',1,'OAI-PMH(DC) to PZ (medium book)',NULL),(20,'BasicTransformation','Converting from OAI-PMH(MARCXML) to PZ',1,'OAI-PMH(MARCXML) to PZ',NULL),(2953,'BasicTransformation','',1,'Marc XML',NULL),(2954,'BasicTransformation','Converts from Turbo Marc XML to PZ',1,'Turbo Marc',NULL),(3102,'BasicTransformation','Gutenberg to MARC21, MARC21 to PZ2, Subject split (retain level 1 and 2). Clean out empty subject-longs',1,'Gutenberg (Subject level 1 and 2)',NULL),(3103,'BasicTransformation','',1,'DC to MARC21 (slim)',NULL),(3603,'BasicTransformation','',1,'Wikipedia Abstract 2 PZ',NULL),(4002,'BasicTransformation','Marc XML 2 PZ',1,'Marc XML 2 PZ (full)',NULL),(4202,'BasicTransformation','',1,'Gutenberg (PZ)',NULL),(4702,'BasicTransformation','adsasd',0,'Test 1',NULL),(4802,'BasicTransformation','sdfadad',0,'Test 2',0),(5052,'BasicTransformation','',1,'TurboMarc with identifier fix',NULL),(5203,'BasicTransformation','',1,'OAI-PMH(DC) to PZ, simple',NULL),(6703,'BasicTransformation','test from jonathan',1,'medknow',0),(8118,'BasicTransformation','MKH-439',0,'MKH-439',0),(8152,'BasicTransformation','test xslt 2.0',1,'MKH-436',0),(8753,'BasicTransformation','',1,'Connector to PZ',0);
/*!40000 ALTER TABLE `transformation` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `TRANSFORMATION_STEP`
--

DROP TABLE IF EXISTS `TRANSFORMATION_STEP`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `TRANSFORMATION_STEP` (
  `ID` bigint(20) NOT NULL,
  `DTYPE` varchar(31) DEFAULT NULL,
  `POSITION` int(11) DEFAULT NULL,
  `TRANSFORMATION_ID` bigint(20) NOT NULL,
  `STEP_ID` bigint(20) NOT NULL,
  PRIMARY KEY (`ID`),
  KEY `FK_TRANSFORMATION_STEP_STEP_ID` (`STEP_ID`),
  KEY `TRANSFORMATION_STEP_TRANSFORMATION_ID` (`TRANSFORMATION_ID`),
  CONSTRAINT `FK_TRANSFORMATION_STEP_STEP_ID` FOREIGN KEY (`STEP_ID`) REFERENCES `step` (`ID`),
  CONSTRAINT `FK_TRANSFORMATION_STEP_TRANSFORMATION_ID` FOREIGN KEY (`TRANSFORMATION_ID`) REFERENCES `transformation` (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

LOCK TABLES `transformation_step` WRITE;
/*!40000 ALTER TABLE `transformation_step` DISABLE KEYS */;
INSERT INTO `transformation_step` VALUES (1,'TransformationStepAssociation',1,10,10),(2,'TransformationStepAssociation',1,20,20),(3,'TransformationStepAssociation',2,20,22),(3002,'TransformationStepAssociation',1,2953,22),(3004,'TransformationStepAssociation',1,2954,3005),(3152,'TransformationStepAssociation',1,3102,3153),(3154,'TransformationStepAssociation',1,3103,3155),(3652,'TransformationStepAssociation',1,3603,3653),(4052,'TransformationStepAssociation',1,4002,4053),(4054,'TransformationStepAssociation',2,10,4055),(4056,'TransformationStepAssociation',2,3603,4057),(4156,'TransformationStepAssociation',4,3102,4157),(4158,'TransformationStepAssociation',5,3102,4159),(4352,'TransformationStepAssociation',4,20,4055),(4355,'TransformationStepAssociation',2,4202,4157),(4357,'TransformationStepAssociation',3,2953,4055),(4358,'TransformationStepAssociation',2,3102,22),(4452,'TransformationStepAssociation',4,2953,4402),(4454,'TransformationStepAssociation',6,2953,4405),(4455,'TransformationStepAssociation',6,2953,4404),(4456,'TransformationStepAssociation',3,2953,4403),(4457,'TransformationStepAssociation',3,4202,4406),(4458,'TransformationStepAssociation',4,4202,4402),(4459,'TransformationStepAssociation',5,3102,4055),(4461,'TransformationStepAssociation',6,3102,4402),(4462,'TransformationStepAssociation',3,10,4402),(4463,'TransformationStepAssociation',4,10,4159),(4464,'TransformationStepAssociation',4,20,4402),(4465,'TransformationStepAssociation',5,20,4159),(4657,'TransformationStepAssociation',5,10,4157),(4658,'TransformationStepAssociation',6,10,4406),(4752,'TransformationStepAssociation',1,4702,3153),(4753,'TransformationStepAssociation',2,4702,22),(4754,'TransformationStepAssociation',3,4702,4055),(4755,'TransformationStepAssociation',4,4702,4402),(4756,'TransformationStepAssociation',5,4702,4159),(4757,'TransformationStepAssociation',1,4802,3155),(4758,'TransformationStepAssociation',2,4802,22),(4759,'TransformationStepAssociation',3,4802,4055),(4760,'TransformationStepAssociation',6,4802,4402),(4762,'TransformationStepAssociation',5,4802,4159),(4763,'TransformationStepAssociation',4,4802,4403),(5102,'TransformationStepAssociation',1,5052,3005),(5103,'TransformationStepAssociation',2,5052,4405),(5252,'TransformationStepAssociation',1,5203,10),(5253,'TransformationStepAssociation',3,5203,4402),(5254,'TransformationStepAssociation',4,5203,4159),(5255,'TransformationStepAssociation',2,5203,4055),(6705,'TransformationStepAssociation',1,6703,6704),(8119,'TransformationStepAssociation',3,8118,3003),(8154,'TransformationStepAssociation',1,8152,8107),(8352,'TransformationStepAssociation',6,8118,8103),(8502,'TransformationStepAssociation',2,8118,8107),(8553,'TransformationStepAssociation',3,8118,4053),(8754,'TransformationStepAssociation',1,8753,8752);
/*!40000 ALTER TABLE `transformation_step` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;


/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2015-06-22 13:30:28
-- Sample data added from new dump on 2016-05-01, except for data for STORAGE, which were taken from NE's local dev.