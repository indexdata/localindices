<connector><metaData><meta name="cfbuilder_version" content="2.20.0"/></metaData><task name="harvest" polymorphic="false"><step name="nav_to" version="4.0"><stepConf type="object"><reqVer type="string">4.0</reqVer><wait type="object"><active type="bool">true</active><detector type="string">progressListen</detector><timeout type="number">30000</timeout><errorOnTimeout type="bool">true</errorOnTimeout></wait><rawxml type="bool">false</rawxml><hashonly type="bool">false</hashonly><usejp type="bool">false</usejp><jp type="object"/><usedArgs type="array"/><url type="string">http://digital2.library.ucla.edu/sheetmusic/</url><inline type="object"><pruned type="string">http://digital2.library.ucla.edu/sheetmusic/</pruned><paths type="array"/></inline></stepConf></step><step name="click" version="1.0"><stepConf type="object"><reqVer type="string">1.0</reqVer><target type="object"><frames type="array"/><xpath type="string">id("advancedSearchButton")</xpath></target><wait type="object"><active type="bool">false</active><detector type="string">progressListen</detector><timeout type="number">30000</timeout><errorOnTimeout type="bool">true</errorOnTimeout></wait></stepConf></step><step name="click" version="1.0"><stepConf type="object"><reqVer type="string">1.0</reqVer><target type="object"><frames type="array"/><xpath type="string">id("digitizedContent")</xpath></target><wait type="object"><active type="bool">false</active><detector type="string">progressListen</detector><timeout type="number">30000</timeout><errorOnTimeout type="bool">true</errorOnTimeout></wait></stepConf></step><step name="click" version="1.0"><stepConf type="object"><reqVer type="string">1.0</reqVer><target type="object"><namespaces type="object"/><frames type="array"/><xpath type="string">id("advancesearchForm")//input[contains(@type, "submit")]</xpath></target><wait type="object"><active type="bool">true</active><detector type="string">progressListen</detector><timeout type="number">30000</timeout><errorOnTimeout type="bool">true</errorOnTimeout></wait></stepConf></step><step name="set_value" version="4.0"><stepConf type="object"><reqVer type="string">4.0</reqVer><dest type="object"><frames type="array"/><xpath type="string">id("rows")</xpath></dest><param type="object"/><constant type="string">100</constant><usejp type="bool">false</usejp><onempty type="string">empty</onempty></stepConf></step><step name="extract" version="3.0"><stepConf type="object"><reqVer type="string">3.0</reqVer><node type="object"><frames type="array"/><xpath type="string">id("searchResults")/DIV[@class="pager"][2]</xpath></node><sourceAttribute type="string">textContent</sourceAttribute><attributes type="array"><item type="string">class</item><item type="string">style</item></attributes><jsonPath type="object"><path type="string">$.temp</path><key type="string">max</key><append type="number">3</append></jsonPath></stepConf></step><step name="retry" version="0.2" alt="yes"><stepConf type="object"><reqVer type="string">0.2</reqVer><delay type="number">100</delay><maxCount type="number">6</maxCount><stepsBack type="number">1</stepsBack></stepConf></step><step name="transform" version="3.1"><stepConf type="object"><reqVer type="string">3.1</reqVer><usedArgs type="array"/><container type="string"></container><in type="object"><path type="string">$.temp</path><key type="string">max</key></in><regex type="string">.*- (\d+) out of.*</regex><outputs type="array"><item type="object"><replacement type="string">$1</replacement><jp type="object"><append type="number">3</append><unchanged type="bool">true</unchanged><key type="string">max</key><path type="string">$.temp</path></jp><inline type="object"><pruned type="string">$1</pruned><paths type="array"/></inline></item></outputs><icase type="bool">false</icase><global type="bool">false</global><cleanWhitespace type="bool">true</cleanWhitespace><noMatchFail type="bool">true</noMatchFail><noMatchNoop type="bool">false</noMatchNoop></stepConf></step><step name="set_result" version="1.1"><stepConf type="object"><reqVer type="string">1.1</reqVer><constant type="string">0</constant><result type="string"></result><advanced type="bool">false</advanced><eval type="bool">false</eval><jsonPath type="object"><path type="string">$.temp</path><key type="string">count</key><append type="number">3</append></jsonPath></stepConf></step><step name="while" version="1.0"><stepConf type="object"><reqVer type="string">1.0</reqVer><conditions type="array"><item type="object"><operands type="array"><item type="object"><usejp type="bool">true</usejp><jp type="object"><path type="string">$.temp</path><key type="string">count</key></jp></item><item type="object"><usejp type="bool">true</usejp><value type="string"></value><jp type="object"><path type="string">$.temp</path><key type="string">max</key></jp></item></operands><operator type="string">lt</operator></item></conditions></stepConf><block name="do" label="do"><step name="set_result" version="1.1"><stepConf type="object"><reqVer type="string">1.1</reqVer><constant type="string">jsonContainer{$.temp.count}</constant><result type="string"></result><advanced type="bool">true</advanced><eval type="bool">false</eval><jsonPath type="object"><path type="string">$.output</path><key type="string">resumptiontokens</key><append type="number">1</append></jsonPath></stepConf></step><step name="set_result" version="1.1"><stepConf type="object"><reqVer type="string">1.1</reqVer><constant type="string">{$.temp.count} + 1</constant><result type="string"></result><advanced type="bool">true</advanced><eval type="bool">true</eval><jsonPath type="object"><path type="string">$.temp</path><key type="string">count</key><append type="number">3</append></jsonPath></stepConf></step></block></step><test name="Default"/></task><task name="detail" polymorphic="false"><step name="click" version="1.0"><stepConf type="object"><reqVer type="string">1.0</reqVer><target type="object"><namespaces type="object"/><frames type="array"/><xpath type="string">id("jsonContainer0")/following-sibling::div/button</xpath></target><wait type="object"><active type="bool">true</active><detector type="string">justObserve</detector><timeout type="number">30000</timeout><errorOnTimeout type="bool">true</errorOnTimeout></wait></stepConf></step><step name="extract" version="3.0"><stepConf type="object"><node type="object"><namespaces type="object"/><frames type="array"/><xpath type="string">id("jsonContainer0")/TBODY/TR/TD[contains(text(), "Creator")]/following-sibling::td</xpath></node><sourceAttribute type="string">textContent</sourceAttribute><attributes type="array"><item type="string">class</item><item type="string">style</item></attributes><jsonPath type="object"><path type="string">$.output</path><key type="string">author</key><append type="number">1</append></jsonPath><extractAll type="bool">true</extractAll></stepConf></step><test name="Default"><arg name="detailtoken" value="jsonContainer0"/></test></task></connector>